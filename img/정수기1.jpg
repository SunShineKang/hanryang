





<!DOCTYPE html>
<html lang="ko">
<head>
	<!-- Layout 적용 화면              -->
	<!-- "indexGoodsDetailN.jsp" *(파트너몰 제외 전체몰)사용중* -->
	<!-- "indexGoodsDetail.partnerN.jsp" (파트너몰)사용중   -->
	<meta name="viewport" content="viewport-fit=cover">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	
	<!-- 상품상세페이지 JSP title 하드코딩 수정 -->
	
		
			<title>SK매직몰 | 초소형 직수 정수기_셀프관리	 WPUJAC104SWH</title>
		
		<title>SK매직몰</title>
	
	
	
	<!-- SNS Meta Data -->
	<meta property="fb:app_id" content="312235159111834" />
	<meta property="og:title" content="초소형 직수 정수기_셀프관리	 | WPUJAC104SWH | " />
	<meta property="og:type" content="website" />
	<meta property="og:url" content="https://www.skmagic.com/goods/indexGoodsDetail?goodsId=G000067991" />
	<meta property="og:site_name" content="SK매직몰" />
	<meta property="og:description" content="초소형 직수 정수기_셀프관리	" />
	<meta property="og:image" content="https://static.skmagic.com/image/goods/G000067991/G000067991_2.png" />
	
	<!-- 회원 유형 Meta Data -->    
	<meta property="mbrPt_mbrNo" content="0" />
    <meta property="mbrPt_stId" content="" />
    <meta property="mbrPt_patternCd" content="" />
	
	<!-- 패밀리몰 회사정보 Meta Data -->    
		
		
	<!-- Groobee Meta Data -->
	
		<meta property="groobee:member_type" content="1"/> 
		
	
	<!-- Groobee 카테고리 -->
	<!--        -->
	<!--	<meta property="groobee:parameter:cate_no" content="100000005"/>    -->
	<!--        -->
	
	<meta name="keywords" content="">
	<meta name="description" content="초소형 직수 정수기_셀프관리	">
	<meta name="format-detection" content="telephone=no">
	
	
	<!-- Google Search Console verificate start -->
	<meta name="google-site-verification" content="cXh_G4ttB81PhW39H_-jww6f4yHJqHqIBB7feKL3d70" />
	<!-- Google Search Console verificate end -->
	<!-- Naver Search Console verificate start -->
	<meta name="naver-site-verification" content="67d1e40a26620cd75791bd315b442f7bd02f7118"/>
	<!-- Naver Search Console verificate end -->
	<!-- Google Merchant Manage Key start(2021.02.18) -->
	<meta name="google-site-verification" content="D66ua7twNeVjr2SoZGvsUgEWyBve0tPmQarM4gUMCys" />
	<!-- Google Merchant Manage Key end(2021.02.18) -->
	<!-- Google Merchant Manage Key start(2022.11.10) -->
	<meta name="google-site-verification" content="CXzhMW7ndE1MTE-DZ8FObFKnYyVRWfbkFMhmxm5Ld-Y" />
	<!-- Google Merchant Manage Key end(2022.11.10) -->
	<meta name="google-site-verification" content="zuU2FaByQxzaYKqgYcz_o5bz4PawmRD657yvU5_dYxs" />
	
	<meta name="facebook-domain-verification" content="6haumrnldg7bfjxsuzvtse5ckyfsjc" />
	<link rel="shortcut icon" type="image/x-icon" href="https://static.skmagic.com/pc/asset/images/common/favicon.ico">
	
	<script type="text/javascript" src="/asset/js/jquery/jquery-1.11.3.min.js"></script>
	<script type="text/javascript" src="/asset/js/jquery/jquery-ui.min.js"></script>
	<script type="text/javascript" src="/asset/js/jquery/jquery.blockUI.js"></script>
	<script type="text/javascript" src="/asset/js/jquery/jquery.countdown.min.js"></script>
	<script type="text/javascript" src="/asset/js/jquery/jquery.mask.min.js"></script>
	<script type="text/javascript" src="/asset/js/plugins.js"></script>
	<script type="text/javascript" src="/asset/js/common.js"></script>
	<script type="text/javascript" src="/asset/js/common_new.js"></script>
	<script type="text/javascript" src="/asset/js/web.util.js"></script>
	<script type="text/javascript" src="/asset/js/login.js"></script>
	<script type="text/javascript" src="/asset/js/spritespin.js"></script>
	<script type="text/javascript" src="/asset/js/default_2022.js"></script>
	
		
		<link rel="stylesheet" type="text/css" href="/asset/css/skmagic_style.css">
		<script type="text/javascript" src="/asset/js/default_new.js"></script>
		
		
		
		
		
	
	<script type="text/javascript" src="/asset/js/slick.min.js"></script>
	
	<script type="text/javascript" src="/common/kakao/jsView"></script>
	<script type="text/javascript" src="/asset/js/includeSNS.js"></script>
	
	
	<script type="text/javascript" src="/asset/js/googleanalytic.js"></script>
	
	
	<!-- Google Tag Manager dataLayer for global header -->
	<script type="text/javascript" src="/asset/js/gadatalayer.js"></script>
	<script type='text/javascript'>
	setGADataLayerInit('');	
	dataLayer = [{
	'dimension1':  'PC_WEB'  //디바이스_엑세스유형
	}];
	</script>
	<!-- End Google Tag Manager Data Layer -->
	
	<!-- Google Analytics start -->
	<script>
	
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	
	// 매직몰운영
	  ga('create', 'UA-101349507-3', 'auto');
	  //SK구릅사운영
	  ga('create', 'UA-101349507-1', 'auto',{'name':'rollup'});
	  
	  //T맴버쉽
	  ga('create', 'UA-115981738-4', 'auto', 'tmembership');	  
	  
	  //다이렉트렌탈이벤트 PC
	  ga('create', 'UA-115981738-1', 'auto', 'pcdirectRental');
	  
	  ga('create', 'UA-115981738-3', 'auto', 'tmembership07');
	  
	  ga('set','dimension1', 'PC_WEB'); //디바이스_액세스유형
	  
	  ga('tmembership.send', 'pageview');
	  ga('pcdirectRental.send', 'pageview');
	  ga('tmembership07.send', 'pageview');
	  
	</script>
	<!-- Google Analytics end -->
	
	
	
	<!-- 20221116 신규 Google Tag Manager -->
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-MC6PTZB');</script>
	<!-- End Google Tag Manager -->
	
	<!-- Google Tag Manager start -->
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-KFPHN7B');</script>
	<!-- End Google Tag Manager end -->
	
	
	<!-- Facebook Pixel Code -->
	<script>
	  !function(f,b,e,v,n,t,s)
	  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?n.callMethod.apply(n,arguments):n.queue.push(arguments)};
	  if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
	  n.queue=[];t=b.createElement(e);t.async=!0;
	  t.src=v;s=b.getElementsByTagName(e)[0];
	  s.parentNode.insertBefore(t,s)}(window, document,'script', 'https://connect.facebook.net/en_US/fbevents.js');
	  fbq('init', '194466915805076');
	  fbq('track', 'PageView');
	</script>
	<noscript><img height="1" width="1" style="display:none"  src=https://www.facebook.com/tr?id=194466915805076&ev=PageView&noscript=1/></noscript>
	<!-- End Facebook Pixel Code -->	 
	
	
	
	
	<!-- Facebook Pixel Code(페이스북/인스타 광고 트래킹) -->
	<script>
		!function(f,b,e,v,n,t,s)
		{if(f.fbq)return;n=f.fbq=function(){n.callMethod?n.callMethod.apply(n,arguments):n.queue.push(arguments)};
		if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
		n.queue=[];t=b.createElement(e);t.async=!0;
		t.src=v;s=b.getElementsByTagName(e)[0];
		s.parentNode.insertBefore(t,s)}(window,document,'script','https://connect.facebook.net/en_US/fbevents.js');
		fbq('init', '2558856984350912'); fbq('track', 'PageView');
	</script>
	<!-- Facebook Pixel Code(위더스IMC) -->
	<script>
		!function(f,b,e,v,n,t,s)
		{if(f.fbq)return;n=f.fbq=function(){n.callMethod?n.callMethod.apply(n,arguments):n.queue.push(arguments)};
		if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
		n.queue=[];t=b.createElement(e);t.async=!0;
		t.src=v;s=b.getElementsByTagName(e)[0];
		s.parentNode.insertBefore(t,s)}(window,document,'script','https://connect.facebook.net/en_US/fbevents.js');
		fbq('init', '851712435594025'); fbq('track', 'PageView');
	</script>
	<noscript>
		<img height="1" width="1" src="https://www.facebook.com/tr?id=2558856984350912&ev=PageView&noscript=1"/>
	</noscript>
	<!-- End Facebook Pixel Code -->
	
</head>
<body>
<!-- skip navigation : s -->
<div class="skipNavi">
    <a href="#content"><span>본문 바로가기</span></a>
    <a href="#gnb"><span>주메뉴 바로가기</span></a>
    <a href="#goMypage"><span>마이페이지 바로가기</span></a>
</div>
<!-- skip navigation : e -->


<!-- wrap : s -->

	
	
<div class="wrap prdDetails">	
	







<!-- Global site tag (gtag.js) - 20210215 Google Ads -->
<script async src="https://www.googletagmanager.com/gtag/js?id=AW-455254603"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-101349507-3"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-189281783-1"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-WDSLFJXKWN"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=AW-840191805"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());

gtag('config', 'AW-455254603');
// SK매직몰 사업부
gtag('config', 'AW-840191805');

gtag('config', 'UA-101349507-3');

gtag('config', 'UA-189281783-1');

gtag('config', 'G-WDSLFJXKWN');
</script>

<!-- Global site tag (gtag.js) end -->
<script type="text/javascript">
    $(document).ready(function() {

    	BrowserVersionCheck(); 
    	
        

        // 검색어 입력 후 엔터 시 검색
        $("#topSearch").keypress(function(event) {
            var keyCode = event.keyCode ? event.keyCode : event.which ? event.which : event.charCode;
            if (keyCode == 13) {
                indexSearchHd();
            }
        });
        
        // 최근검색어
        $(".btn-search").click(function() {
        	indexSearchHd();
		});

        fn_liInit();
    }); // End Ready
    
    function goIr() {
    	var returnurl = '';
    	
    	returnurl = 'https://company.skmagic.com/'; 
    	window.open(returnurl, "_blank");
    }

	function goService() {
    	var returnurl = '';
    	
    	returnurl = 'https://service.skmagic.com/web/sso/login.do'; //사이트 env 확인
		
		var mbrNo = '';
		var msSafeKey = '';
		var tySafeKey = '';
		
		
		
		
 		if(mbrNo !='' && mbrNo !='0'){
			var options = {
	                url : "/findMemberLoginToken"
	              , data :  {mbrNo : "0"}
	              , async : false
	              , done : function(data){
	            	  		returnurl += "?siteId=MAL010";
 							if(msSafeKey != ''){
								returnurl += "&safeKey="+msSafeKey;
							}
							else if(tySafeKey != ''){
								returnurl += "&safeKey="+tySafeKey;
							}
							else{
								
							}
							
		        			if(data.ssoToken != null && data.ssoToken != ''){
		        				returnurl += "&token="+data.ssoToken;
		        			}
		        			window.open(returnurl, "_blank");
	  	  				}
			};
			ajax.call(options);
		}else{
			window.open(returnurl, "_blank");
		}
	}
    
    function searchKeyword(srchWord){
    	$("#topSearch").val(srchWord);
    	indexSearchHd();
    }

    // 검색어 설정
    function fn_searchHeadWord(searchWord){
        $("#topSearch").val(searchWord);
        indexSearchHd();
    }

	// 인기검색어 검색
	function indexSearchHd() {
		//[SR2403-00147] Header 검색영역 수정 작업
		if($("#topSearch").val().replaceAll(" ", "") == ""){
			alert("검색어를 입력 해 주세요.");
			return false;
		}

        //GA SCRIPTS
        fn_gatag('', '', '', null);

        var $form = $('<form></form>');
        $form.attr('action', '/search/searchResult');
        $form.attr('method', 'post');
        $form.appendTo('body');

        var indexSrchWord = $('<input type="hidden" value="'+$("#topSearch").val()+'" name="srchWord">');
        var indexSrchWordBefore = $('<input type="hidden" value="'+$("#topSearchBefore").val()+'" name="srchWordBefore">');
        $form.append(indexSrchWord);
        $form.append(indexSrchWordBefore);
        $form.submit();
    }

    var myInfo = {
        selectMyGoodsList : function(){
            var addHtml = "";
            var options = {
                    url : "/mypage/selectRecentDeliveryList"
                    , data : $("#myForm").serialize()
                    , async : false
                    , done : function(data){
                        if(data.mergeOrderList.length > 0){

                            var imgDomain = data.view.imgDomain;

                            var orderDetailGoods = data.mergeOrderList;
                            for(var i=0; i< orderDetailGoods.length; i++){

                                var o = orderDetailGoods[i];

                                addHtml += "<li>";
                                addHtml += "	<a href=\"/mypage/rental/indexRentalList\">";
                                addHtml += "		<div class=\"img\">";
                                addHtml += tag.goodsImage(imgDomain, o.goodsId, o.imgPath, o.imgSeq, 40, o.goodsNm);
                                addHtml += "		</div>";
                                addHtml += "        <div class=\"name\">"+ o.goodsNm+"</div></a>";
								addHtml += "</li>";
							
                            }
                            $("#myMagicList").html(addHtml);

                        }else{
                            addHtml ="<div class=\"icoMsg nothing\">";
                            addHtml += "    <p>렌탈중이거나 최근 구매한<br>제품이 없습니다.</p>";
                            addHtml +="</div>";
                            $(".magicSlide .tit").next().html(addHtml);
                        }
                    }
                };
            ajax.call(options);
        }
        ,noticeToMe : function(){
            var addHtml = "";
            var options = {
                    url : "/mypage/showNoticeToMe"
                    , data : $("#myForm").serialize()
                    , done : function(data){
                        var noticeMessageTP = data.noticeMessageTP;
                        var noticeMessage = data.noticeMessage;
                        if(noticeMessageTP =='BIRTH'){
                            addHtml += "<p class=\"txtNotice\">";
                            addHtml += "<strong>GUEST님!</strong><span class=\"em\">생일 축하드립니다.</span><br>"
                                        +" 생일 기념 쿠폰으로 즐거운 쇼핑하세요 !<br>"
                                        +"<a href=\"/event/indexCouponZone\" class=\"link\">쿠폰 보기</a>";
                            addHtml +="</p>";

                        }else if(noticeMessageTP =='RENTAL'){
                            addHtml += "<p class=\"txtNotice\">";
                            addHtml += "<p class=\"txtNotice\">";
                            addHtml += "<strong>GUEST님!</strong><span class=\"em\">지금 렌탈 중인 제품이 있는 분들만 이용할 수 있는 '크로스 패키지'를 아시나요?</span><br>"
                                        +"<a href=\"/event/eventPackage\" class=\"link\">자세히 보기</a>";
                            addHtml +="</p>";

                        }else if (noticeMessageTP =='COMMENT'){
                            addHtml += "<p class=\"txtNotice\">";
                            addHtml += "<strong>GUEST님!</strong><span class=\"em\">최근에 구입하신 제품은 어떠셨나요? </span><br>"
                           
                  		   		addHtml += "지금 후기를 남겨 주시면 감사 포인트를 드려요!<br>  ";
                 		   
                 		    addHtml +="<a href=\"/mypage/service/indexGoodsComment\" class=\"link\">자세히 보기</a>";
                            addHtml +="</p>";
                        }else{
                            if(noticeMessageTP != null){
                                var noticeStr = "";
                                var lettNo = "";
                                if(noticeMessage != null){
                                    noticeStr += data.noticeMessage[0].ttl;
                                    lettNo = data.noticeMessage[0].curLettNo;
                                }
                                addHtml += "<p class=\"txtNotice\">";
                                addHtml += "<span class=\"em\"><a href=\"/customer/notice/noticeView?lettNo="+lettNo+"\">"+noticeStr+"</a></span>";
                                addHtml +="</p>";
                            }
                        }

                        $(".myBtm").html(addHtml); // 다른페이지에도 영향을 미쳐서 바꿈
                    }
                };
            ajax.call(options);
        }
        ,getCpCnt : function(){
            var options = {
                        url : "/mypage/benefit/listMemberListCoupon"
                            , data : $("#myForm").serialize()
                            , done : function(data){
                                var cpCnt = 0;
                                if(data.cpCnt > 0){
                                    cpCnt = data.cpCnt;
                                }
                                $("#cpCnt").html(cpCnt);
                            }

            };
            ajax.call(options);
        }
    }

    function fn_liInit(){
        /* setTimeout(function(){
        myMagicSlidUI()
        }, 120000); */
        myMagicSlidUI()

    }
    
    /*************************
     * 다이렉트 렌탈
     *************************/
    function goDirectRental(cartId){
    	var mbrNo = 0;
    	if ( mbrNo == 0) {
    		gfnOpenLayer($('#layOrdLoginCp'), null);
    		return false;
    	}
    	
    	var options = {
    		url : "/order/setOrderInfo",
    		data : {
    			"cartIds" : [cartId]
    			, "prmtNo" : $("#maxDcPrmtNo_"+cartId).val()
    			, "rntlTpCd" : "10"
    		},
    		done : function(data){
    			location.href = "/order/rentalOrderPayment";
    		}
    	};
    	ajax.call(options);
    }
    

	
</script>

<!-- 라이브커머스용 js 호출(매직몰 한정) 라이브커머스 사라지는 경우 아래 스크립트 제거 -->


<!-- [SR2403-00142] 리스트 조회 처리 변경 작업 : 라이브 스트림 호출 제거 -->




<!-- 검색엔진 : s -->
<script type="text/javascript" src="/asset/js/hangul.js"></script>
<script type="text/javascript" src="/asset/js/search.js"></script>
<!-- 검색엔진 : e -->
<div id="newHeader" class="">
	<!-- 20201215 수정 s (1월 6일 이후 노출 css 에서 숨김 처리)-->
	<!-- 글로벌 탭 메뉴 s -->
	
	
	
	
	
	
		
			<div class="globalTabArea">
				<a href="javascript:goIr();" class="tab hout">SK매직<span class="line"></span></a>
			<a href="javascript:;" class="tab active">SK매직몰<span class="line"></span></a>
			<a href="javascript:goService();" class="tab hout">서비스센터</a>
			</div>
		
		
	
	<!-- //글로벌 탭 메뉴 e
	<!-- //20201215 수정 e -->
	<div class="header-area">
			
	            
	            	<h1><a href="/main">SK매직몰</a></h1>
	            
	            
	            
	            
	            
	            
	        
	        
	        <div class="header-global-wrap">
				
               		
						<div class="header-member_wrap logout"> <!--login/logout 으로 구별-->
							<!-- 로그인 전 -->
							<div class="header-member log_off">													
								<div class="item-cell"><a href="#login" onclick="fn_gatag('', '', '로그인', null); callLoginPage('PSN', ''); return false;" class="btn-header-member-item"><em>로그인</em></a></div>							
								
								<div class="item-cell"><a href="/skmagic/indexB2B" class="btn-header-member-item">기업/관공서</a></div>
								
									<div class="item-cell"><a href="/customer/notice/notice" class="btn-header-member-item">공지사항</a></div>

							</div>
						</div>
					
                	
            	
				<div class="header-search">
					<fieldset>
						<legend>상단 검색 입력 폼</legend>
						<div class="search-input">
							<!-- 20201112 수정 : s -->
							<!--
							//	id값 추가
							-->
							<input type="text"  id="topSearch"  name="srchWord"  placeholder="">
							<input type="hidden" id="topSearchBefore"name="srchWordBefore" value=""/>
						
							<!-- 20201112 수정 : e -->
							<button type="button" class="btn-search" ><span>검색</span></button>
	
							<!-- [NEW 2020 고도화] 전체 수정 : s -->
	
							<!-- 20201112 수정 : s -->
							<!--
							// 1. search-autocom-wrap , search-autocom , search-default 클래스를 가진 태그에 inline style 방식으로 display:none 으로 기본으로 안보이게 처리합니다.
							-->
							<div class="search-autocom-wrap" style="display:none;">
								<div class="search-autocom" style="display:none;">
									<div class="search-autocom-inner">
										<!-- 자동완성 카테고리 노출 시 -->
										<div class="search-autocom-category"><a href="#" class="btn-search-autocom-category"></a></div>
										<!-- 
										// - 카테고리 내용이 없을 때에는 search-autocom-category 안의 내용이 없게 처리 
										<div class="search-autocom-category"></div>
										-->
										<!-- //자동완성 카테고리 노출 시 -->
										<!-- 자동완성 리스트 -->
										<div class="search-autocom-list">
											<ul id="search-autocom-list">
											</ul>
										</div>
										<!-- //자동완성 리스트 -->
									</div>
								</div>
								<div class="search-default"  style="display:none;">
									<div class="search-keyword">
										<div class="tabArea">
											<ul class="tab">
												<li class="on"><a href="#">최근 검색어</a></li>
												<li><a href="#">인기 검색어</a></li>
											</ul>
											<div class="tabCont">
												<div class="search-latest-keyword">
													<div class="icoMsg nothing"  id="recentSearchWordNo"  style="display:none;">
														<p>최근 검색한 내역이 없습니다.</p>
													</div>
													<ul class="search-keyword-list" id="search-keyword-list1">
													</ul>
													<button type="button" class="btn-all-item-del"><span>전체삭제</span></button>
												</div>
											</div>
											<div class="tabCont">
												<div class="search-best-keyword">
													<ul class="search-keyword-list"  id="search-keyword-popular">
													</ul>
												</div>
											</div>
										</div>
									</div>
								</div>							
								<div class="search-bottom">
									<button type="button" class="btn-search-close"><span>닫기</span></button>
								</div>
							</div>
							<!-- 20201112 수정 : e -->
							<!-- [NEW 2020 고도화] 전체 수정 : e -->
	
						</div>
					</fieldset>
				</div>
				
				<a href="#" onclick="fn_gatag('', '', '장바구니', '/order/indexCartList'); return false;" class="header-cart">
					<img src="https://static.skmagic.com/pc/asset/images/icon/icon_header_cart.png" alt="">
					<em>0</em>
				</a>
			</div>
			
<!-- 			<div class="header-global-wrap"> -->
<!-- 				<div class="header-member"> -->
				

<!-- 					<div class="item-cell"><a href="/skmagic/indexB2B"  class="btn-header-member-item">기업/관공서</a></div> -->




<!-- 					<div class="item-cell"><a href="/customer/notice/notice"  class="btn-header-member-item">공지사항</a></div> -->
<!-- 				</div> -->
<!-- 				<div class="header-utils"> -->



<!-- 				</div> -->
<!-- 			</div> -->
	</div>
	<nav id="newGnb" class="gnb-wrap">
		<div class="gnb-data">									
				<ul class="gnb-menu-list">		
				
					
						
						<li class="list-cell"><a href="/event/indexEventDetail?eventNo=3068" class="btn-gnb-menu-item">다이렉트렌탈</a></li> 			
						
						
					
						
						
						<li class="list-cell"><a class="btn-gnb-menu-item">제품</a></li> 			
						
					
						
						<li class="list-cell"><a href="/event/indexEvent" class="btn-gnb-menu-item">이벤트</a></li> 			
						
						
					
						
						<li class="list-cell"><a href="/event/indexEventDetail?eventNo=4628" class="btn-gnb-menu-item">정기구독</a></li> 			
						
						
					
						
						
						<li class="list-cell"><a class="btn-gnb-menu-item">브랜드스토리</a></li> 			
						
					
						
						<li class="list-cell"><a href="/customer/indexCustomer" class="btn-gnb-menu-item">고객지원</a></li> 			
						
						
					
				
				</ul>
				<ul class="gnb-benefit">
					
			            
							<li class="list-cell"><a href="/event/indexEventDetail?eventNo=1408" class="btn-gnb-benefit-item">회원혜택</a></li>						
							<li class="list-cell"><a href="/event/indexCouponZone" class="btn-gnb-benefit-item">쿠폰존</a></li>						
							<li class="list-cell"><a href="/event/indexEventDetail?eventNo=1008" class="btn-gnb-benefit-item">사은품혜택</a></li>						
							<li class="list-cell"><a href="/event/indexEventDetail?eventNo=828" class="btn-gnb-benefit-item">카드혜택</a></li>	
						
				     	
				        
			            
			            
			            
			        	
				</ul>				
		</div>
		<div class="wrapper_gnb_ctgr">
			
				
					<div class="gnb-category-menu">					
						<div class="gnb-category-cell gnb-category-title">
							<h3>다이렉트렌탈</h3>
						</div>
						
					</div>
				
					<div class="gnb-category-menu">					
						<div class="gnb-category-cell gnb-category-title">
							<h3>제품</h3>
						</div>
						
							
								<div class="gnb-category-cell gnb-category-product">
									
										<a href="/event/indexEventDetail?eventNo=6828"><h3>신제품</h3></a>
									
									
									<ul class="gnb-category-list">
										
											
												
													<li><a href="/event/indexEventDetail?eventNo=6828">초소형 직수정수기</a></li>
												
												
											
										
									</ul>
								</div>
							
								<div class="gnb-category-cell gnb-category-product">
									
										<a href="/goods/indexGoodsList?dispClsfNo=100000005&mstDispClsfNo=100000003&dispLvl=2"><h3>정수기</h3></a>
									
									
									<ul class="gnb-category-list">
										
											
												
													<li><a href="/goods/indexGoodsList?dispClsfNo=100000005&mstDispClsfNo=100000003&dispLvl=2&goodsFilterList=6">얼음 정수기</a></li>
												
												
											
												
													<li><a href="/goods/indexGoodsList?dispClsfNo=100000005&mstDispClsfNo=100000003&dispLvl=2&goodsFilterList=1">직수 정수기</a></li>
												
												
											
												
													<li><a href="/goods/indexGoodsList?dispClsfNo=100000005&mstDispClsfNo=100000003&dispLvl=2&goodsFilterList=2">대용량 정수기</a></li>
												
												
											
												
													<li><a href="/goods/indexGoodsList?dispClsfNo=1000000227&mstDispClsfNo=1000000219&dispLvl=2">필터구독 정수기</a></li>
												
												
											
										
									</ul>
								</div>
							
								<div class="gnb-category-cell gnb-category-product">
									
										<a href="/goods/indexGoodsList?dispClsfNo=100000010&mstDispClsfNo=100000004&dispLvl=2"><h3>공기청정기</h3></a>
									
									
									<ul class="gnb-category-list">
										
											
												
													<li><a href="/goods/indexGoodsList?dispClsfNo=100000010&mstDispClsfNo=100000004&dispLvl=2&goodsFilterList=23">11~20평</a></li>
												
												
											
												
													<li><a href="/goods/indexGoodsList?dispClsfNo=100000010&mstDispClsfNo=100000004&dispLvl=2&goodsFilterList=24">21~30평</a></li>
												
												
											
										
									</ul>
								</div>
							
								<div class="gnb-category-cell gnb-category-product">
									
										<a href="/goods/indexGoodsList?dispClsfNo=100000024&mstDispClsfNo=100000004&dispLvl=2"><h3>비데</h3></a>
									
									
									<ul class="gnb-category-list">
										
											
												
													<li><a href="/goods/indexGoodsList?dispClsfNo=100000024&mstDispClsfNo=100000004&dispLvl=2">비데</a></li>
												
												
											
										
									</ul>
								</div>
							
								<div class="gnb-category-cell gnb-category-product">
									
										<a href="/goods/indexGoodsList?dispClsfNo=1000000212&mstDispClsfNo=1000000182&dispLvl=2"><h3>일시불 구매</h3></a>
									
									
									<ul class="gnb-category-list">
										
											
												
													<li><a href="/goods/indexGoodsList?dispClsfNo=1000000212&mstDispClsfNo=1000000182&dispLvl=2">정수기</a></li>
												
												
											
										
									</ul>
								</div>
							
								<div class="gnb-category-cell gnb-category-product">
									
									
										<a><h3>매트리스</h3></a>
									
									<ul class="gnb-category-list">
										
											
												
													<li><a href="/goods/indexGoodsList?dispClsfNo=1000000245&mstDispClsfNo=1000000182&dispLvl=2">매트리스</a></li>
												
												
											
												
													<li><a href="/goods/indexGoodsList?dispClsfNo=1000000246&mstDispClsfNo=1000000182&dispLvl=2">프레임</a></li>
												
												
											
										
									</ul>
								</div>
							
								<div class="gnb-category-cell gnb-category-product">
									
									
										<a><h3>주방/생활가전</h3></a>
									
									<ul class="gnb-category-list">
										
											
												
													<li><a href="/goods/indexGoodsList?dispClsfNo=100000015&mstDispClsfNo=100000003&dispLvl=2">인덕션</a></li>
												
												
											
												
													<li><a href="/goods/indexGoodsList?dispClsfNo=100000014&mstDispClsfNo=100000003&dispLvl=2">가스레인지</a></li>
												
												
											
												
													<li><a href="/goods/indexGoodsList?dispClsfNo=100000018&mstDispClsfNo=100000003&dispLvl=2">전자레인지</a></li>
												
												
											
												
													<li><a href="/goods/indexGoodsList?dispClsfNo=1000000301&mstDispClsfNo=100000004&dispLvl=2">제습기</a></li>
												
												
											
										
									</ul>
								</div>
							
								<div class="gnb-category-cell gnb-category-product">
									
										<a href="/event/indexEventDetail?eventNo=5488"><h3>M스토랑</h3></a>
									
									
									<ul class="gnb-category-list">
										
											
												
													<li><a href="/goods/indexGoodsList?dispClsfNo=1000000264&mstDispClsfNo=1000000263&dispLvl=2">전체 제품보기</a></li>
												
												
											
												
													<li><a href="/goods/indexGoodsList?dispClsfNo=1000000265&mstDispClsfNo=1000000263&dispLvl=2">한식</a></li>
												
												
											
												
													<li><a href="/goods/indexGoodsList?dispClsfNo=1000000266&mstDispClsfNo=1000000263&dispLvl=2">양식</a></li>
												
												
											
												
													<li><a href=" /goods/indexGoodsList?dispClsfNo=1000000267&mstDispClsfNo=1000000263&dispLvl=2">중식ㆍ일식</a></li>
												
												
											
												
													<li><a href="/goods/indexGoodsList?dispClsfNo=1000000268&mstDispClsfNo=1000000263&dispLvl=2">분식ㆍ야식</a></li>
												
												
											
										
									</ul>
								</div>
							
								<div class="gnb-category-cell gnb-category-product">
									
									
										<a><h3>필터/구성품</h3></a>
									
									<ul class="gnb-category-list">
										
											
												
													<li><a href="/goods/indexGoodsList?dispClsfNo=1000000241&mstDispClsfNo=100000002&dispLvl=2">정수기 필터</a></li>
												
												
											
												
													<li><a href="/goods/indexGoodsList?dispClsfNo=1000000108&mstDispClsfNo=100000002&dispLvl=2">공기청정기 필터</a></li>
												
												
											
												
													<li><a href="/goods/indexGoodsList?dispClsfNo=1000000112&mstDispClsfNo=100000002&dispLvl=2">비데 필터</a></li>
												
												
											
												
													<li><a href="/goods/indexGoodsList?dispClsfNo=1000000111&mstDispClsfNo=100000002&dispLvl=2">식기세척기 세제</a></li>
												
												
											
												
													<li><a href="/goods/indexGoodsList?dispClsfNo=1000000110&mstDispClsfNo=100000002&dispLvl=2">식기세척기 구성품</a></li>
												
												
											
												
													<li><a href="/goods/indexGoodsList?dispClsfNo=1000000109&mstDispClsfNo=100000002&dispLvl=2">인덕션 스탠드</a></li>
												
												
											
												
													<li><a href="/goods/indexGoodsList?dispClsfNo=100000020&mstDispClsfNo=100000002&dispLvl=2">인덕션 용기</a></li>
												
												
											
												
													<li><a href="/goods/indexGoodsList?dispClsfNo=1000000256&mstDispClsfNo=100000002&dispLvl=2">음식물처리기 구성품</a></li>
												
												
											
										
									</ul>
								</div>
							
						
					</div>
				
					<div class="gnb-category-menu">					
						<div class="gnb-category-cell gnb-category-title">
							<h3>이벤트</h3>
						</div>
						
					</div>
				
					<div class="gnb-category-menu">					
						<div class="gnb-category-cell gnb-category-title">
							<h3>정기구독</h3>
						</div>
						
					</div>
				
					<div class="gnb-category-menu">					
						<div class="gnb-category-cell gnb-category-title">
							<h3>브랜드스토리</h3>
						</div>
						
							
								<div class="gnb-category-cell gnb-category-product">
									
										<a href="/brandstory/story/indexStory"><h3>스토리</h3></a>
									
									
									<ul class="gnb-category-list">
										
									</ul>
								</div>
							
								<div class="gnb-category-cell gnb-category-product">
									
										<a href="/brandstory/review/indexReview"><h3>베스트리뷰</h3></a>
									
									
									<ul class="gnb-category-list">
										
									</ul>
								</div>
							
						
					</div>
				
					<div class="gnb-category-menu">					
						<div class="gnb-category-cell gnb-category-title">
							<h3>고객지원</h3>
						</div>
						
					</div>
				
			
		</div>
	</nav>
</div>
	

    <!-- header : e -->
    <!-- container : s -->
    










<script type="text/javascript" src="/asset/js/member.js"></script>
<script type="text/javascript" charset="UTF-8" src="//t1.daumcdn.net/kas/static/kp.js"></script>
<!--
	[차세대대응개발]
	OASYS-108-API3
-->




	

	

	
		
		
		
	

























<script type="text/javascript">
	
	/*
	 * 페이지 변수 선언
	 */
	var tmpNextUrl = "";

	// 멤버십 간편상담 신청 S ========================================================================
	function mbrshConsultReg(){
		// validation
		if(!validateGoodsInquiry.validateMbrNm($("#layMbrshBuyConsult input[id='apctNm']"))){
			$("#layBuyConsult input[id='apctNm']").focus(); return;
		}
		// 연락처 체크
		if(!validateGoodsInquiry.validateMobile($("#layMbrshBuyConsult input[id='telNo']"))){
			$("#layMbrshBuyConsult input[id='telNo']").focus(); return;
		}
		// mbrshInfoMemo
		if (WebUtil.isNull($("#layMbrshBuyConsult #mbrshInfoMemo").val()) == true) {
			$("#layMbrshBuyConsult #mbrshInfoMemoError").show(); return;
		}
		// 필수 동의 여부 체크
		if ($("#layMbrshBuyConsult #agreeMbrshConsult").is(":checked") == false) {
			$("#layMbrshBuyConsult #txtErrAgreeMsg").show(); return; 
		}
		
		// params
		var apctNm = $("#layMbrshBuyConsult input[id='apctNm']").val();
		var telNo = $("#layMbrshBuyConsult input[id='telNo']").val();
		var cnsltMdaCd = "10"; //PC
		var cnsltRegUrl = $(location).attr('href').substring(0,$(location).attr('href').indexOf("?")); // 상담등록URL
		var goodsInfo = "^초소형 직수 정수기_셀프관리	^G000067991^WPUJAC104SWH";
		var type = $("input[name='layerBuyTp']:checked").data("txt");
		var memoContent = $("#layMbrshBuyConsult #mbrshInfoMemo").val() + type + goodsInfo;
		var clctReqPsbYn2 = $("input[id=clctReqPsbYn2]").is(":checked") ? "Y" : "N";
		var mbrshType = $("input[name='layerBuyTp']:checked").val() == "mbrshApt" ? "20" : "10";
		var mcEmplId = $("#layMbrshBuyConsult input[id='roMcEmplId']").val();							// pdh.2019.01.04
		
		var consultInfo = {
				"apctNm" : apctNm // 신청자명
				, "telNo" : telNo // 신청자전화번호
				, "memoContent" : memoContent // 메모내용
				, "cnsltRegUrl" : cnsltRegUrl // 상담등록URL
				, "cnsltMdaCd" : cnsltMdaCd // 상담매체코드 :
				, "rntlBnftT" : "N" // T멤버십 회원이에요. YN
				, "rntlBnftB" : "N" // 지금 브로드밴드 인터넷을 쓰고 있어요.
				, "rntlBnftBN" : "N" // 브로드밴드 인터넷을 신규 가입하여 결합하고 싶어요.
				, "clctReqYn" : clctReqPsbYn2 // 폐가전수거여부YN
				, "rntlJoinTpCd" : "" // 렌탈가입유형
				, "rntlTpCd" : "" // 렌탈유형
				, "rntlCtrtClsfNo" : "" // 렌탈계약분류번호 (프로모션의 계약분류번호)
				, "prdtCd" : "" // 제품코드
				, "crsPreCtNo" : "" // 크로스이전계약번호
				, "mbrshGoodsYn" : "Y"  // 맴버십 상담 여부
				, "mbrshType" : mbrshType // 맴버십 타입 10: 맴버십 포함 | 20: 맴버십 미포함 
				, "mcEmplId" : mcEmplId // 추천MC번호. 2019.01.04										
			};

		var options = {
				url : "/order/insertSimpleRentalConsult",
				data : consultInfo,
				done : function(data){
					if(data.result == "0000"){
						alert("간편상담이 접수되었습니다. ");
					}
					else {
						alert(data.msg);
					}
					$("#layMbrshBuyConsult .btnLayerClose").click();
				}
			};
			ajax.call(options);
	}
	// 멤버십 간편상담 신청 E ========================================================================
		
	$(function(){
		// 색상옵션 아이템인 경우 
		
		
		// 색상옵션 단품 사전판매 임시 처리
    	
		
		
		
		$('.newProductViewSlide').addClass('open');

		newProductViewSliderState = true;
		newProductViewSlider = $('.newProductViewSlide').find('.bigThumbWrap > ul').bxSlider({
			loop : false,
			auto: false,
			pager : false,
			controls : false,
			useCSS:false,
			onSlideBefore : function(){
				newProductViewSliderState = false;
			},
			onSlideAfter : function(){
				newProductViewSliderState = true;
			}
		});

		
			
				
				
					//렌탈배너
					$("#rentalBanner").show();
					
						$("#bannerLink").prop("href","/event/indexEventDetail?eventNo=828");
					
					
				
			
		
		
		$(document).on('click' , '.btnThumbItem' , function(){
			if(newProductViewSliderState){
				var childIndex = $(this).parents('.listCell').index();
				newProductThumbSort(childIndex);
				newProductViewSlider.goToSlide(childIndex);
			}
		});
		
		$('#familyEventChk').on("click", function(e){
			if($('#familyEventChk').is(':checked') == true){
				$('#tradeInYnCallChk').prop("checked", false);						
			}
		});		
		$('#tradeInYnCallChk').on("click", function(e){
			if($('#tradeInYnCallChk').is(':checked') == true){
				$('#familyEventChk').prop("checked", false);
			}
		});

		newProductThumbSort(0);

		function newProductThumbSort(_index){
			$('.smallThumbWrap').find('> ul > li').each(function(){
				if($(this).index() == _index){
					$(this).addClass('active');
				}else{
					$(this).removeClass('active');
				}
			});
		}
			
		
		
		
		// 특별 사은품 슬라이드
		var giftLiCnt = $('.giftInfoWrap .list > ul >li').length;
		
		//$('.giftInfoWrap .list > ul').append( $('.giftInfoWrap .list > ul > li').clone() );	// 슬라이드 움직임을 위해 개체 복사
		var giftSlide;
		giftSlide = $('.giftInfoWrap').find('.list > ul').bxSlider({
			mode: 'horizontal',
			auto: false,
			infiniteLoop: false, 
			hideControlOnEnd: true,
			oveSlides: 1,
			maxSlides : 6,
			minSlides : 6,
			slideWidth : 198,
			pager : false,
			controls : true,
			speed : 500,
			onSliderLoad : function(){
				$('.giftInfoWrap .btnNext').on('click' , function(e){
					e.preventDefault();

					giftSlide.goToNextSlide();
				});

				$('.giftInfoWrap .btnPrev').on('click' , function(e){
					e.preventDefault();

					giftSlide.goToPrevSlide();
				});
			}
		});

		
		// 구입 유형 변경 시
		$("input[name='saleTp']").change(function() {
			$('.estimate').hide();	
			fnSetSaleTp($(this).val());
		});
			
		// 상품 옵션 더보기
		$('.secItemOption .btnView').on('click' , function(e){
			e.preventDefault();

			if($(this).closest('.liArea').hasClass('on')){
				$(this).closest('.liArea').removeClass('on');
			}
			else{
				$(this).closest('.liArea').addClass('on');
			}
		});

		// 문의 작성 접기
		$('.inquiryWrap .btnm').on('click' , function(e){
			e.preventDefault();

			window.focusBtn = e.currentTarget;

			if($(this).hasClass('on')){
				$(this).text('접기');
				$(this).removeClass('on');
				$('.inquiryWrap .write').stop().slideDown(200, function(){
					$('.inquiryWrap .write').attr('tabindex' , -1).focus();
				});
			} else {
				$(this).text('문의하기');
				$(this).addClass('on');
				$('.inquiryWrap .write').stop().slideUp(200, function(){
					$('.inquiryWrap .write').removeAttr('tabindex');
					if(window.focusBtn){
						window.focusBtn.focus();
					}
				});
			}
		});
		
		// 나에게 맞는 렌탈 클릭
		$('.rentalRecommend .list li .btnm').on('click', function(e){
			e.preventDefault();

			$(this).next('.layer').fadeIn();

			// 닫기
			$('.rentalRecommend .list li .btnClose').on('click' , function(e){
				e.preventDefault();

				$(this).closest('.layer').fadeOut();
			});
		});
		
		//최대 혜택 적용 금액 열기/닫기
        $('.benefit-btn').on('click' , function(e){
            e.preventDefault();

			$(this).closest('.maximum-benefit').toggleClass('on');
        });
		
     	//옵션선택 열기/닫기
        $('.option-btn').on('click' , function(e){
            e.preventDefault();

			$(this).closest('.option-wrap').toggleClass('on');
        });
	
    	//찜하기 jquerydata 설정
		$('#content .btnPoke').data("goodsId", 'G000067991');
		$('#content .btnPoke').data("mbrNo", '0');
		interestGoodsClick("content");
		$('#content .btnPoke').off();
		
		/* 2023.02.23 필수 옵션 상품의 경우 필수 옵션 선택 안되어 있을 경우 결제예정금액을 기본 금액으로 재 셋팅 s */
		
		/*// 2023.02.23 필수 옵션 상품의 경우 필수 옵션 선택 안되어 있을 경우 결제예정금액을 기본 금액으로 재 셋팅 e */
		
	});
		
	$(function(){
		product.init();

		$(document).ready(function(){
			product.ready();			
			
			var pkgYn = 'N';
			if( pkgYn == 'Y') {
				// 패키지 판매
				
					
				// 패키지 렌탈
				
					$("input[name='rentalTp'][value=30]").prop("checked", true);
					changeRentalTp('30');
				
			}
			
		});		 
		  
		$('.goodsCommentPage').on('click' , function(e){
			// 상품점수 영역 호출
			ajax.load("goods_grade_area", "/goods/indexGoodsGrade", {goodsId : 'G000067991', prdtCd : 'WPUJAC104SWH'}, null , "gradeLoadComplete");
			// 상품후기 영역 호출
			ajax.load("goods_comment_area", "/goods/indexGoodsCommentList", {goodsId : 'G000067991' , prdtCd : 'WPUJAC104SWH' , compGbCd : '10'}, null, "bindGoodsCommentPage");
			
			// 상품문의 영역 호출			
			
				
				
					ajax.load("goods_inquiry_area", "/goods/indexGoodsInquiryList", {goodsId : 'G000067991', prdtCd : 'WPUJAC104SWH'});
				
			 
        });
		 
		$(window).on("load",function () {
			product.load();
			product.scroll();
			// 함께 본 제품 랜딩 이후에 별도 호출			 
		 	ajax.load("goods_with_area", "/goods/indexGoodsWithList", { stId : '1' , staticUrl : 'https://static.skmagic.com/pc' , imgDomain : 'https://static.skmagic.com/image' , goodsId : 'G000067991' , saleTpCd : '10' , upDispClsfNo : '100000003'}, null, "");
		});
	
		$(window).on("scroll",function () {
			product.scroll();
		});

		$(window).on("resize",function () {
			product.resize();
		});
	});


	/* 20201103 수정 : s */
	var product = {

		stage			: {_width : 0, _height: 0 , _y : 0},
		thumbFixData : {
			leftHeight : 0,
			leftTop : 0,
			rightHeight : 0,
			rightTop : 0
		},
		tab			:	null,
		content		:	null,
		detail			:	null,

		init : function(){
			this.tab = $('.viewTabGroup');
			this.content = $('.tabContentWrap');
			this.detail = $('#productContent');
			this.quick = $('#quick');
			this.tab.find('.tab > li > a').click(function(e){
				e.preventDefault();
				//product.tabPageMove($(this).parent().index());
				product.tabSort($(this).parent().index());
				
				var resetPosY =  $('.viewTabGroup').offset().top;

				$('body, html').stop().animate({ scrollTop : resetPosY});
			});
					
			// 구매하기 버튼 이벤트 등록
			this.quick.find('.btn-quick-buy, .btn-quick-rental').on('click' , function(e){
				e.preventDefault();
				
				if($(this).hasClass('on')){
					$(this).removeClass('on');
					$('.optionScrollRight').removeClass('fixed');
					$('.optionScrollRight').find('.cont').removeClass('on');
				} else {
					$(this).addClass('on');
					$('.optionScrollRight').find('.cont').addClass('on');
					$('.optionScrollRight').addClass('fixed');
					$('.optionScrollRight').find('.cont').addClass('fixed on');
				}
			});
			this.tabSort(0);

			this.resize();
		},
		ready : function(){
			this.priceSetPos();
		},
		load : function(){
			this.priceSetPos();
		},
		scroll : function(){
			var _this		=	this,
				 _y		=	64; /* 탭 높이값 + 탭과 타이틀 사이 여백*/
			_this.stageSet();

			//퀵메뉴 구매하기 버튼 노출
			if(_this.stage._y >= _this.detail.offset().top){
				
				if(!_this.quick.find('.btn-quick-buy, .btn-quick-rental').hasClass('fixed')){
					_this.quick.find('.btn-quick-buy, .btn-quick-rental').addClass('fixed');
				}
			}else{

				$('.optionScrollRight').removeClass('fixed');
				$('.optionScrollRight').find('.cont').removeClass('fixed on');
				if(_this.quick.find('.btn-quick-buy, .btn-quick-rental').hasClass('fixed')){						
					_this.priceSetPos();
					_this.contentSetPos();
				}
				_this.quick.find('.btn-quick-buy, .btn-quick-rental').removeClass('fixed on');
			}

			if(_this.stage._y >= _this.tab.offset().top){
				_this.tab.addClass('fixed');
			}else{
				_this.tab.removeClass('fixed');
			}
			
			$('.optionScrollRight .closeBtn').on('click' , function(e){
				e.preventDefault();
				$('.btn-quick-buy, .btn-quick-rental').removeClass('on');
				$('.optionScrollRight').removeClass('fixed');
				$('.optionScrollRight').find('.cont').removeClass('on');

			});

			//썸네일 fix 
			_this.thumbFixData.rightHeight = $('.secItemOption').innerHeight();
			if( _this.thumbFixData.rightHeight > _this.thumbFixData.leftHeight){
				if(_this.stage._y > _this.thumbFixData.rightTop - 200){
					if(_this.stage._y > _this.thumbFixData.rightHeight + _this.thumbFixData.rightTop - _this.thumbFixData.leftHeight - 200){
						$('.newProductViewSlide').removeClass('fixTop').addClass('fixBottom');
					}else{
						$('.newProductViewSlide').removeClass('fixTop').addClass('fixBottom');
					}
				}else{
					$('.newProductViewSlide').removeClass('fixTop fixBottom');
				}
			}

		},

		resize : function(){
			var _this = this;
			
			this.contentSetPos();
			this.scroll();
			this.priceSetPos();
		},

		stageSet : function(){
			this.stage._width = $(window).width();
			this.stage._height = $(window).height();
			this.stage._y = $(window).scrollTop();
		},

		contentSetPos : function(){

			this.thumbFixData.leftTop = $('.newProductViewSlide').offset().top;
			this.thumbFixData.leftHeight = $('.newProductViewSlide').innerHeight();
			this.thumbFixData.rightTop = $('.secItemOption').offset().top;
			this.thumbFixData.rightHeight = $('.secItemOption').innerHeight();

		},

		tabSort : function(_idx){
			var _index	=	_idx,
				 _this		=	this;

			_this.tab.find('.tab > li').each(function(){
				if($(this).index() == _index){
					$(this).addClass('on');
				}else{
					$(this).removeClass('on');
				}
			});
			_this.content.find('.tabContent').eq(_idx).addClass('actived').siblings().removeClass('actived');
		},

		tabPageMove : function(_idx){
			var _y		=	this.content.find('> div').eq(_idx).offset().top - 62;

			$('html,body').stop().animate({ scrollTop: _y }, 600)
		},

		priceSetPos : function(){
			var _height = $('.optionScrollRight').find('> div').innerHeight();
			$('.optionScrollRight').css({'height' : _height});
		}
	}
	/* 20201103 수정 : e */
	
	// 2023.04.18 PKH 수정 추가
	function fnSetSaleTp(tpVal){
		var saleTp = tpVal;
		changeSaleTp(saleTp);
		
		if(saleTp == '20'){
			$('.estimate').hide();	
			$('.labelList > ul:eq(0)').css('display','none');
			$('.labelList > ul:eq(1)').css('display','block');
			$("#btnBuy").show();
			$("#btnRental").hide();
			// 2022.02. 사이트별 혜택 추가
			$(".selling-point02:eq(0)").css('display','none');
			$(".selling-point02:eq(1)").css('display','block');
			
			//렌탈,구매 배너변경
			$("#buyBanner").show();
			$("#rentalBanner").hide();
			
				$("#bannerLink").prop("href","/event/indexEventDetail?eventNo=3248");
			
			
		}
		else{
			$('.estimate').show();	
			$('.labelList > ul:eq(0)').css('display','block');
			$('.labelList > ul:eq(1)').css('display','none');
			$("#btnBuy").hide();
			$("#btnRental").show();
			// 2022.02. 사이트별 혜택 추가
			$(".selling-point02:eq(0)").css('display','block');
			$(".selling-point02:eq(1)").css('display','none');
			
			//렌탈,구매 배너변경
			$("#rentalBanner").show();
			$("#buyBanner").hide();
			
				$("#bannerLink").prop("href","/event/indexEventDetail?eventNo=828");
			
			
		}
	}

	function changeSaleTp(saleTp) {
		if (saleTp == "10") {			
				$('.rental').show(); 
				$('.buy').hide();
				$('.rentalCon4').show();
				$('.buyCon4').hide();
		} else {
			$('.rental').hide(); 
			$('.buy').show();
			$('.rentalCon4').hide();
			$('.buyCon4').show();
			// 멤버십 >  일반구매 미노출일 경우 ==============================================  N
						
				
					showBasicItemInfo();
				
				
			
		}
	}		

	// SNS 공유하기
	function clickSNS(obj) {
		if (!$(obj).hasClass('on')) {
			return;
		}
		
		var desc = '';
		if (desc == '') {
			desc = '초소형 직수 정수기_셀프관리	';
		} 			
		openSns(document.location.href, '초소형 직수 정수기_셀프관리	', 'https://static.skmagic.com/image/goods/G000067991/G000067991_2.png', desc);
	}
		
	$(document).ready(function(){
		var prdtCd = "WPUJAC104SWH";
		var goodsId = 'G000067991';
		
		var useGrpSpecificItem = $("#specificItemInfo input[name='useGrpSpecificItem']").val();
		
		if(useGrpSpecificItem == 'Y'){
			goodsId = $("#specificItemInfo input[name='itemOptionGoodsId']").val();
			prdtCd = $("#specificItemInfo input[name='itemOptionPrdtCd']").val();
		}
		<!-- 구매 / 렌탈 하기 quick버튼 제어 -->
		
			//2020 renewal 고도화 - 화면로딩시 예상금액 처리
			calTotalRentalAmt();	
			$("#btnRental").show();
			$("#btnBuy").hide();
			$('.rentalCon4').show();
			$('.buyCon4').hide();
		
		
		
		// Facebook Pixel - ViewContent
		if('undefined' != typeof fbq){
			fbq('track','ViewContent');
		}
		//단품 일부 품절시 재입고알림 신청
		if (WebUtil.toInt('1262') > 0){
			$('.optionScrollRight .cont2').show();
			$('.optionScrollRight .buy .setPrice').show();
			$('.optionScrollRight .soldout').hide();
		}else{
			$('.optionScrollRight .cont2').hide();
			$('.optionScrollRight .buy .setPrice').hide();
			$('.optionScrollRight .soldout').show();
		}
		
		//BO에서 넘겨져 왔을때.
		
		//$("#saleTp10").click(); 
		 
		// 렌탈 유형 변경 시
		$("input[name='rentalTp']").click(function() {
			$('.estimate').show();	
			var rentalTp = $(this).val();
			changeRentalTp(rentalTp);
		});					
		
		// 인덕션,식기세척기 구매탭 우선적용      
		
		
		// EP 랜딩시 렌탈:10/구매:20  탭 구분 
		
		  
		  
		// 카드할인 변경 시
		$("select[name='afltCardUseCd']").change(function() {
			// 렌탈 결제 금액 계산
			checkRentalInfoLayer('','');
		});
			
		// 혜택 적용 변경 시
		$("select[name='prmoList']").change(function() {
			// 렌탈 결제 금액 계산 - 2020 renewal 고도화 - 선택값으로 재계산
			checkRentalInfo('', $(this).val());
		});
			
		// 카드 변경시
		$("select[name='afltRentCard']").change(function() {
			// 렌탈 결제 금액 계산
			rentalCardChage();
		});
			
		// [간편상담] 개인정보 수집 및 이용 동의
		$("#laySimpleConsult #agreePersonalInfoConsult").click(function() {
			$("#txtErrSimpleConsultAgreeMsg").hide();
		});
		// [간편상담] 14세 이상 이용 동의
		$("#laySimpleConsult #agree14").click(function() {
			$("#txtErrSimpleConsultAgreeMsg14").hide();
		});
		//[세제 정기배송 상담] 개인정보 수집 및 이용 동의
		$("#layRegularDelivery #agreePersonalInfoConsult_cleanse").click(function() {
			$("#txtErrSimpleConsultAgreeMsg_cleanse").hide();
		});
			
		// 멤버십 상담 신청
		$("#mbrshCounselSubmit").on("click", function(){
			mbrshConsultReg();
		});	
		
		
		//카카오모먼트 :콘텐츠/상품조회 ( 상품상세페이지)
		
			try{
				kakaoPixel('3295449034798877540').pageView();
			    kakaoPixel('3295449034798877540').viewContent({
			        tag: 'sk_goodsdetail'
			    });
			}
			catch(e){
				console.error("kakaoPixelErr");
				console.error(e);
			}
	    
	    
	  	//Event snippet for 상세 페이지뷰 conversion page
	    
	    	gtag('event', 'conversion', {'send_to': 'AW-455254603/bs-aCLHShfMBEMvEitkB'});
		
		
		
	});
	
	// 의무 약정 기간 변경 시
	function checkRentalInfo(obj, selPrmtno){
			//선택된 raido checked
			if(obj != ''){
				$(obj).prop('checked', true);
			}
			
			var chId = $(":input:radio[name=rentalInfo]:checked").attr("id");
			var obj = $("#"+chId);
			var dutyUsePrd = obj.data("dutyUsePrd");
	 		var ownGetPrd = obj.data("ownGetPrd");
			var rentalPrice = Number(obj.data("rentalPrice"));
			var maxDcRentalPrice = rentalPrice;
			var index = obj.data("index");
			if(selPrmtno == ''){
				var maxDcPrmtNo = obj.data("maxDcPrmtNo");
			}else{
				var maxDcPrmtNo = selPrmtno;
			}
				
			var maxDcPrmtDcMonth = Number(0);
			//2020 renewal 고도화 - 추가
			var maxDcPrmtNm, _maxDcPrmtNo, maxDcPrmtAplCd, maxDcAplVal, maxDcDcMonth, maxDcFreeMonth, maxDcAddDcAmt;
				
			// 렌탈료 노출 영역 변경
			$(".rentalPriceBox").hide();
			$("#rentalPriceBox"+index).show();
				
			// 렌탈료 변경
			$(".rentalAmt").text(format.num(rentalPrice));
				
			// 적용 가능한 프로모션 reload
			var options = {
				url : "/goods/getPromotionListByPeriodOption",
				async : false,
				data : {
					"goodsId" : 'G000067991'
			    	, "dutyUsePrd" : dutyUsePrd
			    	, "ownGetPrd" : ownGetPrd
			    },
				done : function(promotionList){
					// 혜택적용 영역 변경
					$("select[name='prmoList'] option").remove();
					$("select[name='prmoList']").append("<option value='' aplVal='0' addDcAmt='0' freeMonth='0' dcMonth='0' prmtKindCd=''>적용 가능한 혜택이 있어요.</option>");
					//t제휴할인 안내영역 초기화
					$(".spanTDcYn").hide();
					
					promotionList.forEach(function(promotion) {
						var prmtNo = promotion['prmtNo'];
						var prmtAplCd = promotion['prmtAplCd'];
						var aplVal = Number(promotion['aplVal']);
						var addDcAmt = Number(promotion['addDcAmt']);
						var freeMonth = Number(promotion['freeMonth']);
						var dcMonth = Number(promotion['dcMonth']);
						var prmtNm = promotion['prmtNm'];
						var tdcYn = promotion['tdcYn'];
						
						if( promotion['prmtNo'] == maxDcPrmtNo ) {
							$("select[name='prmoList']").append("<option value="+prmtNo+" prmtAplCd="+prmtAplCd+" aplVal="+aplVal+" addDcAmt="+addDcAmt+" freeMonth="+freeMonth+" dcMonth="+dcMonth+" selected>"+prmtNm+"</option>");
						
							maxDcRentalPrice -= addDcAmt;
							if( prmtAplCd == '10' ) { //정율
								maxDcRentalPrice = maxDcRentalPrice * (100 - aplVal) / 100
							} else if ( prmtAplCd == '20' ) { // 정액
								maxDcRentalPrice = maxDcRentalPrice - aplVal;
							}
							maxDcPrmtDcMonth = dcMonth;
							_maxDcPrmtNo = prmtNo
							maxDcPrmtAplCd = prmtAplCd;
							maxDcAplVal = aplVal;
							maxDcDcMonth = dcMonth;
							maxDcFreeMonth = freeMonth;
							maxDcAddDcAmt = addDcAmt;
							maxDcPrmtNm = prmtNm; //2020 renewal 고도화 - 추가
						} else {
							$("select[name='prmoList']").append("<option value="+prmtNo+" prmtAplCd="+prmtAplCd+" aplVal="+aplVal+" addDcAmt="+addDcAmt+" freeMonth="+freeMonth+" dcMonth="+dcMonth+">"+prmtNm+"</option>");
						}
						
						if(tdcYn == 'Y'){
							//t제휴할인 안내영역 노출
							$(".spanTDcYn").show();
						}
						
					});
					$("select[name='prmoList']").attr("disabled", false);
					selectBoxReFresh();
				}
			};
			ajax.call(options);
			
			// 프로모션 할인 기간, 프로모션명
			if(maxDcPrmtNm){
				$("#totMonth").show();
			}else{
				maxDcPrmtNm = "";
				$("#totMonth").hide();
			}
			
			// 프로모션 할인 기간
			$(".totMonthNm2").text(maxDcPrmtNm); //2020 renewal 고도화 - 추가
			
			//카드혜택 제외
			var afltCardUseDcAmt = 0;
			// 최대 혜택 적용 금액
			$(".benebitAmt").text(format.num(Math.floor((maxDcRentalPrice - afltCardUseDcAmt)/10)*10));
			if( rentalPrice == maxDcRentalPrice ) {
				// 활성화된 rentalPriceBox 추출
				$(".rentalPriceBox:visible > .cont > .priceDel").hide();
				$(".rentalPriceBox:visible > .cont > .price.del").hide();
				$(".rentalPriceBox:visible > .priceBox").hide();
			} else {
				$(".rentalPriceBox:visible > .cont > .priceDel").show();
				$(".rentalPriceBox:visible > .cont > .price.del").show();
				$(".rentalPriceBox:visible > .priceBox").show();
			}
			
			// 혜택 적용 금액
			var totalDcAmt = 0;
			if(_maxDcPrmtNo) {									
				if( maxDcPrmtAplCd == '10' ) { //정율
					totalDcAmt = (rentalPrice-maxDcAddDcAmt)*maxDcAplVal/100;
				} else if ( maxDcPrmtAplCd == '20' ) { // 정액
					totalDcAmt = maxDcAplVal;
				} else {
					totalDcAmt = maxDcAddDcAmt;
				}
			}
				
			// 총 할인 금액
			$(".totalBenefitAmt").text(format.num(Math.ceil((rentalPrice-maxDcRentalPrice)/10)*10));
			
			calTotalRentalAmt();
	} 
	
	// 2020 renewal 고도화 - 혜택비교 레이어 의무 약정 기간 변경 시
	function checkRentalInfoLayer(obj, selPrmtno){
			//선택된 raido checked
			if(obj != ''){
				$(obj).prop('checked', true);
			}
			
			var chId = $(":input:radio[name=rentalInfoLayer]:checked").attr("id");
			var rentalObj = $("#"+chId);
			var dutyUsePrd = rentalObj.data("dutyUsePrd");
	 		var ownGetPrd = rentalObj.data("ownGetPrd");
			var rentalPrice = Number(rentalObj.data("rentalPrice"));
			var index = rentalObj.data("index");
			if(selPrmtno == ''){
				var maxDcPrmtNo = rentalObj.data("maxDcPrmtNo");
			}else{
				var maxDcPrmtNo = selPrmtno;
			}
				
			var maxDcPrmtDcMonth = Number(0);
			//2020 renewal 고도화 - 추가
			var maxDcPrmtNm, _maxDcPrmtNo, maxDcPrmtAplCd, maxDcAplVal, maxDcDcMonth, maxDcFreeMonth, maxDcAddDcAmt;
				
			// 렌탈료 노출 영역 변경
			$(".rentalPriceBox").hide();
			$("#rentalPriceBox"+index).show();
			
			//카드할인금액
			var afltCardUseDcAmt = $("#afltCardUseCd option:selected").attr("aplVal");
			
			// 적용 가능한 프로모션 reload
			var options = {
				url : "/goods/getPromotionListByPeriodOption",
				async : false,
				data : {
					"goodsId" : 'G000067991'
			    	, "dutyUsePrd" : dutyUsePrd
			    	, "ownGetPrd" : ownGetPrd
			    },
				done : function(promotionList){
					// 혜택적용 영역 변경
					$("#rentalPromotionUl li").remove();
					
					if(promotionList.length == 0){
						var benebitAmt = format.num(rentalPrice - afltCardUseDcAmt);
						benebitAmt = (Math.floor(addDcAmt/10))*10; // 할인금액 5월단위 올림
						var liHtml = '';
						liHtml += '<li><div class="info">';
						liHtml += '<strong class="prdName">월렌탈료 </strong>';
						liHtml += '<span class="price"><em>월</em> <strong  id="rentalAmtLayer">'+benebitAmt+'</strong> 원</span></div>';
						liHtml += '<div class="select"><span class="radio only">';
						liHtml += '<input type="radio" id="rentalPromotionLayer" name="rentalPromotionLayer" value="" checked="checked">';
						liHtml += '<label for="rentalPromotionLayer">선택</label> ';
						liHtml += '</span></div></li>';	
						
						$("#rentalPromotionUl").append(liHtml);
					}
					
					promotionList.forEach(function(promotion) {
						var prmtNo = promotion['prmtNo'];
						var prmtAplCd = promotion['prmtAplCd'];
						var aplVal = Number(promotion['aplVal']);
						var addDcAmt = Number(promotion['addDcAmt']);
						var freeMonth = Number(promotion['freeMonth']);
						var dcMonth = Number(promotion['dcMonth']);
						var prmtNm = promotion['prmtNm'];
						var prmtKindCd = promotion['prmtKindCd'];
						//기준가
						var maxDcRentalPrice = rentalPrice;
						
						//프로모션별 혜택가처리
						maxDcRentalPrice -= addDcAmt;
						if( prmtAplCd == '10' ) { //정율
							maxDcRentalPrice = maxDcRentalPrice * (100 - aplVal) / 100
						} else if ( prmtAplCd == '20' ) { // 정액
							maxDcRentalPrice = maxDcRentalPrice - aplVal;
						}
						
						// 최대 혜택 적용 금액
						var benebitAmt = format.num(maxDcRentalPrice - afltCardUseDcAmt);
						
						var liHtml = '';
						liHtml += '<li><div class="info">';
						liHtml += '<strong class="prdName">'+prmtNm+'</strong>';
						liHtml += '<span class="price"><em>월</em> <strong  id="rentalAmtLayer'+prmtNo+'">'+benebitAmt+'</strong> 원</span></div>';
						liHtml += '<div class="select"><span class="radio only">';
						liHtml += '<input type="radio" id="rentalPromotionLayer'+prmtNo+'" name="rentalPromotionLayer" ';
						liHtml += 'value="'+prmtNo+'" ';
						liHtml += 'prmtAplCd="'+prmtAplCd+'" ';
						liHtml += 'aplVal="'+aplVal+'" ';
						liHtml += 'addDcAmt="'+addDcAmt+'" ';
						liHtml += 'freeMonth="'+freeMonth+'" ';
						liHtml += 'dcMonth="'+dcMonth+'" ';
						liHtml += 'prmtKindCd="'+prmtKindCd+'" ';
						if( promotion['prmtNo'] == maxDcPrmtNo ) {
							liHtml += 'checked="checked"';
						}
						liHtml += '>';
						liHtml += '<label for="rentalPromotionLayer'+prmtNo+'">선택</label> ';
						liHtml += '</span></div></li>';	
						
						$("#rentalPromotionUl").append(liHtml);
						
					});
				}
			};
			ajax.call(options);

	} 
		
	// 이벤트 리뷰 별점 load complete
	function gradeLoadComplete(){
		var avg = $("#hidAvrGrade").val();
		var cnt = $("#hidAllTotalCount").val();

		$("#spanStar").css("width", avg+"%");
	}
		
	function rentalCardChage(){
	 	$("select[name='afltCardUseCd']").find("option").each(function() {
	 		 $(this).remove();
		});
		 	
		$("select[name='afltCardUseCd']").append("<option value='' aplVal='0'>예상 전월 실적을 선택해 주세요</option>");
		
			
		 		if($("select[name='afltRentCard']").val() == "WOORI"){
		 			$("select[name='afltCardUseCd']").append("<option value='W30' aplVal='13000'>30만원 이상</option>' ");
		 		}
		 	
		 		if($("select[name='afltRentCard']").val() == "WOORI"){
		 			$("select[name='afltCardUseCd']").append("<option value='W100' aplVal='20000'>100만원 이상</option>' ");
		 		}
		 	
		 		if($("select[name='afltRentCard']").val() == "HANA"){
		 			$("select[name='afltCardUseCd']").append("<option value='H30' aplVal='13000'>30만원 이상</option>' ");
		 		}
		 	
		 		if($("select[name='afltRentCard']").val() == "LOTTE"){
		 			$("select[name='afltCardUseCd']").append("<option value='L30' aplVal='13000'>30만원 이상</option>' ");
		 		}
		 	
		 		if($("select[name='afltRentCard']").val() == "LOTTE"){
		 			$("select[name='afltCardUseCd']").append("<option value='L70' aplVal='17000'>70만원 이상</option>' ");
		 		}
		 	
		 		if($("select[name='afltRentCard']").val() == "LOTTE"){
		 			$("select[name='afltCardUseCd']").append("<option value='L120' aplVal='23000'>120만원 이상</option>' ");
		 		}
		 	
		 		if($("select[name='afltRentCard']").val() == "KOOKMIN"){
		 			$("select[name='afltCardUseCd']").append("<option value='K30' aplVal='11000'>30만원 이상</option>' ");
		 		}
		 	
		 		if($("select[name='afltRentCard']").val() == "KOOKMIN"){
		 			$("select[name='afltCardUseCd']").append("<option value='K70' aplVal='15000'>70만원 이상</option>' ");
		 		}
		 	
		 		if($("select[name='afltRentCard']").val() == "KOOKMIN"){
		 			$("select[name='afltCardUseCd']").append("<option value='K100' aplVal='20000'>100만원 이상</option>' ");
		 		}
		 	
		 		if($("select[name='afltRentCard']").val() == "HYUNDAI"){
		 			$("select[name='afltCardUseCd']").append("<option value='H50' aplVal='13000'>50만원 이상</option>' ");
		 		}
		 	
		 		if($("select[name='afltRentCard']").val() == "HYUNDAI"){
		 			$("select[name='afltCardUseCd']").append("<option value='H100' aplVal='20000'>100만원 이상</option>' ");
		 		}
		 	
		 		if($("select[name='afltRentCard']").val() == "SAMSUNG"){
		 			$("select[name='afltCardUseCd']").append("<option value='S30' aplVal='7000'>30만원 이상</option>' ");
		 		}
		 	
		 		if($("select[name='afltRentCard']").val() == "SAMSUNG"){
		 			$("select[name='afltCardUseCd']").append("<option value='S301' aplVal='14000'>30만원 : 삼성카드 6개월이상 미사용회원</option>' ");
		 		}
		 	
		 		if($("select[name='afltRentCard']").val() == "SAMSUNG"){
		 			$("select[name='afltCardUseCd']").append("<option value='S70' aplVal='10000'>70만원 이상</option>' ");
		 		}
		 	
		 		if($("select[name='afltRentCard']").val() == "SAMSUNG"){
		 			$("select[name='afltCardUseCd']").append("<option value='S701' aplVal='17000'>70만원 이상 : 삼성카드 6개월이상 미사용회원</option>' ");
		 		}
		 	
		 		if($("select[name='afltRentCard']").val() == "SAMSUNG"){
		 			$("select[name='afltCardUseCd']").append("<option value='S120' aplVal='13000'>120만원 이상</option>' ");
		 		}
		 	
		 		if($("select[name='afltRentCard']").val() == "SAMSUNG"){
		 			$("select[name='afltCardUseCd']").append("<option value='S1201' aplVal='20000'>120만원 이상 : 삼성카드 6개월이상 미사용회원</option>' ");
		 		}
		 	
		 		if($("select[name='afltRentCard']").val() == "KJ"){
		 			$("select[name='afltCardUseCd']").append("<option value='J30' aplVal='10000'>30만원 이상</option>' ");
		 		}
		 	
		 		if($("select[name='afltRentCard']").val() == "KJ"){
		 			$("select[name='afltCardUseCd']").append("<option value='J70' aplVal='16000'>70만원 이상</option>' ");
		 		}
		 	
		 		if($("select[name='afltRentCard']").val() == "KJ"){
		 			$("select[name='afltCardUseCd']").append("<option value='J120' aplVal='23000'>120만원 이상</option>' ");
		 		}
		 	
		 
	 	$("select[name='afltCardUseCd']").val("");
	 	selectBoxReFresh();
	 	checkRentalInfoLayer('','');
	}
			
	function changeRentalTp(rentalTp) {	
		$("select[name='prmoList']").find("option").each(function() {
	 		 if( 'prmoOptionRntlTp20' == $(this).attr('id')  
	 			 || 'prmoOptionRntlTp30' == $(this).attr('id') ) {
	 			$(this).remove(); 
	 		 }
		});
			
		if(rentalTp == "10") {	// 단품
			$('.rentalTp .cross.logoff').hide();
			$('.rentalTp .cross.login').hide();
			$('.rentalTp .new').hide();

			$('.rentalBasic').show();
			$('.newpackage').hide();
			$('#btnRental').removeClass('single');
			
		 	$("select[name='prmoList']").attr("disabled", false);
		 	selectBoxReFresh();
			
		} else if(rentalTp == "20") {	// 크로스 패키지
			if ("0" == "0") {
				$('.rentalTp .cross.logoff').show();
				$('.rentalTp .cross.login').hide();
			} else {
				$('.rentalTp .cross.logoff').hide();
				
				if (isNaN($('.rentalTp .cross.login').data("ctNo")) || $('.rentalTp .cross.login').data("ctNo") == "") {
					getRentalContractInfo();
				} else {
					$('.rentalTp .cross.login').show();
				}
			}				
				
			$('.rentalBasic').hide();
			$('.newpackage').show();
			$('#btnRental').addClass('single');
				
			// zhdzhdee 추가 start ----------------------------------------
			if ( $("select[name='prmoList'] > option").length > 1 ) {
				$("select[name='prmoList']").append("<option id='prmoOptionRntlTp20' value=''>추가렌탈은 중복 혜택이 불가능합니다.</option>");
				$("select[name='prmoList'] > option").last().attr("selected", "selected");
			 	$("select[name='prmoList']").attr("disabled", true);
			 	selectBoxReFresh();
			}
			// zhdzhdee 추가 end ----------------------------------------				
		} else if (rentalTp == "30") {	// 신규 패키지
			$('.rentalBasic').hide();
			$('.newpackage').show();
				
			$('#btnRental').addClass('single');
				
			if ( $("select[name='prmoList'] > option").length > 1 ) {
			 	$("select[name='prmoList']").append("<option id='prmoOptionRntlTp30' value=''>동시렌탈은 중복 혜택이 불가능합니다.</option>");
			 	$("select[name='prmoList'] > option").last().attr("selected", "selected");
			 	$("select[name='prmoList']").attr("disabled", true);
			 	selectBoxReFresh();
			}
		}
			
		calTotalRentalAmt();
	}
		
	// 이벤트 리뷰 load complete	
	function eventReviewLoadComplete(){
		var cnt = $("#pageInfo_totalCount").val();
		if(cnt == "0"){ // 등록된 리뷰가 없으면
			$("#eventBtnMore").css("display", "none");
			return;
		}
		var _paging = "<strong> " + $("#pageInfo_page").val() + "</strong> / " + $("#pageInfo_totalPageCount").val() ;
		$("#paging").html(_paging);

		// button
		var now = new Date();
		var reserved = new Date(2018 , 11 , 22); //2018.12.21 종료

		if((reserved - now) / (1000*60*60*24) < 0){
			$("#btnEventWrite").css("display", "none");
		}

		// Bxslider
		var curPage = Number($("#pageInfo_page").val() || 0);
		if(curPage > 1){
			if(eventPhotoSlide == null){
				eventPhotoSlide = $('.eventCont .photoSlide2 .in> ul').bxSlider({
					mode : 'fade',
					infiniteLoop : true,
					auto: false,
					pager : true,
					pagerSelector : '.photoSlide2 .indicator2',
					controls : true,
					speed : 300,
					startSlide: 0
				});
			}
		}		
	}
		
	function calTotalRentalAmt(){
		// 2020 renewal 고도화 - 렌탈유형 삭제로 신규렌탈 기본셋팅
    	var rentalTp = "10";
		var ownGetPrd = Number($("input[name='rentalInfo']:checked").data("ownGetPrd"));
		var dutyUsePrd = Number($("input[name='rentalInfo']:checked").data("dutyUsePrd"));
		var rentalAmt = Number($("input[name='rentalInfo']:checked").data("rentalPrice"));
		var rentalAmtDc = Number($("input[name='rentalInfo']:checked").data("rentalPriceDc"));
		var postDutyAmt = Number($("input[name='rentalInfo']:checked").data("rentalPricePost"));
		var index = Number($("input[name='rentalInfo']:checked").data("index"));
		
		// 크로스 패키지 선택 시..
		if (rentalTp == "20") {
			var crossData = $('.rentalTp .cross.login').data();
		} else  if (rentalTp == "20") { // 크로스 패키지인 경우
			// 크로스패키지 할인 금액 셋팅
			var crossData = $('.rentalTp .cross.login').data();
			if(crossData.ctNo != ""){
				rentalBenefitAmt = Number(crossData.rentDcAmt);
				rentalBenefitPostDutyAmt = Number(crossData.rentDcAmt);
				dcMonth = ownGetPrd; // 20180604 크로스 패키지 할인금액 표시할 때, 모계약의 남은 기간이 아닌 렌탈 소유권이전 기간으로 계산
			}
		}
	
		var rentalBenefitAmt = 0; // 렌탈 혜택적용 금액
		var rentalBenefitAddDcAmt = 0; // 렌탈 혜택적용 추가할인 금액
		var freeMonth = 0; // 면제 개월수
		var freeMonthAmt = 0; // 면제혜택 금액
		var dcMonthAmt = 0; // 할인혜택 금액
		var afltCardUseDcAmt = 0;  // 카드할인 금액
			
		if(rentalAmt > 0){
			if (rentalTp == "10") { // 단품인 경우
				if($("select[name='prmoList']").val() != undefined && $("select[name='prmoList']").val() != ""){
					var prmtAplCd = $("select[name='prmoList'] option:selected").attr("prmtAplCd");
					var aplVal = Number($("select[name='prmoList'] option:selected").attr("aplVal"));
					var dcMonth = Number($("select[name='prmoList'] option:selected").attr("dcMonth"));
					freeMonth = Number($("select[name='prmoList'] option:selected").attr("freeMonth"));
					rentalBenefitAddDcAmt = Number($("select[name='prmoList'] option:selected").attr("addDcAmt"));
					var rentalBenefitPostDutyAmt = 0; // 36개월 이후 렌탈 혜택 적용 금액
					if(freeMonth > ownGetPrd){
						freeMonth = ownGetPrd
					}				
					if(prmtAplCd == '10' ){ // 정률
						rentalBenefitAmt = Math.ceil((rentalAmt-rentalBenefitAddDcAmt)*aplVal/1000)*10;
						rentalBenefitPostDutyAmt =  Math.ceil((postDutyAmt-rentalBenefitAddDcAmt)*aplVal/1000)*10;
					} else { // 정액
						rentalBenefitAmt = aplVal;
						rentalBenefitPostDutyAmt = aplVal;
					}
				}
					
			}	
		}
			
		// 금액 계산 start ----------------------------------------------
		// 면제혜택 금액 계산
		if(freeMonth > 0){ // 면제 개월수 적용
			if(freeMonth <= dutyUsePrd){
				freeMonthAmt += rentalAmt * freeMonth;
			}
		}
		// 할인혜택 금액 계산 [면제 개월 이후 할인 개월 계산]
		for(var i=freeMonth+1; i<=ownGetPrd; i++ ){
			if(i <= dutyUsePrd){
				if(i <= dcMonth) {
					if((rentalBenefitAmt+rentalBenefitAddDcAmt+afltCardUseDcAmt) > rentalAmt){
						dcMonthAmt += rentalAmt;
					} else {
						dcMonthAmt += (rentalBenefitAmt+rentalBenefitAddDcAmt+afltCardUseDcAmt);
					}
				} else {
					if((rentalBenefitAddDcAmt+afltCardUseDcAmt) > rentalAmt){
						dcMonthAmt += rentalAmt;
					} else {
						dcMonthAmt += (rentalBenefitAddDcAmt+afltCardUseDcAmt);
					}
				}	
			} else {
				if(i <= dcMonth) {
					if((rentalBenefitPostDutyAmt+rentalBenefitAddDcAmt+afltCardUseDcAmt) > postDutyAmt){
						dcMonthAmt += postDutyAmt;
					} else {
						dcMonthAmt += (rentalBenefitPostDutyAmt+rentalBenefitAddDcAmt+afltCardUseDcAmt);
					}
				} else {
					if((rentalBenefitAddDcAmt+afltCardUseDcAmt) > postDutyAmt){
						dcMonthAmt += postDutyAmt;
					} else {
						dcMonthAmt += (rentalBenefitAddDcAmt+afltCardUseDcAmt);
					}
				}
			}
		}
		// 금액 계산 end ----------------------------------------------

		//  월 렌탈금액 Title 셋팅
		if((rentalBenefitAmt + rentalBenefitAddDcAmt + afltCardUseDcAmt) > 0){
			$("#rentalPriceTitle").text("혜택 적용 금액");
			
			
			
		} else {
			$("#rentalPriceTitle").text("예상 납부 금액");
		}
			
		// 월 렌탈금액 셋팅 [렌탈금액 - 혜택적용 할인금액 - 혜택적용 추가할인금액 - 카드할인 금액]
		var totalRentalAmt = rentalAmt - rentalBenefitAmt - rentalBenefitAddDcAmt - afltCardUseDcAmt;
		if(totalRentalAmt < 0) {
			totalRentalAmt = 0;
		}
			
		var totalRentalDcAmt = freeMonthAmt + dcMonthAmt ;
		$("#totalRentalAmt").text(format.num(totalRentalAmt));
		$("#rentDescMont").text(ownGetPrd);
		$("#rentDescTotDis").text(format.num(totalRentalDcAmt));
		$("#rentDescMonthDis").text(format.num(format.num(rentalBenefitAmt + rentalBenefitAddDcAmt + afltCardUseDcAmt)));

		$("#rentalPriceBox"+index+" #rentalPriceAfterDc").text(format.num(totalRentalAmt));
		$("#rentalPriceBox"+index+" .discount").text(parseInt(( (rentalAmt - totalRentalAmt) / rentalAmt) * 100) + "%");
		
		
		if( rentalAmt == totalRentalAmt ){
			$("#rentalPriceBox"+index+" > .priceDel").hide();
		}else {
			$("#rentalPriceBox"+index+" > .priceDel").show();
		}
		

		
	}
		
	function setRentalMaxBenebitAmt(){
		//2020 renewal 고도화 - 혜택비교레이어 로직변경
		var idx = $("input[name='rentalInfoLayer']:checked").data("index");
		//약정기간 선택처리
		$("#rentalInfo"+idx).prop('checked', true);
		
		var prmtNo = $("input[name='rentalPromotionLayer']:checked").val();
		//프로모션번호 선택처리
		if(prmtNo != ""){
			$("select[name='prmoList']").val(prmtNo);
		}
		//프로모션 선택값 가격셋팅
		checkRentalInfo('', prmtNo);
		
		$(".btnClose").click();
		selectBoxReFresh();
		
	}
	
	// 최대 혜택 적용하기 
	function setBuyMaxBenebitAmt(cpNo, mbrCpNo){
		
			gfnOpenLayer($('#layOrdLoginCp'), null);	
			return;
		
			
    	if(cpNo != ""){		
			$("select[name='couponList']").val(cpNo);
			// 2023.02.16 쿠폰 다운로드 추가 PC/MO 소스 맞춤 start ----------
			insertCoupon(cpNo);
			// 2023.02.16 쿠폰 다운로드 추가 PC/MO 소스 맞춤 end ----------
		}

		if(mbrCpNo != ""){
			$("select[name='cartCouponList']").val(mbrCpNo);
		}
			
		// 2023.02.16 쿠폰 다운로드 추가 PC/MO 소스 맞춤 start ----------
		calTotalBuyAmt('Y');
		$(".btnClose").click();
		selectBoxReFresh();
		// 2023.02.16 쿠폰 다운로드 추가 PC/MO 소스 맞춤 end ----------
	}
	
	function showBenefitRental(){
		
				
		
				
		
		
		$("#rentalInfoLayer"+2).click(); 
				
		
	}
		
	// 렌탈 계약 정보 조회
	function getRentalContractInfo() {
		var check = false;

		var options = {
			url : "/goods/getSafeKey",
			async : false,
			done : function(data) {
				// TY, MS 키 모두 없는 경우
				if ((data.tySafeKey == null || data.tySafeKey == '') && (data.msSafeKey == null || data.msSafeKey == '')) {
					$("#safeKeyOpenApiFrm #workType").attr("data-value", "TY");
					$("#safeKeyOpenApiFrm #authParamR2").attr("data-value", "TY");

					$('#layNoCross').data('workType', 'TY');
					$('#layNoCross #desc').html("렌탈 중인 내역이 없거나 추가 렌탈 가능한 제품이 없어서 추가 렌탈이 불가능합니다.<br>혹시 렌탈 중인 제품이 있는데 이 메시지를 보셨다면, 렌탈 내역 조회를 위해<br>고객님만의 렌탈인증키를 발급하신 뒤 다시 시도해주세요.");

					$('#layNoCross #btn-cancel').removeClass("bk");
					$('#layNoCross #btn-cancel span').text("취소");
					$('#layNoCross #btn-safekey').show();

					gfnOpenLayer($('#layNoCross'), null);
				} else {
					check = true;
				}
			}
		};

		ajax.call(options);
			
		if (check) {
			ajax.load("layCrossList", "/goods/indexRentalContractList", {page: 1}, null, "fnCallBackCross");
		}
	}		

	function fnCallBackCross() {
		var count = $("#contract_count").val();
		if (count == undefined) {
			alert("오류가 발생하였습니다. 관리자에게 문의하시기 바랍니다.");
			return;
		}

		if (count == 0) {
			var safeKeyCheck = $("#safeKeyCheck").val();
			if (safeKeyCheck == "TY") {
				$("#safeKeyOpenApiFrm #workType").attr("data-value","MS");
				$("#safeKeyOpenApiFrm #authParamR2").attr("data-value", "MS");
				$('#layNoCross').data('workType', 'MS');
				$('#layNoCross #desc').html("렌탈인증키를 발급받으셨는데도 추가 렌탈 가능한 제품이 보이지 않으신다면,<br>새로운 렌탈인증키를 발급하신 뒤 다시 한번 시도해 주세요.");
				
				$('#layNoCross #btn-cancel').removeClass("bk");
				$('#layNoCross #btn-cancel span').text("취소");
				$('#layNoCross #btn-safekey').show();
			} else if (safeKeyCheck == "MS") {
				$("#safeKeyOpenApiFrm #workType").attr("data-value","TY");
				$("#safeKeyOpenApiFrm #authParamR2").attr("data-value", "TY");
				$('#layNoCross').data('workType', 'TY');
				$('#layNoCross #desc').html("렌탈인증키를 발급받으셨는데도 추가 렌탈 가능한 제품이 보이지 않으신다면,<br>새로운 렌탈인증키를 발급하신 뒤 다시 한번 시도해 주세요.");

				$('#layNoCross #btn-cancel').removeClass("bk");
				$('#layNoCross #btn-cancel span').text("취소");
				$('#layNoCross #btn-safekey').show();
			}
			
			if (safeKeyCheck == "ALL") {
				$('#layNoCross').data('workType', '');
				$('#layNoCross #desc').html("렌탈 중인 내역이 없거나 추가 렌탈 가능한 제품이 없어서 추가 렌탈이 불가능합니다.");

				$('#layNoCross #btn-cancel').addClass("bk");
				$('#layNoCross #btn-cancel span').text("닫기");
				$('#layNoCross #btn-safekey').hide();
			}

			gfnOpenLayer($('#layNoCross'), null);
		} else {
			gfnOpenLayer($('#layCrosspack'), null);	
		}		
	}
	
	function callBackSafeKeyFreeMbrsh(data){
		var strBirth = data.birth+"";
		var strName = data.name;
		var strGender = data.gender;
		var strMobile = data.phNum;
		var safeKeyNum = data.safeKeyNum;
		
		// 인증키발급 후 회원정보 수정
		var options = {
			url : "/goods/updateMemberInfo",
			data : {
				"mbrNm" : strName
				, "birth" : strBirth
				, "mobile" : strMobile
				, "gdGbCd" : strGender
				, "mbrNo" : 0
				, "tySafeKey" : safeKeyNum
			},
			done : function(data){
				if(safeKeyNum !=null){
					//주문페이지로 이동
					gotoOrderPayment();
				}
			}
		};
		ajax.call(options);
	}
		
	function buyCart(nowBuyYn, saleTpCd){
		
		
	
		// 색상 옵션 사용하는 경우 변수 변경
		var goodsId = 'G000067991';
		var goodsNm = '초소형 직수 정수기_셀프관리	';
		var useGrpSpecificItem = $("#specificItemInfo input[name='useGrpSpecificItem']").val();
		if(useGrpSpecificItem == 'Y'){
			goodsId = $("#specificItemInfo input[name='itemOptionGoodsId']").val();
			goodsNm = $("#specificItemInfo input[name='itemOptionGoodsNm']").val();
		}
		
		// 뒤로가기 클릭 시 장바구니 버튼과 다이렉트 렌탈 버튼 새로고침 안되어서 추가
		if('10' == saleTpCd && 'N' == getRntlBtnDispYn()){
			location.reload();
			return false;
		}
		var returnObj = validateGoodsSelect(nowBuyYn, saleTpCd);
		//validate 실패 시 '담기성공'아이콘 노출 차단
		$(".icoCart").addClass('basket_validate_fail');
		
		if(!returnObj.isValidation){
			return false;
		}
		
		$(".icoCart").removeClass('basket_validate_fail');	
		
		
		var goods_dispClsfNo = '100000005';
		var goods_prdtCd = 'WPUJAC104SWH';
		
		if( returnObj.saleTpCd == "10" && returnObj.nowBuyYn == "Y"){
			if ('0' == 0) {
				gfnOpenLayer($('#layOrdLoginCp'), null);
				return;
			}
			var options = {
				url : "/order/setDirectRentalInfo",
				data : {
					"goodsIds" : returnObj.goodsIds
					, "itemNos" : returnObj.itemNos
					, "clctReqYns" : returnObj.clctReqYns
					, "rntlTpCd" : returnObj.rntlTpCd
					, "prmtNo" : returnObj.prmtNo
					, "parentPrdtCd" : returnObj.parentPrdtCd // [크로스] 모 계정 제품 코드
					, "crossPrdtCd" : returnObj.crossPrdtCd // [크로스] 크로스 대상 제품 코드
					, "filterType" : returnObj.filterType // [크로스] 필터 타입, RENTAL_INFO.FILTER_TP_CD, 공통코드 FILTER_TP
					, "parentPrdtNm" : returnObj.parentPrdtNm // [크로스]  모계정 제품 명
					, "crsPreCtNo" : returnObj.crsPreCtNo // [크로스] 모계정 계약 번호
					, "crsRmnOwnPrd" : returnObj.crsRmnOwnPrd // [크로스] 계약의 잔여 계약 기간
					, "dutyUsePrd" : returnObj.dutyUsePrd 	// 의무 사용 기간 
					, "ownGetPrd" : returnObj.ownGetPrd		// 총 사용 기간
				},
				done : function(data){
					if(data.result == "0000"){		
						
						//GA 전환추적 스크립트
						try{gfn_gaDirectRentalEvent('<다이렉트 렌탈 이벤트 PC>', '<다이렉트렌탈 주문>');}catch(e){}																										
						
						
						// 본인인증 미완료 고객의 경우
						
						
						// 렌탈 주문서 이동
						gotoRentalOrderPayment();
					} else {
						alert(data.msg);
					}
				}
			};

			ajax.call(options);
		} else {
			
			if ('0' == 0 && 'N' == 'Y') { //일시불케어 상품인경우 세이프키때문에 로그인필요
				gfnOpenLayer($('#layOrdLoginCp'), null);
				return;
			}
			
			var options = {
				url : "/goods/insertCart",
				data : {
					"saleTpCd" : returnObj.saleTpCd
				    , "goodsIds" : returnObj.goodsIds
				    , "itemNos" : returnObj.itemNos
				    , "buyQtys" : returnObj.buyQtys
				    , "clctReqYns" : returnObj.clctReqYns
				    , "nowBuyYn" : returnObj.nowBuyYn
					, "addGoodsIds" : returnObj.addGoodsIds
					, "addItemNos" : returnObj.addItemNos
					, "coupon" : returnObj.coupon
					, "cartCoupon" : returnObj.cartCoupon
					, "dutyUsePrd" : returnObj.dutyUsePrd 	// 의무 사용 기간 
					, "ownGetPrd" : returnObj.ownGetPrd		// 총 사용 기간
					, "saleTpCdEpYn" : returnObj.saleTpCdEpYn
					, "planTpCd" : returnObj.planTpCd
				},
				done : function(data){
					if(returnObj.nowBuyYn == "N"){
				    	
				    	/* ga 장바구니 이벤트 start */							
						try{gfn_gaCartEvent();}catch(e){};														
					
						/* 구글 GTAG script 장바구니담기 */
						try{
							gtag('event', 'add_to_cart', { 
								"items": [  
									{      
										"id": goodsId,          // 시스템에서 생성된 주문번호  **필수      
										"name": goodsNm,        // 제품명  **필수      
										"list_name": "Search Results",     
										"brand": "skmagic",     
										"category": "100000005", // 제품 분류     
										"variant": "",    
										"list_position": 1,  
										"quantity": "1",                  // 제품 수량     
										"price": ""       // 제품 단가  
									}  
								]
							});								
						}catch(e){console.log("구글 GTAG 장바구니담기:"+e);}
													
						// Facebook Pixel - AddToCart
						if('undefined' != typeof fbq){
							fbq('track','AddToCart');
						}
						
						
						// 장바구니 담기 성공
						TweenMax.set('.icoCart' , {display : 'block' , scale : 0 , opacity : 0});
						TweenMax.to('.icoCart' , 0.3 ,{scale : 1, opacity : 1, onComplete : function(){
							TweenMax.to('.icoCart' , 0.3 , {delay : 0.5, scale : 0 , opacity : 0 , onComplete : function(){
								$('.icoCart').removeAttr('style');
							}})
						}});

						$("#newHeader .btn-header-utils-item em").text(data.cartCnt);
						
						
						//카카오모먼트 : 장바구니 추가(장바구니 추가 버튼 누를때)
    					
						try{
	    				    kakaoPixel('3295449034798877540').addToCart({
	    				        id: goodsId,
	    				        tag: 'sk_addcart'
	    				      });
						}catch(e){console.log(e);} 
						try{
							kakaoPixel('7644274910592417373').addToCart({
						        id: goodsId,
						        tag: '장바구니 완료_new'
						      });
						}catch(e){console.log(e);} 
    				    
						
    				  	//Event snippet for 장바구니 추가 conversion page
    				  	
    				   	    gtag('event', 'conversion', {'send_to': 'AW-455254603/S10GCPaNlvMBEMvEitkB'});
    				    
    				    
    				    //Event snippet for 장바구니 추가 완료_ new conversion page -->
    				    
    				    	var cartAmt = 
	    				    gtag('event', 'conversion', {
	    				        'send_to': 'AW-840191805/gNGUCOLhoYEYEL2e0ZAD',
	    				        'value': cartAmt,
	    				        'currency': 'KRW'
	    				    });
    				    
    				        				    
    				    
				    } else {
				    	
				    	//식기세척기 전용 상담 팝업 제출
				    	var consult_cleanse = false;
				    	var consult_regular_delivery = false;
				    	/*식기세척기 전용 상담 팝업 임시 주석 처리
				    	//SK 매직몰 & 패밀리몰의 식기세척기 카테고리 예외처리
				    	var arrConsultDispCls = [
				    		  '100000016'
				    		, '100000044' 
				    	]; 
				    	var arrConsultPrdtList = [
				    		  'ACL20C1ASKWH'
				    		, 'ACL25C1ASKCE'
				    		, 'ACL20U1CSKCE'
				    		, 'ACL15C1ASKWH'
				    		, 'ACL15C1ASSWH'
				    		, 'BID018DS26WH'
				    		, 'BID010NS26WH'
				    		, 'BIDM12DS26WH'
				    	];
				    	for ( var i = 0; i < arrConsultDispCls.length; i++ ) {
				    		if ( arrConsultDispCls[i] == goods_dispClsfNo ) {
				    			consult_cleanse = true;
						    	gfnOpenLayer($("#layRegularDelivery"), null);
						    	break;
				    		}
				    	}
				    	
				    	for ( var i = 0; i < arrConsultPrdtList.length; i++ ) {
				    		if ( arrConsultPrdtList[i] == goods_prdtCd ) {
					    		consult_regular_delivery = true;
						    	gfnOpenLayer($("#layRegularDelivery"), null);
						    	break;
				    		}
				    	}
				    	
				    	 */
				    	if(consult_cleanse != true && consult_regular_delivery != true){
					    	if("0" == "0" && 'N' != 'Y') {
					    		
					    		// 비회원 구매 팝업
					    		goSnsMemSelfAuth('NOMEMBER');
					    		
					    		
							} else {
					    		 						    		
										
								/*렌탈 계약 관련 확인*/
								var options2 = {
									url : "/join/rentalMobileCertification",
									data : {telNo : ""},
									method : "POST",
									done : function(data) {
										if (data.resultCode == 'Y'&& '' != "") {
											gfnOpenLayer($("#layMcMember"), null);
										}
									}   
								};
								ajax.call(options2);
								

								// 본인인증 미완료 고객의 경우
								
					    		
					    		if('N' == 'Y' && ('' == null || '' == "")){
					    			//일시불케어상품이고 세이프키가없는경우 세이프키발급필요
					    			gfnOpenPopupSafeKeyFreeMbrsh('callBackSafeKeyFreeMbrsh');
					    			return false;
					    		} 
					    		
								// 주문서 화면으로 이동
						    	gotoOrderPayment();
					    	}
				    	}
				    }
				}
			};
			ajax.call(options);
		}
	}
		
	function validateGoodsSelect(nowBuyYn, saleTpCd){
		var cartGoodsIds = new Array();
		var cartItemNos = new Array();
		var cartClctReqYns = new Array();
		var cartBuyQtys = new Array();
		var itemInfos = new Array();
		var addYInfos = new Array();
		var addGoodsIds = new Array();
		var addItemNos = new Array();
		
		var rentalTp = "";
		var clctReqPsbYn = "N";

		var prdtCd = "WPUJAC104SWH";
		var goodsId = 'G000067991';
		
		var useGrpSpecificItem = $("#specificItemInfo input[name='useGrpSpecificItem']").val();
		
		if(useGrpSpecificItem == 'Y'){
			goodsId = $("#specificItemInfo input[name='itemOptionGoodsId']").val();
			prdtCd = $("#specificItemInfo input[name='itemOptionPrdtCd']").val();
		}
			
		if( saleTpCd == "10"){
			rentalTp = "10" // $("input[name='rentalTp']:checked").val();
			clctReqPsbYn = ($('input[name=clctReqPsbYnRental]').is(":checked")) ? "Y" : "N"; // 폐가전 수거 동의 여부
			if (rentalTp == "30") { // 신규패키지인 경우
				nowBuyYn = "N"; // 바로구매 안됨. 장바구니 담기 실행.
			}
		} else {
			clctReqPsbYn = ($('input[name=clctReqPsbYnBuy]').is(":checked")) ? "Y" : "N"; // 폐가전 수거 동의 여부
		}
			
		var prmtNo = ""; // [단품] 화면에서 선택한 프로모션번호, 선택 하지않으면 "" 가능
		var parentPrdtCd = ""; // [크로스] 모 계정 제품 코드 - 기간계 상품정보
		var crossPrdtCd = ""; // [크로스] 크로스 대상 제품 코드 - 현재 상품
		var filterType = ""; // [크로스] 필터 타입, RENTAL_INFO.FILTER_TP_CD, 공통코드 FILTER_TP
		var parentPrdtNm = ""; // [크로스]  모계정 제품 명
		var crsPreCtNo = ""; // [크로스] 모계정 계약 번호
		var crsRmnOwnPrd = ""; // [크로스] 계약의 잔여 계약 기간
		var isValidation = false;
		var msg = "";
		
		
			
		if( saleTpCd == "10" && nowBuyYn == "Y"){
			if(rentalTp =="10") { // 단품인 경우
				if($("select[name='prmoList']").val() != undefined && $("select[name='prmoList']").val() != ""){
					prmtNo = $("select[name='prmoList']").val();
				}
			}
			if(rentalTp =="20") { // 크로스패키지인 경우
				var crossData = $('.rentalTp .cross.login').data();
				if(crossData.ctNo == ""){
					alert("추가렌탈 할 제품을 선택해 주세요.");
					if(!$("div.optionScroll div.view").is(":visible")){
						$('body, html').stop().animate({
							scrollTop : $("div.secItemOption").eq(0).position().top
						});
					}
					return { "isValidation" : false };
				}
				parentPrdtCd = crossData.ctPmModel;
				crossPrdtCd = "WPUJAC104SWH";
				filterType = crossData.filterTpCd;
				parentPrdtNm =crossData.pmNm;
				crsPreCtNo = crossData.ctNo;
				crsRmnOwnPrd = crossData.month;
			}
		}
			

			
		// 1. 선택 옵션 정보
		var optionCnt = 0;
		$("#buyItemList .optionItemList ul li").each(function(idx, obj) {
			var itemNo = $(this).data('itemNo');
			var itemNm = $(this).find("span.tit").text();
			var mdtry = $(this).data('mdtry');
			var buyQty = saleTpCd=="10"?1:$("input[name=itemQty" + $(this).data('itemNo') + "]").val();
			if(Number(buyQty) == 0){
				msg = "제품 수량을 입력하세요.";
				$("input[name=itemQty" + $(this).data('itemNo') + "]").focus();
				isValidation = true;
				return false;
			}
			cartGoodsIds.push(goodsId);
			cartItemNos.push(itemNo);
			cartClctReqYns.push(clctReqPsbYn);
			cartBuyQtys.push(buyQty);
			addGoodsIds.push(null);
			addItemNos.push(null);
			itemInfos.push({"itemNo":itemNo, "itemNm":$.trim(itemNm), "buyQty":Number(buyQty), "mdtry":mdtry});
			optionCnt ++;
		});
		// 20220502 매트리스 판매 상품 추가 일감:5771 매트리스의 일경우 렌탈시 강도 선택 확인 KGS 
		if(saleTpCd == "10" && $("#selStrength").length > 0 && "WPU" == 'MAT' && !$('#selStrength > option:selected').val()){
			
			isValidation = true;
			msg = "강도 유형을(를) 선택하세요.";
		}

		if(isValidation){
			alert(msg);
			return { "isValidation" : false };
		}			

		if(optionCnt == 0 && $("select[name='itemSelect']").length > 0){
			if (saleTpCd == "10" ) {
				// 렌탈은 기본 첫번째 단품으로 설정
				// 20220502 매트리스 판매 상품 추가 일감:5771 상품추가로 매트리스의 일경우 선택한값 매핑 KGS 
				var itemNo = '';
				var itemNm = '';
				if("WPU" == 'MAT'){
					
					itemNo = $('#selStrength > option:selected').val();
					itemNm = $.trim($('#selStrength > option:selected').text());
				}else{
					
					itemNo = '12262';
					itemNm = '기본단품';
				}

				var buyQty =1;
				var mdtry = "N";
				cartGoodsIds.push(goodsId);
				cartItemNos.push(itemNo);
				cartClctReqYns.push(clctReqPsbYn);
				cartBuyQtys.push(buyQty);
				addGoodsIds.push(null);
				addItemNos.push(null);
				itemInfos.push({"itemNo":itemNo, "itemNm":itemNm, "buyQty":buyQty, "mdtry":mdtry});
			} else {
				alert("을(를) 선택하세요.");
				if($("div.optionScroll div.view").is(":visible")){
					$("select[name='itemSelect']").next().eq(1).focus();
				} else {
					$("select[name='itemSelect']").next().eq(0).focus();
				}
				return { "isValidation" : false };
			}
		}			
			
		// 2. 필수 추가 구매 상품 정보
		var optionAddYCnt = 0;
		$("#buyItemList .optionAddYList ul li").each(function(idx, obj) {
			var _goodsId = $(this).data('goodsId');
			var itemNo = $(this).data('itemNo');
			var addItemNo = $(this).data('addItemNo');
			var buyQty = saleTpCd=="10"?1:$("input[name=qtyAddY_" + _goodsId + "]").val();
			if(Number(buyQty) == 0){
				msg = "제품 수량을 입력하세요.";
				$("input[name=qtyAddY_" + _goodsId + "]").focus();
				isValidation = true;
				return false;
			}
			cartGoodsIds.push(goodsId);
			cartItemNos.push(itemNo);
			cartClctReqYns.push("N");
			cartBuyQtys.push(buyQty);
			addGoodsIds.push(_goodsId);
			addItemNos.push(addItemNo);
			addYInfos.push({"goodsId":_goodsId, "itemNo":itemNo, "buyQty":Number(buyQty)});
			optionAddYCnt++;
		});

		if(isValidation){
			alert(msg);
			return { "isValidation" : false };
		}
			
		// 필수 추가구매 체크 [수량 및 선택 여부]
		for(var i =0; i<itemInfos.length; i++){
			if(itemInfos[i].mdtry == "Y"){
				var addYQty = 0;
				var addYGoodsId="";
				for(var j =0; j<addYInfos.length; j++){
					if(itemInfos[i].itemNo == addYInfos[j].itemNo){
						addYQty += addYInfos[j].buyQty;
						if(addYGoodsId == ""){
							addYGoodsId = addYInfos[j].goodsId;
						}
					}
				}
				if(addYQty == 0){
					alert("선택하신 "+itemInfos[i].itemNm+"은(는) 추가 상품 구입이 반드시 필요합니다");
					if($("div[name=addBuyYWrap]").is(":visible")){
						if($("div.optionScroll div.view").is(":visible")){
							$("select[name='addGoodsY']").next().eq(1).focus();
						} else {
							$("select[name='addGoodsY']").next().eq(0).focus();
						}
					}
					return { "isValidation" : false };
				}

				if(addYQty > 0 && addYQty != itemInfos[i].buyQty){
					alert(itemInfos[i].itemNm+"과(와) 추가 상품의 제품 수량을 동일하게 입력하세요.");
					$("input[name=qtyAddY_" + addYGoodsId + "]").focus();
					return { "isValidation" : false };
				}
			}
		}			
			
		// 3. 선택 추가 구매 상품 정보
		$("#buyItemList .optionAddNList ul li").each(function(idx, obj) {
			var _goodsId = $(this).data('goodsId');
			var itemNo = $(this).data('itemNo');
			var addItemNo = $(this).data('addItemNo');
			var buyQty = saleTpCd=="10"?1:$("input[name=qtyAddN_" + _goodsId + "]").val();
			if(Number(buyQty) == 0){
				msg = "제품 수량을 입력하세요.";
				$("input[name=qtyAddN_" + _goodsId + "]").focus();
				isValidation = true;
				return false;
			}
			/*
			cartGoodsIds.push(_goodsId);
			cartItemNos.push(addItemNo);
			cartClctReqYns.push("N");
			cartBuyQtys.push(buyQty);
			addGoodsIds.push(null);
			addItemNos.push(null);
			*/
			cartGoodsIds.push(goodsId);
			cartItemNos.push(itemNo);
			cartClctReqYns.push("N");
			cartBuyQtys.push(buyQty);
			addGoodsIds.push(_goodsId);
			addItemNos.push(addItemNo);		
		});

		if(isValidation){
			alert(msg);
			return { "isValidation" : false };
		}			
			
		// 4. 기본 단품 정보
		
		var basic = $("#buyItemList #basicItem");
		//var goodsId = goodsId;
		var itemNo = basic.data('itemNo');
		var buyQty = saleTpCd=="10"?1:$("input[name=itemQty" + itemNo + "]").val();
		if(Number(buyQty) == 0){
			alert("제품 수량을 입력하세요.");
			$("input[name=itemQty" + itemNo + "]").focus();
			return { "isValidation" : false };
		}

		cartGoodsIds.push(goodsId);
		cartItemNos.push(itemNo);
		cartClctReqYns.push(clctReqPsbYn);
		cartBuyQtys.push(buyQty);
		addGoodsIds.push(null);
		addItemNos.push(null);
		

		var prmtNo = ""; // [단품] 화면에서 선택한 프로모션번호, 선택 하지않으면 "" 가능
		var parentPrdtCd = ""; // [크로스] 모 계정 제품 코드 - 기간계 상품정보
		var crossPrdtCd = ""; // [크로스] 크로스 대상 제품 코드 - 현재 상품
		var filterType = ""; // [크로스] 필터 타입, RENTAL_INFO.FILTER_TP_CD, 공통코드 FILTER_TP
		var parentPrdtNm = ""; // [크로스]  모계정 제품 명
		var crsPreCtNo = ""; // [크로스] 모계정 계약 번호
		var crsRmnOwnPrd = ""; // [크로스] 계약의 잔여 계약 기간
		if( saleTpCd == "10" && nowBuyYn == "Y"){
			if(rentalTp =="10") { // 단품인 경우
				if($("select[name='prmoList']").val() != undefined && $("select[name='prmoList']").val() != ""){
					prmtNo = $("select[name='prmoList']").val();
				}
			}
			if(rentalTp =="20") { // 크로스패키지인 경우
				var crossData = $('.rentalTp .cross.login').data();

				if(crossData.ctNo == ""){
					alert("추가렌탈 할 제품을 선택해 주세요.");
					if(!$("div.optionScroll div.view").is(":visible")){
						$('body, html').stop().animate({
				            scrollTop : $("div.secItemOption").eq(0).position().top
				        });
					}
					return { "isValidation" : false };
				}
				parentPrdtCd = crossData.ctPmModel;
				crossPrdtCd = "WPUJAC104SWH";
				filterType = crossData.filterTpCd;
				parentPrdtNm =crossData.pmNm;
				crsPreCtNo = crossData.ctNo;
				crsRmnOwnPrd = crossData.month;
			}
		}

		// 가격체크 추가
		if( saleTpCd == "10" && nowBuyYn == "Y"){
			if(Number('47900') == 0){
				alert("예상 납부 금액이 정의되지 않아 다이렉트 렌탈이 불가합니다.");
				return { "isValidation" : false };
			}
		} else if( saleTpCd == "20" && nowBuyYn == "Y"){
			if(Number('0') == 0){
				alert("결제 예정 금액이 정의되지 않아 바로구매가 불가합니다.");
				return { "isValidation" : false };
			}
		}
		
		// ep상품여부
		var saleTpCdEp = "";
		var saleTpCdEpYn = "N";
		if(saleTpCdEp != ""){
			saleTpCdEpYn = "Y"
		}
		var planTpCd = $("#planTpCd").val();

		var returnObj = { "isValidation" : true
			, "saleTpCd" : saleTpCd
			, "nowBuyYn" : nowBuyYn
			, "goodsIds" : cartGoodsIds
			, "itemNos" : cartItemNos
			, "buyQtys" : cartBuyQtys
			, "clctReqYns" : cartClctReqYns
			, "addGoodsIds" : addGoodsIds
			, "addItemNos" : addItemNos
			, "rntlTpCd" : rentalTp
			, "prmtNo" : prmtNo
			, "prdtCd" : prdtCd
			, "parentPrdtCd" : parentPrdtCd // [크로스] 모 계정 제품 코드
			, "crossPrdtCd" : crossPrdtCd // [크로스] 크로스 대상 제품 코드
			, "filterType" : filterType // [크로스] 필터 타입, RENTAL_INFO.FILTER_TP_CD, 공통코드 FILTER_TP
			, "parentPrdtNm" : parentPrdtNm // [크로스]  모계정 제품 명
			, "crsPreCtNo" : crsPreCtNo // [크로스] 모계정 계약 번호
			, "crsRmnOwnPrd" : crsRmnOwnPrd // [크로스] 계약의 잔여 계약 기간
			, "coupon" : $("select[name='couponList']").val()
			, "cartCoupon" : $("select[name='cartCouponList']").val()
			, "dutyUsePrd" : $("input[name='rentalInfo']:checked").data("dutyUsePrd") 		// 의무 사용 기간
			, "ownGetPrd" : $("input[name='rentalInfo']:checked").data("ownGetPrd") 		// 총 사용 기간
			, "saleTpCdEpYn" : saleTpCdEpYn
			, "planTpCd" : planTpCd
		};
			
		return returnObj;			
	}
		
	// 세이프키 발급
	function openSafeKey() {
		gfnCloseLayer($('#layNoCross'));
		setRentalTp("10");

		gfnOpenPopupSafeKey('callBackSafeKey');
	}
	
	// 세이프키 발급 callback
	function callBackSafeKey(data) {
		var strBirth = data.birth+"";
		var strName = data.name;
		var gdGbCd = data.gender;		// 성별
		var strMobile = data.phNum;
		var safeKeyNum = data.safeKeyNum;

		var workType = $('#layNoCross').data('workType');

		var mbrData = {
			  "mbrNm" : strName
			, "birth" : strBirth
			, "mobile" : strMobile
			, "gdGbCd" : gdGbCd
			, "mbrNo" : 0
		};

		if (workType == 'TY') {
			mbrData = $.extend({}, mbrData, {"tySafeKey" : safeKeyNum});
		} else if (workType == 'MS') {
			mbrData = $.extend({}, mbrData, {"msSafeKey" : safeKeyNum});
		}
			
		// 인증키발급 후 회원정보 수정
		var options = {
			url : "/goods/updateMemberInfo",
			async : false,
			data : mbrData,
			done : function(data) {
			}
		};
		ajax.call(options);
	}		
		
	// 렌탈 유형 선택
	function setRentalTp(rentalTp) {
		if("G000067991" == 'G000020811' && rentalTp == "10"){
			rentalTp = "30";
		}
			
		$("input[name='rentalTp'][value=" + rentalTp + "]").prop("checked", true);
		changeRentalTp(rentalTp);
	}		
		
	// 주문서 화면으로 이동
	function gotoOrderPayment(){
		var prdtCd = "";
		var prdtYm = "";
		var tradeEventNo = "";
		location.href = "/order/indexOrderPayment?tradePrdtYm=" + prdtYm + "&tradePrdtCd=" + prdtCd + "&tradeEventNo=" + tradeEventNo;
	}
	// 회원 구매 로그인 화면으로 이동
	function gotoMemberLogin(){
		var goodsId = 'G000067991';
		if (goodsId == 'G000066798'){
			var prdtCd = "";
			var prdtYm = "";
			var eventNo = "";
			location.href = "/indexLogin" + "?returnUrl=/goods/indexGoodsDetail?goodsId=G000066798&tradePrdtYm=" + prdtYm + "&tradePrdtCd=" + prdtCd + "&tradeEventNo=" + eventNo;	
		}else {
			location.href = "/indexLogin" + "?returnUrl=/goods/indexGoodsDetail?goodsId=" + goodsId;
		}
		
	}
	
	// 식기세척기용 주문서 화면으로 이동
	function gotoOrderPaymentCleanse(){
		//비회원은 로그인 안내창 뜸.
		if("0" == "0") {
			goSnsMemSelfAuth('NOMEMBER');
		}
		//회원용(gotoOrderPayment 함수랑 동일)
		else{
			// 본인인증 미완료 고객의 경우
			
			location.href = "/order/indexOrderPayment";
		}
	}
	
	function showSimpleConsult(){
		
			 			
				gfnOpenLayer($('#laySelectRental'), null);
			
			
		
	} 
	
	// 사은품 초기화
	function initFreebieGift(){
		// 선택형 사은품 선택 초기화
		$("#laySimpleConsult input:checkbox[name='rentalFreebie']").each(function() {
			$(this).prop("checked", false);
		});
		// 선택형 사은품 수량 초기화
		$("#laySimpleConsult input[name='rentalFreebie_frbQty']").each(function() {
			$(this).val(0);
		});

		// 혜택사은품 영역 삭제
		
			
			// 기본 사은품
			$("#divRentalFreebieInfo ul.itemList li.li_freebie div.cont").find("a.rentalDftFreebie").each(function() {
				if($(this).attr("prmtNo") == "28904"){
					 $(this).remove();
				}
			});
			// 선택형 사은품
			$("#divRentalFreebieInfo ul.itemList li.li_freebie div.cont").find("div.selectBox.gift").each(function() {
				if($(this).attr("prmtNo") == "28904"){
					 $(this).remove();
				}
			});
			
			// 기본 사은품
			$("#divRentalFreebieInfo ul.itemList li.li_freebie div.cont").find("a.rentalDftFreebie").each(function() {
				if($(this).attr("prmtNo") == "29045"){
					 $(this).remove();
				}
			});
			// 선택형 사은품
			$("#divRentalFreebieInfo ul.itemList li.li_freebie div.cont").find("div.selectBox.gift").each(function() {
				if($(this).attr("prmtNo") == "29045"){
					 $(this).remove();
				}
			});
			
		

	}		
	
	// 혜택사은품 셋팅
	function makePrmtFreebie(prmtNo){
		// 상품 프로모션에 걸려있는 사은품 정보 조회
		$("#tempGoodsPrmtGiftList").html("");
		ajax.load("tempGoodsPrmtGiftList", "/goods/indexGoodsPrmtGiftList",  {"goodsId" : "G000067991", "prmtNo" : prmtNo}, null, "fnCallBackGoodsPrmtGifts");
	}
		
	// 다이렉트 렌탈 버튼 클릭 시 안내 레이어 팝업 
	function showDirectRentalConsult(){
		gfnOpenLayer($('#layOrdDirectRentalConsult'), null);
		$('#layOrdDirectRentalConsult .bk').on('click', function(e) {
			gfnCloseLayer($('#layOrdDirectRentalConsult'));
			showSimpleConsult();
		});
	}
		
	// 구매상담 유효성 체크 관련 정규식
	var validateGoodsInquiry = {
		mbrNmCheck : /^[A-Z|a-z|ㄱ-ㅎ|ㅏ-ㅣ|가-힣]+$/
		, mobileCheck : /^01([0|1|6|7|8|9])([0-9]{3,4})([0-9]{4})$/
		, telCheck : /^0\d{1,2}\d{3,4}\d{4}$/
		, validateMbrNm : function(obj) {
			var mbrNm = $(obj).val();
			if (WebUtil.isNotNull(mbrNm)) {
				if (!this.mbrNmCheck.test(mbrNm)) {			// 한글/영문 만 입력 체크
					$(obj).parents("div.cont").find("p.txtMsg").text("한글 또는 영문만 입력 가능합니다.");
					$(obj).addClass("vd");
					$(obj).parents("li").addClass("validate");
					return false;
				} else {
					$(obj).removeClass("vd");
					$(obj).parents("li").removeClass("validate");
					return true;
				}
			} else {
				$(obj).parents("div.cont").find("p.txtMsg").text("이름을 입력해 주세요.");
				$(obj).addClass("vd");
				$(obj).parents("li").addClass("validate");
				return false;
			}
		}
		, validateMobile : function(obj) {
			var mobile = $(obj).val();
			if (WebUtil.isNotNull(mobile)) {
				if (!valid.onlyNum.test(mobile)) {					// 숫자 만 입력 체크
					$(obj).parents("div.cont").find("p.txtMsg").text("숫자만 입력 가능합니다.");
					$(obj).addClass("vd");
					$(obj).parents("li").addClass("validate");
					return false;
				} else if (!(this.mobileCheck.test(mobile) || this.telCheck.test(mobile))) {				// 연락처 유효성 검사
					$(obj).parents("div.cont").find("p.txtMsg").text("잘못된 형식의 연락처 입니다.");
					$(obj).addClass("vd");
					$(obj).parents("li").addClass("validate");
					return false;
				} else if (mobile.replace(/0/gi,"").length < 2) {	// 연락처 유효성 검사
					$(obj).parents("div.cont").find("p.txtMsg").text("잘못된 형식의 연락처 입니다.");
					$(obj).addClass("vd");
					$(obj).parents("li").addClass("validate");
					return false;
				} else {
					$(obj).removeClass("vd");
					$(obj).parents("li").removeClass("validate");
					return true;
				}
			} else {
				$(obj).parents("div.cont").find("p.txtMsg").text("연락처를 입력해 주세요.");
				$(obj).addClass("vd");
				$(obj).parents("li").addClass("validate");
				return false;
			}
		}
		, checkByte : function(targetId, valueObj, maxByte){
			var result = 0;
			var strVal = $(valueObj).val();
			var strLen = strVal.length;
			var dLen = 0;
			if(strVal != ""){
				for(var idx=0; idx < strLen; idx++) {
					var c = escape(strVal.charAt(idx));
					
					if( c.length==1 ){
						result ++;
					} else if( c.indexOf("%u")!=-1 ){
						result += 2;
					} else if( c.indexOf("%")!=-1 ) {
						result += c.length/3;
					}
					if(result <= maxByte){
						dLen = idx + 1;
					}
				}
				
				if(result > maxByte){
					alert(maxByte+" Byte를 초과 입력할 수 없습니다.");
					strVal = strVal.substr(0,dLen);
					$(valueObj).val(strVal);
					this.checkByte(targetId, valueObj, maxByte);
				} else {
					if ($("#"+targetId).length > 0) {
						$("#"+targetId).html("("+result + "/" + maxByte + ")");
					}
				}
			}else{
				if ($("#"+targetId).length > 0) {
					$("#"+targetId).html("("+result + "/" + maxByte + ")");
				}
			}
		}
	};		
		
	
	
	//별점 후기 버튼 이벤트 등록
	function tabComment(){
		$('.tab').find("li").removeClass("on")
		$('.tab').find("li").eq(4).addClass("on")
		$('.tabContentWrap').find('.tabContent').eq(2).addClass('actived').siblings().removeClass('actived');
		var resetPosY =  $('.viewTabGroup').offset().top;
		$('body, html').stop().animate({ scrollTop : resetPosY});		
	}
	
	/*************************
	 * 선택 사은품 확인
	 *************************/
	function getFreeBieInfo(){
		var freebieArr = new Array();; // 상품아이디^사은품의상품아이디^사은품선택한수량^사은품의제품코드^그룹번호

		// 기본 사은품
		$("#divRentalFreebieInfo ul.itemList li.li_freebie div.cont").find("a.rentalDftFreebie").each(function() {
			var prmtNo = $(this).attr("prmtNo");
			$(this).find("input[name='rentalDftFreebie']").each(function() {
				var goodsId = $(this).val();
				var prdtCd = $(this).attr("prdtCd");
				var grpNo = $(this).attr("grpNo");
				var freebieNm = $(this).attr("freebieNm");				// 2019.01.16 PDH. 사은품명 렌탈서비스로 넘김					
				var frbQty = parseInt($(this).next().val());				
				var freebieInfo = "G000067991^"+goodsId+"^"+frbQty+"^"+prdtCd+"^"+grpNo+"^"+prmtNo+"^"+freebieNm;
				freebieArr.push(freebieInfo);
			});
		});
		
		// 선택형 사은품
		$("#divRentalFreebieInfo ul.itemList li.li_freebie div.cont").find("div.selectBox.gift").each(function() {
			var prmtNo = $(this).attr("prmtNo");
			// 선택사은품
			$(this).find("input:checkbox[name='rentalFreebie']:checked").each(function() {
				var goodsId = $(this).attr("goodsId");
				var prdtCd = $(this).attr("prdtCd");
				var grpNo = $(this).attr("grpNo");
				var freebieNm = $(this).attr("freebieNm");				// 2019.01.16 PDH. 사은품명 렌탈서비스로 넘김
				var frbQty = parseInt($(this).parent().next().find("input[name='rentalFreebie_frbQty']").val());			
				if(frbQty > 0){
					var freebieInfo = "G000067991^"+goodsId+"^"+frbQty+"^"+prdtCd+"^"+grpNo+"^"+prmtNo+"^"+freebieNm;
					freebieArr.push(freebieInfo);
				}
			});
		 });
		return freebieArr;
	}
 		
	// 기본 단품 표기..
	function showBasicItemInfo() {
		var itemNo = 12262;
		var stockQty = $('#basicItem').data("stockQty");
			
		var html = '    <span class="quantityWrap type02">'
			+ '			<button type="button" class="decrease"  onclick="goodsSelect.qtyDownItem(' + itemNo + ');"><span>수량감소</span></button>'
			+ '			<button type="button" class="increase"  onclick="goodsSelect.qtyUpItem(' + itemNo + ');"><span>수량증가</span></button>'
			+ '			<input type="text" name="itemQty' + itemNo + '" value="1" class="num qty">'
			+ '		</span>'
			+ '		<input type="hidden" name="itemAmt" value="0">';
			
		$(".basicItem .cont").html(html);
		$(".qty").mask("#0", {reverse: true, maxlength: false});
			
		

		goodsSelect.calAmtItem(itemNo);
	}

	var goodsSelect = {
		// 1. 옵션
		qtyDownItem : function(itemNo) {
			
					
			var qtyObj = $("input[name=itemQty" + itemNo + "]");
			var qty = qtyObj.val();
			if (qty > 0) {
				qty--;
			}
			qtyObj.val(qty);

			var div = qtyObj.closest('li');
			var stockQty = $(div).data("stockQty");

			if (qty > stockQty) {
				alert("현재 주문가능한 수량은 " + stockQty + "개입니다.");
				$("input[name=itemQty" + itemNo + "]").val(stockQty);
			}

			goodsSelect.calAmtItem(itemNo);
		},
		qtyUpItem : function(itemNo) {
			
			
			var qtyObj = $("input[name=itemQty" + itemNo + "]");
			var qty = qtyObj.val();
			qty++;

			qtyObj.val(qty);

			var div = qtyObj.closest('li');
			var stockQty = $(div).data("stockQty");

			if (qty > stockQty) {
				alert("현재 주문가능한 수량은 " + stockQty + "개입니다.");
				$("input[name=itemQty" + itemNo + "]").val(stockQty);
			}

			goodsSelect.calAmtItem(itemNo);
		},
		qtyStockCheck : function(itemNo, stockQty) {
			var qtyObj = $("input[name=itemQty" + itemNo + "]");
			var qty = qtyObj.val();
			if (!$.isNumeric(qty)) {
				qty = 1;
				qtyObj.val(qty);
			}
			if (qty > stockQty) {
				alert("현재 주문가능한 수량은 " + stockQty + "개입니다.");
				qtyObj.val(stockQty);
			}
			goodsSelect.calAmtItem(itemNo);
		},
		delItem : function(itemNo) {
			var mdtry = $("li[name=item" + itemNo + "]").data("mdtry");

			$("li[name=item" + itemNo + "]").remove();

			if (mdtry == "Y"){
				deleteAddMdtryBuy(itemNo);
			}
			
			// selectbox 기본 값으로 변경
			if ($("li[name=item" + itemNo + "]").length == 0) {
				$("select[name=itemSelect]").val('');
				selectBoxReFresh();
				
				/* 2023.02.23 필수옵션 삭제 시 선택 옵션(필수X) 같이 삭제, 선택옵션 초기화  s */
				$("#buyItemList .optionList.optionAddNList ul").empty();		
				$("div[name=addBuyN]").find("a.selected").text('선택 안 함');
				/*// 2023.02.23 필수옵션 삭제 시 선택 옵션(필수X) 같이 삭제, 선택옵션 초기화  e */
			}
			calTotalBuyAmt();  /* 2023.02.23 필수옵션, 선택 옵션 처리 후 계산*/
					
			//수거 요청 가능한 단품인지 체크
			$(".optionItemList ul li").each(function(idx, obj) {
				var option = $(obj);
				var clctReqPsbYn = option.data('clctReqPsbYn');
				// 수거 요청 불가능한 단품이 존재하는 경우
				if( clctReqPsbYn == 'N' ) {
					// 폐가전 수거 요청칸 disabled
					$("input[id=clctReqPsbYn2]").attr("checked",false);
					$("input[id=clctReqPsbYn2]").parents("li").hide();
					return false;
				}
				$("input[id=clctReqPsbYn2]").parents("li").show();
						
			});
		},
		calAmtItem : function(itemNo) {
			var parent = $("li[name=item" + itemNo + "]");
					
			
				
				
					var saleAmt = Number('0');
				
			
					
			var addSaleAmt = Number(parent.data("addSaleAmt"));
			var qty = $("input[name=itemQty" + itemNo + "]").val();
				
			var amt = 0;
			if(isNaN(addSaleAmt)) {
				amt = saleAmt * qty;
			}else{
				amt = (saleAmt + addSaleAmt) * qty;
			}
			
			parent.find('.itemPrice').text(valid.numberWithCommas(amt));
			parent.find("input[name=itemAmt]").val(amt);
					
			//기본 단품일시에는 그냥 금액만 해서 혜택가 보여줌...
			
				$(".basicItem").find("input[name=itemAmt]").val(amt);
			
				
			calTotalBuyAmt();
		},
		// 2. 추가 구매 상품
		qtyDownAddGoods : function(goodsId, mdtryYn) {
			var qtyObj = $("input[name=qtyAdd" + mdtryYn + "_" + goodsId + "]");

			var qty = qtyObj.val();
			if (qty > 0) {
				qty--;	
			}
			qtyObj.val(qty);

			var div = qtyObj.closest('li');
			var stockQty = $(div).data("stockQty");
			if (qty > stockQty) {
				alert("현재 주문가능한 수량은 " + stockQty + "개입니다.");
				qtyObj.val(stockQty);
			}

			goodsSelect.calAmtAddGoods(goodsId, mdtryYn);
		},
		qtyUpAddGoods : function(goodsId, mdtryYn) {
			var qtyObj = $("input[name=qtyAdd" + mdtryYn + "_" + goodsId + "]");
			var qty = qtyObj.val();
			qty++;

			qtyObj.val(qty);

			var div = qtyObj.closest('li');
			var stockQty = $(div).data("stockQty");
			if (qty > stockQty) {
				alert("현재 주문가능한 수량은 " + stockQty + "개입니다.");
				qtyObj.val(stockQty);
			}

			goodsSelect.calAmtAddGoods(goodsId, mdtryYn);
		},
		qtyStockCheckAdd : function(goodsId, mdtryYn, stockQty) {
			var qtyObj = $("input[name=qtyAdd" + mdtryYn + "_" + goodsId + "]");
			var qty = qtyObj.val();
			if (!$.isNumeric(qty)) {
				qty = 1;
				qtyObj.val(qty);
			}
			if (qty > stockQty) {
				alert("현재 주문가능한 수량은 " + stockQty + "개입니다.");
				qtyObj.val(stockQty);
			}

			goodsSelect.calAmtAddGoods(goodsId, mdtryYn);
		},
		delAddGoods : function(goodsId, mdtryYn) {
			$("li[name=addGoods" + mdtryYn + "_" + goodsId + "]").remove();

			calTotalBuyAmt();

			// selectbox 기본 값으로 변경
			if ($("li[name=addGoods" + mdtryYn + "_" + goodsId + "]").length == 0) {
				if (mdtryYn == 'Y') {
					$("select[name=addGoods" + mdtryYn + "]").val('');
					selectBoxReFresh();
				} else {
					$("div[name=addBuyN]").children("a.selected").text('선택 안 함');
				}
			}

			$("div[name=addBuyN]").find("a.selected").text('선택 안 함');  /* 2023.02.23. 선택 옵션 삭제시 초기화  */
			
		},
		calAmtAddGoods : function(goodsId, mdtryYn) {
			var obj = $("li[name=addGoods" + mdtryYn + "_"+ goodsId + "]");

			var salePrcDc = Number(obj.data("salePrcDc"));
			var qty = $("input[name=qtyAdd" + mdtryYn + "_" + goodsId + "]").val();

			var amt = salePrcDc * qty;

			obj.find('.add' + mdtryYn + 'Price').text(valid.numberWithCommas(amt));
			obj.find("input[name=add" + mdtryYn + "Amt]").val(amt);

			calTotalBuyAmt();
		}
	};		

	var mCouponAmt = 0;
	var mCartCouponAmt = 0;
	var mCartCouponVal = 0;
	
	// 단품, 추가 구매 상품 변경 시마다 결제 금액 계산
	function calTotalBuyAmt(changeByCoupon) {
		var originTotalBuyAmt = $('#salePriceBox .pricebox .price strong').text();  /* 2023.02.23 구매가 금액 */  //$("#salePrice").text(); 

		var totalBuyAmt = 0;
		mCouponAmt = 0;
		mCartCouponAmt = 0;
			
		// zhdzhdee 추가 start ----------------------------------------
		// 쿠폰할인 정보
		var couponDcAmt = 0;
		var totCnt = 0;
		// zhdzhdee 추가 end ----------------------------------------

		// 1. 선택 옵션 정보
		var item = new Array();
		$("#buyItemList .optionItemList ul li").each(function(idx, obj) {
			var itemNo = $(this).data('itemNo');
			var sumAmt = Number($(this).find("input[name=itemAmt]").val());

			item.push( {
				itemNo : itemNo,
				qty : $("input[name=itemQty" + itemNo + "]").val(),
				sumAmt : sumAmt
			} );

			totalBuyAmt += sumAmt;
			// zhdzhdee 추가 start ----------------------------------------			
			// 2023.02.16. PC/MO 의 쿠폰할인 계산 로직 통일 . start ---------------
			// 쿠폰할인 계산
			
    			
    			
    				var saleAmt = Number("0");
    			
    		
			// 2023.02.16. PC/MO 의 쿠폰할인 계산 로직 통일 . end ---------------
			
			var addSaleAmt = Number($(this).data("addSaleAmt"));
			var qty = $("input[name=itemQty" + itemNo + "]").val();
			totCnt += qty; 
			couponDcAmt += calCouponDcAmt(saleAmt + addSaleAmt)*qty;
			// zhdzhdee 추가 end ----------------------------------------
		});
			
		// 2. 필수 추가 구매 상품 정보
		var addGoodsY = new Array();
		$("#buyItemList .optionAddYList ul li").each(function(idx, obj) {
			var goodsId = $(this).data('goodsId');
			var itemNo = $(this).data('itemNo');
			var sumAmt = Number($(this).find("input[name=addYAmt]").val());

			addGoodsY.push( {
				itemNo : itemNo,
				goodsId : goodsId,
				qty : $("input[name=qtyAddY_" + goodsId + "]").val(),
				sumAmt : sumAmt
			} );
			
			totalBuyAmt += sumAmt;
		});
			
		// 3. 선택 추가 구매 상품 정보
		var addGoodsN = new Array();
		var addAmt = 0;
		$("#buyItemList .optionAddNList ul li").each(function(idx, obj) {
			var goodsId = $(this).data('goodsId');
			var sumAmt = Number($(this).find("input[name=addNAmt]").val());

			addGoodsN.push( {
				goodsId : goodsId,
				qty : $("input[name=qtyAddN_" + goodsId + "]").val(),
				sumAmt : sumAmt
			} );

			totalBuyAmt += sumAmt;
			addAmt = sumAmt;
		});
		
		// 4. 기본 단품 정보
		
		var item = new Array();
		var basic = $("#buyItemList #basicItem");

		var itemNo = basic.data('itemNo');
		var sumAmt = Number($(".basicItem").find("input[name=itemAmt]").val());
			
		item.push( {
			itemNo : itemNo,
			qty : $("input[name=itemQty" + itemNo + "]").val(),
			sumAmt : sumAmt
		} );
				
		totalBuyAmt += sumAmt;
		// zhdzhdee 추가 start ----------------------------------------
		
		// 쿠폰할인 계산
		// 2023.02.16. PC/MO 의 쿠폰할인 계산 로직 통일 . start ---------------
		
   			
   			
   				var saleAmt = Number("0");
   			
   		

		var qty = Number($(".basicItem").find("input[name=itemQty" + itemNo + "]").val());
		totCnt = qty; 
		
		couponDcAmt += (calCouponDcAmt(saleAmt) * qty);
		// 2023.02.16. PC/MO 의 쿠폰할인 계산 로직 통일 . end ---------------
		
		// zhdzhdee 추가 end ----------------------------------------
		
			
		totalBuyAmt -=  couponDcAmt; 
		var cartCouponDcAmt = calCartCouponDcAmt(totalBuyAmt);
		totalBuyAmt -= cartCouponDcAmt;
		
		// zhdzhdee 추가 start ----------------------------------------
		//  결제 금액 Title 셋팅 (2023.02.16. 모바일엔 안되어 있음. 수정 필요한지 체크 필요)
		if(couponDcAmt > 0){			
			
			
		} else {
			$("#buyPriceTitle").text("결제 예정 금액");
		}
		
		// 2023.02.16. 결제 금액 관련 수정 start -------------------------------
		/**
		* 수정 전 소스는 쿠폰 적용 후 상단 기본 할인율, 기본 할인값이 변경되고, 기본 할인율과 기본 할인값이 표시 되지 않았을 경우 표시 되게 함. 
		* 수정 후 소스는 쿠폰 적용 관계 없이 상단 기본할인율, 기본 할인값은 변경하지 않고, 상세 페이지 첫 로드시 기본 할인율과 기본 할인값이 표시 안되었다면 그대로 둠.
		*/
		// 할인 쿠폰 선택 시 할인율, 할인가 변경
		if(totalBuyAmt < 0) {
			$("#totalBuyAmt").text(format.num(0));
		} else {
			//  결제 금액 셋팅 [총 결제금액 - 쿠폰할인금액]
			$("#totalBuyAmt").text(format.num(totalBuyAmt));			
		}
		// 2023.02.16. 결제 금액 관련 수정 end -------------------------------
		
		// zhdzhdee 추가 end ----------------------------------------
			
		// 프로모션 정보
		

		// 폐가전 수거 동의 여부
		var clctReqPsbYn = ($('input[name=clctReqPsbYnBuy]').is(":checked")) ? "Y" : "N";
			
		// 구매 상담 상품 여부
		var cusReqGoodsYn = "N";
		
		/* 2023.02.23 필수 옵션 상품의 경우 필수 옵션 선택 안되어 있을 경우 결제예정금액을 기본 금액으로 재 셋팅 s */
		
		/*// 2023.02.23 필수 옵션 상품의 경우 필수 옵션 선택 안되어 있을 경우 결제예정금액을 기본 금액으로 재 셋팅 e */

	}
		
	// 쿠폰할인 계산
	var mCouponAmt = 0; 
	var mCartCouponAmt = 0;
	
	// 2023.02.16 기존 쿠폰/장바구니 쿠폰 계산 (calCouponDcAmt, calCartCouponDcAmt) start ------------------
	function calCouponDcAmt(baseAmt) {
		var couponDcAmt = 0;
		var cartDcAmt = 0;
		var couponDcAmtPart = 0;
		var baseAmtMinus = 0; 

		if(baseAmt > 0){
			if($("select[name='couponList']").val() != undefined && $("select[name='couponList']").val() != ""){
				var couponCpAplCd = $("select[name='couponList'] option:selected").attr("cpAplCd");
				
				if(couponCpAplCd != ""){
					var couponAplVal = 0;
					var  couponMaxDcAmt = 0;
					if(!isNaN(Number($("select[name='couponList'] option:selected").attr("aplVal")))){
						couponAplVal = Number($("select[name='couponList'] option:selected").attr("aplVal"));
					}
					if(!isNaN(Number($("select[name='couponList'] option:selected").attr("maxDcAmt")))){
						couponMaxDcAmt = Number($("select[name='couponList'] option:selected").attr("maxDcAmt"));
					}

					// 할인금액 계산
					if(couponCpAplCd == '10' ){ // 정률
						couponDcAmt = Math.ceil(baseAmt*couponAplVal/1000)*10;
					} else { // 정액
						couponDcAmt = couponAplVal
					}

					// 최대할인금액 체크
					if(couponMaxDcAmt > 0 && couponDcAmt >couponMaxDcAmt ){
						couponDcAmt = couponMaxDcAmt;
					}
						
					if(couponDcAmt > baseAmt){
						couponDcAmt = baseAmt;
					}
					baseAmtMinus = baseAmt - couponDcAmt ;
				}
					
				couponDcAmtPart = couponDcAmt;
			}
		}
		mCouponAmt += couponDcAmtPart;		
		
		return couponDcAmt;
	}
		
	function calCartCouponDcAmt(baseAmt){
		var cartCouponDcAmt = 0;
		var baseAmtMinus = 0;
		
		if(baseAmt > 0){
			if($("select[name='cartCouponList']").val() != undefined && $("select[name='cartCouponList']").val() != ""){
				var mbrCpNo =  $("select[name='cartCouponList']").val();
				var dcAmtObj = $(".coupon_use_cart_" + mbrCpNo + "_dc_amt");
					
				// 쿠폰 할인금액 계산
				var cpAplCd = $(".coupon_use_cart_" + mbrCpNo + "_cp_apl_cd").val();
				var cpApl = $(".coupon_use_cart_" + mbrCpNo + "_cp_apl").val();
				var minBuyAmt = $(".coupon_use_cart_" + mbrCpNo + "_min_buy_amt").val();
				var maxDcAmt = $(".coupon_use_cart_" + mbrCpNo + "_max_dc_amt").val();
					
				var cartCouponDcAmt = 0;
	
				// 정률/정액에 따른 할인 금액 계산
				if(cpAplCd == "10"){
					var tmpCpApl = parseInt(cpApl) / 100;
					cartCouponDcAmt = Math.ceil( (baseAmtMinus == 0 ? baseAmt : baseAmtMinus)  * tmpCpApl / 10) * 10;
				}else{
					cartCouponDcAmt = parseInt(cpApl);
				}
					
				// 최대 할인 금액 체크
				if(maxDcAmt != "" && maxDcAmt != "0"){
					if(cartCouponDcAmt > parseInt(maxDcAmt)){
						cartCouponDcAmt = maxDcAmt;
					}
				}
			}			
		}
		mCartCouponAmt = cartCouponDcAmt;
		return cartCouponDcAmt;
	}
	// 2023.02.16 모바일과 계산 맞추기 위해 수정 (calCouponDcAmt, calCartCouponDcAmt) end ------------------
	
	// 2023.02.09 최대 혜택 적용 시 쿠폰 다운로드 모바일 화면의 소스와 맞춤. start --------
	// 2018.10.24. PDH. 쿠폰 SELECT BOX 선택시 해당쿠폰 다운로드 
	function insertCoupon(cpNo){
		var returnObj = validateGoodsSelect("1", "20");
    	if(!returnObj.isValidation){
    		return false;				
    	}
    	
		var changeByCoupon = 'Y';
		
		if(cpNo == ''){
			calTotalBuyAmt(changeByCoupon);
			return;
		}
		
		if ('0' == 0){
			if(confirm("회원대상 쿠폰 다운로드 후 이용이 가능합니다 \n로그인 페이지로 이동하시겠습니까?")){
	 		 }else{
				 alert("계속 상품정보를 보겠습니다");
				 return;
			} 
		} 
			
		var options = {
			url : "/event/insertCoupon",
			data : {cpNo : cpNo},
			done : function(data){						
				if(data.resultCode == "S"){
					alert(data.resultMsg);									
				}
			
				//$("select[name='cartCouponList']").val(mCartCouponVal); // 2023.02.16. mCartCouponVal 이 null 인데 적용되어 쿠폰 받고 적용이 안되어 주석처리 
				calTotalBuyAmt(changeByCoupon);
			}
		};

		ajax.call(options);
	}
	// 2023.02.09 최대 혜택 적용 시 쿠폰 다운로드 모바일 화면의 소스와 맞춤. end --------
		
	// 2018.10.24. PDH. 쿠폰 SELECT BOX 선택시 해당쿠폰 다운로드 
	function insertCoupon2(cpNo){
		var options = {
			url : "/event/insertCoupon",
			data : {cpNo : cpNo},
			done : function(data){
				if(data.resultCode == "S"){
					$("#cpDownSpan").hide();
					$("#cpCompleSpan").show();
					alert(data.resultMsg);									
				} else if(data.resultCode == "F"){
					alert(data.resultMsg);									
				}
			}
		};

		ajax.call(options);
	}
			 
	function openRestockLayer() {
		if ("0" == "0") {
			gfnOpenLayer($('#layOrdLoginCp'), null);
			return;
		} else {
			gfnOpenLayer($('#layRestockAlim'), null);
		}
	}
		
	function sendRestockAlim() {
		if(confirm('재입고 알림 신청하시겠습니까?')){
			var _mbrNo = '0';
			var _prdtCd = $("input[name=restockAlimPrdtCd]").val();
			var _goodsId = 'G000067991';
			
			var useGrpSpecificItem = $("#specificItemInfo input[name='useGrpSpecificItem']").val();
			if(useGrpSpecificItem == 'Y'){
				_goodsId = $("#specificItemInfo input[name='itemOptionGoodsId']").val();
			}
				
			if( _prdtCd.length == 0 ) {
				alert("재입고 알림을 받으시려는 설치 유형을 선택해주세요.");
				return false;
			}
				
			$.ajax({
				url: "/goods/sendRestockAlim",
				method: "POST",
				data: {mbrNo: _mbrNo, prdtCd: _prdtCd, goodsId: _goodsId},
				error: function() {
					alert("재입고 알림 신청이 신청되지 않았습니다.");
					$(".btnClose").click();
				},
				success: function(data) {
					if( data.responseCode == '0' ){
						alert("재입고 알림 신청이 완료되었습니다.");
					} else if ( data.responseCode == '1' ){
						alert("재입고 알림을 이미 신청하셨습니다.");
					} 
					$(".btnClose").click();
				}
			});	
		}
	}
	
	// 2023.01.20 추가. 타사 보상 렌탈 확인 (매직몰, 패밀리몰)
	function checkTradeInYn(){
		let tradeInItemYn = '';
		let checkMall = false;  // 접속 페이지 매직몰, 패밀리몰 체크
		
		
		checkMall = true;
		
		
		if(checkMall && (tradeInItemYn != null && tradeInItemYn == 'Y'))
			return true;
		else
			return false;
	}
	
	/** 2023.01.20 타사 보상 렌탈 여부 확인 추가. (매직몰, 패밀리몰) 
	 * 타사 보상 렌탈인 경우 일반 렌탈 상담(전화)로 변경
	 */
	function confirmDirectRental(nowBuyYn, saleTpCd){
		if(checkTradeInYn()) {
			// 타사 보상 렌탈의 경우 타사 보상 진행/미진행 선택 팝업
			gfnOpenLayer($('#layotherCpn'), null);
		} else {
			// 타사 보상 렌탈이 아닌 경우 기존 다이렉트 렌탈
			directRental(nowBuyYn, saleTpCd);
		}
	}
		
	// 다이렉트 렌탈
	function directRental(nowBuyYn, saleTpCd){
		if("0" != "0") {
			var returnObj = validateGoodsSelect(nowBuyYn, saleTpCd);

			if(!returnObj.isValidation){
				return false;
			}
			// 2023.04.13 법인회원 다이렉트렌탈 주문시 일반상담 전환
			if("" == "20" && ("1" == "1" || "1" == "2")){
				if(confirm("법인회원은 일반렌탈상담을 통해 렌탈접수가 가능하십니다. \n접수창으로 이동할까요?")){
					popSimpleConsult();  // 전화상담
				}
				return false;
			}
			buyCart(nowBuyYn, saleTpCd);
		} else {
			buyCart(nowBuyYn, saleTpCd);
		}
	}
	
	// 2023.01.20 타사 렌탈 보상 여부 제품의 다이렉트 렌탈 > 타사 보상 진행 버튼 클릭 
	function tradePage(){
		gfnCloseLayer($('#layotherCpn'));
		
		alert('타사보상 진행시 일반렌탈상담으로 전환됩니다.');
		popSimpleConsult();  // 전화상담
		
		// 다이렉트 렌틀 > 타사보상적용 으로 넘어갔기 때문에 타사보상 체크 후 수정 못하게 막음
		$('#tradeInYnCallChk').prop('checked', true);
		$('#tradeInYnCallChk').prop('disabled', true);
	}
	
	//가전,렌탈 플랜 선택
	function selectPlan(obj){ 
		$("#planTpCd").val(obj);
		if(confirm(((obj == '10') ? '렌탈' : '가전') + "할인플랜 적용건으로 선택하시겠습니까?")) {
			buyCart('Y','20');
			gfnCloseLayer($('#layPlanguide'));
		} 
	}
	
	// 렌탈 정보 - 다이렉트렌탈 버튼 노출 여부
	function getRntlBtnDispYn(){
		var rntlBtnDisp = 'Y';
		var options = {
			  url : '/goods/getRentalInfoList'
			, data : {'goodsId' : 'G000067991'}
			, async: false
			, done : function(data){
				if(WebUtil.isNotNull(data) && data.length > 0 && 'N' == data[0].rntlBtnDispYn){
					rntlBtnDisp = 'N';
				}
			}
		};
		ajax.call(options);
		return rntlBtnDisp;
	}

	function restockItemChange(obj) {
		var _prdtCd = $(obj).children("option:selected").data("prdtCd");
		var _itemNo = $(obj).val();
		
		//재입고 알림 레이어 데이터 binding
		$("input[name=restockAlimPrdtCd]").val(_prdtCd);
		$("select[name=restockItemSelect]").val(_itemNo);
		selectBoxReFresh();
	}

	// 단품 옵션 변경 시 하단에 선택 옵션 정보 표기..
	function changeBuyItem(obj) {
		var _stockQty = $(obj).children('option:selected').data('stockQty');
		var _prdtCd = $(obj).children('option:selected').data('prdtCd');
		var _itemNo = $(obj).val();
			
		if ( _stockQty <= 0 ) {
			alert('해당 본 품목은 재고가 없습니다. ');
			$('.optionScrollRight .soldout').show(); 
			$('.optionScrollRight .cont2').hide();
			$('.optionScrollRight .buy .setPrice').hide();
  			return;
		} else {
			$('.optionScrollRight .cont2').show();
			$('.optionScrollRight .buy .setPrice').show();
			$('.optionScrollRight .soldout').hide(); 
			selectBoxReFresh();
		}
		// zhdzhdee 추가 start ----------------------------------------
		// 필수 추가구매 체크 로직 추가
		var optionAddYCnt = 0;
		$('#buyItemList .optionAddYList ul li').each(function(idx, obj) {
			optionAddYCnt++;
		});

		if(optionAddYCnt == 0 && $('div[name=addBuyYWrap]').is(':visible')){
			alert('필수 추가 상품이 필요한 설치유형 본품을 선택하셨습니다.\n추가구매 제품을 선택하시거나 선택하신 본품을 삭제해 주세요.');
			$('select[name=itemSelect]').val($('select[name=addGoodsY]').data('itemNo'));
			selectBoxReFresh();
			return false;
		}
		// zhdzhdee 추가 end ----------------------------------------

		var option = $(obj).children('option:selected');

		var itemNo = $(obj).val();
		var itemNm = option.text();
		var addSaleAmt = Number(option.data('addSaleAmt'));
		var stockQty = option.data('stockQty');
		var clctReqPsbYn = option.data('clctReqPsbYn');
			
		if (itemNo == '' || itemNo == null || typeof itemNo == 'undefined') {
			return;
		}
		if ($('li[name=item' + itemNo + ']').length == 0) {
			var html = '<li name="item' + itemNo + '" data-item-no="' + itemNo + '" data-add-sale-amt="' + addSaleAmt + '" data-stock-qty="' + stockQty + '"data-clct-req-psb-yn="'+clctReqPsbYn+'">'
					+ '	<span class="tit">' + itemNm;
			
			html += '</span>'
				+ '	<span class="quantityWrap">'
				+ '		<button type="button" class="decrease"  onclick="goodsSelect.qtyDownItem(' + itemNo + ');"><span>수량감소</span></button>'
				+ '		<button type="button" class="increase"  onclick="goodsSelect.qtyUpItem(' + itemNo + ');"><span>수량증가</span></button>'
				+ '		<input type="text" name="itemQty' + itemNo + '" value="1" class="num qty">'
				+ '	</span>'
				+ '	<span class="price"><strong class="itemPrice"></strong> 원</span>'
				+ '	<input type="hidden" name="itemAmt">'
				+ '	<button type="button" class="del" onclick="goodsSelect.delItem(' + itemNo + ');"><span>삭제</span></button>'
				+ '</li>';

			$('.optionItemList ul').append(html);
			$('.qty').mask('#0', {reverse: true, maxlength: false});

			goodsSelect.calAmtItem(itemNo);

			// 선택한 옵션 명 텍스트 설정
			$('select[name=itemSelect]').val(itemNo);
			
			if(itemNm.indexOf("직접설치") != -1){
				gfnOpenLayer($('#layGasLNG'), null);
			}

			selectBoxReFresh();
		}
		
		// 필수 추가 구매 상품 체크
		checkAddMdtryBuy(itemNo);
			
	}
		
	// 필수 추가 구매 상품 정보 조회
	function checkAddMdtryBuy(itemNo) {
		var options = {
			url : "/goods/getAddMdtryBuyList",
			data : {goodsId : 'G000067991', itemNo : itemNo},
			done : function(data) {
				var list = data.addMdtryList;

				if (list == undefined || list.length == 0) {
					$("li[name=item" + itemNo + "]").data("mdtry", "N");
				} else {
					$("li[name=item" + itemNo + "]").data("mdtry", "Y");
					var html = "";
					for (var i=0; i<list.length; i++) {
						var goods = list[i];

						html += '<option value="' + goods.addGoodsId + '" data-add-item-no="' + goods.addItemNo + '" data-sale-prc-dc="' + goods.salePrcDc + '" data-stock-qty="' + goods.stockQty + '"';
						if (goods.stockQty > 0){
							html += '>[추가] ';
						} else{
							html += 'class="disabled" disabled="disabled">[품절] ';
						}
						html += goods.goodsNm + ' (+' + valid.numberWithCommas(goods.salePrcDc) + '원)</option>';
					}
					$("select[name=addGoodsY]").append(html);
					$("div[name=addBuyYWrap]").show();
					$("select[name=addGoodsY]").attr("data-item-no", itemNo);
					selectBoxReFresh();
				}
					
				var pkgYn = 'N';
				if( pkgYn == 'Y' ) {
						$('select[name=addGoodsY] option:eq(1)').prop('selected',true);
						changeBuyAddY($('select[name=addGoodsY]').first());
				}
			}
		};
		ajax.call(options);
	}
		

	// 쿠폰 다운로드
	function downCoupon() {
		if ('0' == 0) {
			gfnOpenLayer($('#layOrdLoginCp'), null);
			return;
		}

		var options = {
			url : "/goods/downloadCouponGoodsAll",
			data : {goodsId : 'G000067991'},
			done : function(data) {
				gfnOpenLayer($('#layOrdCoupon'), null);
			}
		};
		ajax.call(options);
	}		
	
	// 구매상담 팝업
	function showBuyConsult(){
		$("#layBuyConsult input[name='eqrrNm']").val("").removeClass("vd").parents("li").removeClass("validate");
		$("#layBuyConsult input[name='eqrrMobile']").val("").removeClass("vd").parents("li").removeClass("validate");
		$("#layBuyConsult textarea[name='iqrContent']").val("");
		$("#iqrContentLength").html("(0/300)");
		$("#layBuyConsult #agreePersonalInfo").prop("checked", false);
		$("#txtErrAgreeMsg").hide();

		// 비회원/로그인회원
		if ("0" == "0") {
			$("#layBuyConsult div.agreeBox").show();
			$("#layBuyConsult div.agreeAllChk").show();
			gfnOpenLayer($('#layBuyConsult'), null);
		} else {
			// pdh. 2018.08.21 회원 비회원 모두 개인정보 동의 받음
			$("#layBuyConsult div.agreeBox").show();
			$("#layBuyConsult div.agreeAllChk").show();
			gfnOpenLayer($('#layBuyConsult'), null);
			
			var options = {
			    url : "/mypage/info/memberInfo",
				data : null,
				done : function(data){
					if(data.member != null){
					   	$("#layBuyConsult input[name='eqrrNm']").val(data.member.mbrNm);
						$("#layBuyConsult input[name='eqrrMobile']").val(data.member.mobile);
					
						gfnOpenLayer($('#layBuyConsult'), null);
					} else {
						alert("회원 정보가 존재하지 않습니다.");
					}
				}
			};
			ajax.call(options);
		}

		$('#layPrivacyGoods #titPrivacy').text("구매");
	}
	
	// 렌탈주문서 화면으로 이동
	function gotoRentalOrderPayment(){
		
		//[SR2403-01484]다이렉트렌탈 계약정보 고객재안내 팝업 호출
		var rentalObj =  $("input[name='rentalInfo']:checked");
		
		$("#rentalInfoGoodsNm").text("초소형 직수 정수기_셀프관리	");	// 제품명
		$("#rentalInfoDutyUsePrd").text("총 " + rentalObj.data("ownGetPrd") + "개월 (의무사용 " + rentalObj.data("dutyUsePrd") + "개월)");	// 계약기나
		$("#rentalInfoAmt").text("월 " + $("#totalRentalAmt").text() + "원");	// 월렌탈료
		
		// 렌탈형태
		if(WebUtil.isNull(rentalObj.data("cmpnChngTpNm"))) {
			$("#rentalInfoCmpnChngTp").css("display", "none");
		}
		else{
			$("#rentalInfoCmpnChngTp").css("display", "block");
			$("#rentalInfoCmpnChngTpNm").text(rentalObj.data("cmpnChngTpNm"));
		}
		
		// 필터교체주기
		if(WebUtil.isNull(rentalObj.data("filterTpNm"))) {
			$("#rentalInfoFilterTp").css("display", "none");
		}
		else{
			$("#rentalInfoFilterTp").css("display", "block");
			$("#rentalInfoFilterTpNm").text(rentalObj.data("filterTpNm"));
		}
		
		// MC방문주기
		if(WebUtil.isNull(rentalObj.data("mcFilterTpNm"))) {
			$("#rentalInfoMcFilterTp").css("display", "none");
		}else{
			$("#rentalInfoMcFilterTp").css("display", "block");
			$("#rentalInfoMcFilterTpNm").text(rentalObj.data("mcFilterTpNm"));
		}
		
		gfnOpenLayer($('#layRentalInfo'), null);
		$('#layRentalInfo .bk').on('click', function(e) {
			gfnCloseLayer($('#layRentalInfo'));
			location.href = "/order/rentalOrderPayment";
		});
	}

	// 렌탈 장바구니 화면으로 이동
	function gotoRentalCart(){
		location.href = "/order/rentalCartList";
	}	

	// 로그인 페이지 이동
	function gotoLoginOrder() {
		location.href = "/indexLogin?returnUrl=/order/indexOrderPayment";
	}
	
	// 비회원 약관 동의 체크 화면 화면으로 이동
	function gotoOrderAgree(){
		location.href = "/order/orderAgree";
	}
	
	// 간편가입회원 본인인증 유도 팝업 오픈
	function goSnsMemSelfAuth(type){
		var selfAuthUrl = "/auth/indexSelfAuth";
		if(type =="NOMEMBER"){			
			if(WebUtil.isNotNull('')){				
				selfAuthUrl += "?nextUrl=/order/orderAgree&tradePrdtYm=&tradePrdtCd=&tradeEventNo=";
			}else{	
				selfAuthUrl += "?nextUrl=/order/orderAgree";
			}
		}else{
			gfnCloseLayer($("#laySnsMemberCertified"));
			if ( WebUtil.isNotNull(tmpNextUrl) ) {
				selfAuthUrl += "?nextUrl=" + tmpNextUrl;
				tmpNextUrl = "";
			} else {
				selfAuthUrl += "?nextUrl=/order/indexOrderPayment";
			}
		}
		location.href = selfAuthUrl;	
	}
	
	// 필수 추가 구매 상품 선택 변경 시 하단에 선택 상품 정보 표기..
	function changeBuyAddY(obj) {
		var option = $(obj).children("option:selected");

		var itemNo = $(obj).data("itemNo");

		var addGoodsId = $(obj).val();
		var goodsNm = option.text();
		var addItemNo = option.data("addItemNo");
		var salePrcDc = option.data("salePrcDc");
		var stockQty = option.data("stockQty");

		appendAddGoodsInfo("Y", addGoodsId, goodsNm, salePrcDc, itemNo, stockQty, addItemNo);

		// 선택한 옵션 명 텍스트 설정
		$("select[name=addBuyY]").val(addGoodsId);
		selectBoxReFresh();
	}
		
	// 추가 구매 선택 시 하단에 상품 정보 표기..
	function appendAddGoodsInfo(mdtryYn, addGoodsId, goodsNm, salePrcDc, itemNo, stockQty, addItemNo) {
		if (addGoodsId == undefined || addGoodsId == "" || $("li[name=addGoods" + mdtryYn + "_" + addGoodsId + "]").length > 0) {
			return;
		}
			
		var html = '<li name="addGoods' + mdtryYn + '_' + addGoodsId + '" data-goods-id="' + addGoodsId + '" data-sale-prc-dc="' + salePrcDc + '" data-item-no="' + itemNo + '" data-add-item-no="' + addItemNo + '" data-stock-qty="' + stockQty + '" data-mdtry-yn="' + mdtryYn + '">'
			+ '	<span class="tit">' + goodsNm + '</span>'
			+ '	<span class="quantityWrap">'
			+ '		<button type="button" class="decrease" onclick="goodsSelect.qtyDownAddGoods(\'' + addGoodsId + '\', \'' + mdtryYn + '\');"><span>수량감소</span></button>'
			+ '		<button type="button" class="increase" onclick="goodsSelect.qtyUpAddGoods(\'' + addGoodsId + '\', \'' + mdtryYn + '\');"><span>수량증가</span></button>'
			+ '		<input type="text" name="qtyAdd' + mdtryYn + '_' + addGoodsId + '" value="1" class="num qty">'
			+ '	</span>'
			+ '	<span class="price"><strong class="add' + mdtryYn + 'Price"></strong> 원</span>'
			+ '	<input type="hidden" name="add' + mdtryYn + 'Amt">'
			+ '	<button type="button" class="del" onclick="goodsSelect.delAddGoods(\'' + addGoodsId + '\', \'' + mdtryYn + '\');"><span>삭제</span></button>'
			+ '</li>';

		$(".optionAdd" + mdtryYn + "List ul").append(html);
		$(".qty").mask("#0", {reverse: true, maxlength: false});

		goodsSelect.calAmtAddGoods(addGoodsId, mdtryYn);
	}	
		
	// 단품 옵션 삭제 시, 해당 필수 구매 상품이 있으면 추가 구매 정보 삭제
	function deleteAddMdtryBuy(itemNo) {
		$(".optionAddYList ul li").each(function(idx, obj) {
			if ($(this).data("itemNo") == itemNo) {
				$(this).remove();
			}
		});

		$("select[name=addGoodsY]").html('<option value="">반드시 선택해야 하는 추가 상품이 있어요!</option>');
		$("div[name=addBuyYWrap]").hide();
	}
		
	function changeCartCoupon(cartNo){
		var returnObj = validateGoodsSelect("1", "20");
    	if(!returnObj.isValidation){
    		return false;				
    	}
    	
		mCartCouponVal = cartNo;
		var changeByCoupon = "Y";
		calTotalBuyAmt(changeByCoupon);
	}
		
	$(function(){
		// 선택 추가 구매 상품 선택 시 하단에 선택 상품 정보 표기..
		$('.selectBox').not('.selectBoxWrap').bind('click', function(e, param1, param2) {
			if (param1 == undefined) {
				return;
			}
			
			var addGoodsId = $(param1).data("addGoodsId");
			var addItemNo = $(param1).data("addItemNo");
			var salePrcDc = $(param1).data("salePrcDc");
			var goodsNm = param2;
			var stockQty = $(param1).data("stockQty");
 			if (stockQty > 0){
				appendAddGoodsInfo("N", addGoodsId, goodsNm, salePrcDc, "", stockQty, addItemNo);
			}

			// 선택한 옵션 명 텍스트 설정
			$("div[name=addBuyN]").children("a.selected").text(goodsNm);
		});
	});	
		
	// 렌탈 계약 정보 팝업에서 크로스 패키지할 제품 선택 시..
	function selectRentalContract() {
		var rental = $("input[name=ctNo]:checked");

		var ctNo = rental.val();
		if (ctNo == undefined || ctNo == '') {
			alert("추가렌탈할 제품을 선택해 주세요.");
			return;
		}

		gfnCloseLayer($('#layCrosspack'));

		var parentPrdtCd = rental.data("ctPmModel");
		var preCtNo = rental.data("ctNo");

		var options = {
			url : "/goods/checkCrossRental",
			data : {goodsId : 'G000067991', parentPrdtCd : parentPrdtCd, prdtCd : 'WPUJAC104SWH', preCtNo : preCtNo},
			done : function(data) {
				if (data.isCross == "Y") {
					var crossInfo = data.crossInfo;
					var pmNm = rental.data("pmNm");
					var endDay = rental.data("endDay");
					var today = calendar.getTodayString("");
					var month = calDateRange(today, String(endDay));

					$('.rentalTp .cross.login').data("ctPmModel", rental.data("ctPmModel"));
					$('.rentalTp .cross.login').data("ctNo", ctNo);
					$('.rentalTp .cross.login').data("ctPmModel", rental.data("ctPmModel"));
					$('.rentalTp .cross.login').data("filterType", data.filterType);
					//$('.rentalTp .cross.login').data("rentDcAmt", data.crossInfo.RENT_DC_AMT); // [차세대대응개발] 크로스렌탈이 정책적으로 쓰이지 않으므로 기존 주석처리
					$('.rentalTp .cross.login').data("rentDcAmt", ""); // [차세대대응개발] 크로스렌탈이 정책적으로 쓰이지 않으므로 기존 주석처리 ==> 오류방지를 위해 빈 값 세팅
					// zhdzhdee 추가 start ----------------------------------------
					$('.rentalTp .cross.login').data("filterTpCd", data.filterTpCd);
					$('.rentalTp .cross.login').data("month", month);
					$('.rentalTp .cross.login').data("pmNm", pmNm);
					// zhdzhdee 추가 end ----------------------------------------

					$('.rentalTp .cross.login .ctNo').text(ctNo);
					$('.rentalTp .cross.login .pmNm').text(pmNm);
					$('.rentalTp .cross.login .endDay').text('잔여 계약 기간 ' + month + '개월');

					$('.rentalTp .cross.login').show();
				} else {
					$('.rentalTp .cross.login').data("ctNo", "");
					$('.rentalTp .cross.login').data("ctPmModel", "");
					$('.rentalTp .cross.login').data("filterType", "");
					$('.rentalTp .cross.login').data("rentDcAmt", "");
					// zhdzhdee 추가 start ----------------------------------------
					$('.rentalTp .cross.login').data("filterTpCd", "");
					$('.rentalTp .cross.login').data("month", "");
					$('.rentalTp .cross.login').data("pmNm", "");
					// zhdzhdee 추가 end ----------------------------------------
					$('.rentalTp .cross.login .ctNo').text("");
					$('.rentalTp .cross.login .pmNm').text("");
					$('.rentalTp .cross.login .endDay').text("");
					$('.rentalTp .cross.login').hide();

					alert("해당 제품은 추가렌탈이 불가능합니다.");
				}

				calTotalRentalAmt();
			}
		};

		ajax.call(options);
	}

	// 세이프키 발급
	function openSafeKey() {
		gfnCloseLayer($('#layNoCross'));
		setRentalTp("10");

		gfnOpenPopupSafeKey('callBackSafeKey');
	}

	// 세이프키 발급 callback
	function callBackSafeKey(data) {
		var strBirth = data.birth+"";
		var strName = data.name;
		var gdGbCd = data.gender;		// 성별
		var strMobile = data.phNum;
		var safeKeyNum = data.safeKeyNum;

		var workType = $('#layNoCross').data('workType');
		var mbrData = {
			"mbrNm" : strName
			, "birth" : strBirth
			, "mobile" : strMobile
			, "gdGbCd" : gdGbCd
			, "mbrNo" : 0
		};

		if (workType == 'TY'){
			mbrData = $.extend({}, mbrData, {"tySafeKey" : safeKeyNum});
		} else if (workType == 'MS') {
			mbrData = $.extend({}, mbrData, {"msSafeKey" : safeKeyNum});
		}
		
		// 인증키발급 후 회원정보 수정
		var options = {
			url : "/goods/updateMemberInfo",
			async : false,
			data : mbrData,
			done : function(data) {
			}
		};
		ajax.call(options);
	}	
	
	function showBuyBenebit(){
		var returnObj = validateGoodsSelect("1", "20");
    	if(!returnObj.isValidation){
    		
    		return false;				
    	}

    	gfnOpenLayer($('#layBuyBenefit'), null);
	}
	
	function btnPokeClick(obj) {
		var mbrNo = $(obj).data("mbrNo");
		if ( mbrNo == 0) {
			gfnOpenLayer($('#layOrdLoginCp'), null);
			return false;
		}
		
		// 찜 설정
		var chkObj = $(obj);
		var goodsId = $(obj).data("goodsId");
		
		var options = {
			url : "/goods/insertWish",
			data : {goodsId : goodsId},
			done : function(data){
				if(data.actGubun == "add"){
					$(chkObj).addClass('on');
					$(chkObj).text('찜 해제');
					$('.icoLike span').html('쇼핑찜 성공!');
					
					//ga  찜하기 이벤트
					try{gfn_gaZzimEvent();}catch(e){}
					
					//카카오모먼트 : 찜하기
					
				     kakaoPixel('3295449034798877540').addToWishList({
				         id: 'G000067991',
				         tag: 'sk_wishgoods'
				       });
				    
				    
				    //Event snippet for 위시리스트 추가 conversion page
				    
				         gtag('event', 'conversion', {'send_to': 'AW-455254603/F3SqCJKwlvMBEMvEitkB'});
				    
				    				    
				    
				} else if (data.actGubun == "remove") {
					$(chkObj).removeClass('on');
					$(chkObj).text('찜하기');
					$('.icoLike span').html('쇼핑찜 해제!');
				}
				
				TweenMax.set('.icoLike' , {display : 'block' , scale : 0 , opacity : 0});
				TweenMax.to('.icoLike' , 0.3 ,{scale : 1, opacity : 1, onComplete : function(){
					TweenMax.to('.icoLike' , 0.3 , {delay : 0.5, scale : 0 , opacity : 0 , onComplete : function(){
						$('.icoLike').removeAttr('style');
						isitBoolFn = false;
					}})
				}});
			}
		};

		ajax.call(options);
	}	 
	
	// 임시주문정보 사용
	function useTemporaryOrderInfo(){
		// 임시주문번호 셋팅
		var tempOrdNo = $("#layOrdSave input[name='tempOrdNo']").val();
		var ownGetPrd =  $("input[name='rentalInfo']:checked").data("ownGetPrd") ;
		var dutyUsePrd =$("input[name='rentalInfo']:checked").data("dutyUsePrd") ;
		var prmtNo = "";
 		if($("select[name='prmoList']").val() != undefined && $("select[name='prmoList']").val() != ""){
			prmtNo = $("select[name='prmoList']").val();
		}

		var options = {
			url : "/order/setDirectRentalInfo",
			data : {
				"ordNo" : tempOrdNo // 임시저장주문번호
				,"ownGetPrd" :ownGetPrd 
				,"dutyUsePrd" : dutyUsePrd
				,"prmtNo" :  prmtNo
			},
			done : function(data){
				if(data.result == "0000"){
					// 렌탈 주문서 이동
					gotoRentalOrderPayment();
				}
				else {
					alert(data.msg);
				}

			}
		};
		ajax.call(options);
	}
	
	//사이즈 변경 상품으로 이동
	// 20220502 매트리스 판매 상품 추가 일감:5771 사이즈 이동 이벤트 추가 KGS 
	function moveToGoodsDetail(goodsId,prdtCd){
		
		location.href = "/goods/indexGoodsDetail?goodsId="+goodsId+"&prdtCd="+prdtCd;
		
	}
	
	//색상변경 상품으로 이동
	function moveToGoodsColor(goodsId){
		getOptionGoodsBase(goodsId);
		ajax.load("goodsImageArea", "/goods/getOptionGoodsImage", {goodsId : goodsId});
		ajax.load("goodsSpecArea", "/goods/getOptionGoodsSpecList", {goodsId : goodsId});
		history.pushState(null, null, "/goods/indexGoodsDetail?goodsId=" + goodsId);
		
	}
	
	// 색깔 옵션 사용하는 경우 Unit 정보 가져오기(이외에는 메인상품과 동일 데이터 사용)
	function getOptionGoodsBase(goodsId){
		var options = {
				url : "/goods/getOptionGoodsBase",
				data : {goodsId : goodsId},
				done : function(data){
					const itemOptionGoodsNm = data.optionGoodsBase.goodsNm;
					const itemOptionPrdtCd = data.GoodsUnitSpecificBase.prdtCdModel2;
					// hidden 값 입력
					$("#specificItemInfo input[name='useGrpSpecificItem']").val('Y');
					$("#specificItemInfo input[name='itemOptionGoodsId']").val(goodsId);

					$("#specificItemInfo input[name='itemOptionGoodsNm']").val(itemOptionGoodsNm);
					$("#specificItemInfo input[name='itemOptionPrdtCd']").val(itemOptionPrdtCd);
					

					// 제품명 및 코드 비동기식 처리
					$('.prdName').html(itemOptionGoodsNm);
					$('.prdCode').html(itemOptionPrdtCd);

					
					// 단품 비동기식 처리
					$('#basicItem').data("itemNo",data.basicItemNo );
					$('#basicItem').data("stockQty", data.optionGoodsBase.stockQty );
					$('#basicItem').attr("name", "item"+data.basicItemNo);
					
					$('.quantityWrap .decrease').attr("onclick", "goodsSelect.qtyDownItem("+data.basicItemNo+");");
					$('.quantityWrap .increase').attr("onclick", "goodsSelect.qtyUpItem("+data.basicItemNo+");");
					$('.quantityWrap input').attr("name", "itemQty"+data.basicItemNo);

					// 재입고 알림 신청 비동기식 처리
					$("#frmRestockAlim input[name='restockAlimGoodsId']").val(goodsId);
					$("#frmRestockAlim input[name='restockAlimPrdtCd']").val( data.optionGoodsBase.prdtCd);
					
					//단품 일부 품절시 재입고알림 신청
					if (WebUtil.toInt(data.optionGoodsBase.stockQty) > 0){
						console.log(data.optionGoodsBase.stockQty);
						$('.optionScrollRight .cont2').show();
						$('.optionScrollRight .buy .setPrice').show();
						$('.optionScrollRight .soldout').hide();
						$('.directRental').show();

						<!-- 20220425 매트리스 판매 상품 추가  일감:5771 사이즈 옵션 추가로 렌탈시 포인트 지급 span태그  숨김 KGS -->
						


						// 색깔 재고 품절 처리
						$('.icon-sold-out').hide ();
						
						// 단품 재고 관련 로직 처리
						$("input[name=itemQty" + data.basicItemNo + "]").val(1);
						$(".basicItem .cont button").attr("disabled", false);
						$(".basicItem .cont input").attr("disabled", false);
						
						// 바로 구매, 장바구니 버튼 활성화
						var _html= "";
						
						
						_html += '<a href="#" class="btnb red cont2" onclick="javascript:buyCart('+"'"
						_html += 'Y' + "'" +','+"'"+'20'+"'"
						_html +=');return false;"><span>바로 구매</span></a>';
						
							
								_html += '<a href="#" class="btnb cart btnBasket cont2" onclick="javascript:buyCart('+"'"
								_html += 'N'+ "'" +','+"'"+'20'+"'"
								_html += ');return false;"><span>장바구니 담기</span></a>';
								<!-- btnBasket 클래스 추가시  문구 모션 생성 -->
							
						
						
					//	$("#totalBuyAmt").text(format.num(0));
						if(!$(".noMbrBuyBtn").length){
							$('.inStock').html(_html);	
						}else{
							$(".btnWrap.cart").show();
						}						
					}else{
						$('.optionScrollRight .cont2').hide();
						$('.optionScrollRight .buy .setPrice').hide();
						$('.optionScrollRight .soldout').show();
						
							if (WebUtil.toInt(data.optionGoodsBase.stockQty) > 0){
								$('.directRental').hide();
							}
						
						$('.icon-sold-out').show ();
						$("input[name=itemQty" + data.basicItemNo + "]").val(0);
						$(".basicItem .cont button").attr("disabled", "disabled");
						$(".basicItem .cont input").attr("disabled", "disabled");
						
						if($(".noMbrBuyBtn").length){
							$(".btnWrap.cart").hide();	
						}
					}
					
					// 문의 비동기식 처리
					$('.inquiryWrap .in .tit').html(itemOptionGoodsNm + "(" + itemOptionPrdtCd +")");
					$("#write_form input[name='goodsId']").val(goodsId);
				}
			};

			ajax.call(options);
	}
	
	/*************************
	 * 견적서용 상품 변수
	 *************************/
	var estimateMeberName = "비회원";
	var estimateMeberTel = "";
	var estimatePrdList = [];
	/***********************
	 * 한글 가격
	 ***********************/
	function convertNumToKor(num) {
		var numArr = new Array('','일','이','삼','사','오','육','칠','팔','구','십');
		var unitArr = new Array('','십','백','천','','십','백','천','','십','백','천','','십','백','천');
		var result = "";
		var kor = "";
		if(!valid.onlyNum.test(num)) return result;
		for(i=0; i<num.length; i++) {
			kor = numArr[num.charAt(num.length-(i+1))];
			if(kor != "") result += kor+unitArr[i];
			if(i == 4) result += "만";
			if(i == 8) result += "억";
			if(i == 12) result += "조";
			if(i != num.length-1) result += ",";
		}
		return result.split(',').reverse().join('');
	}

	/*************************
	 * 견적서 보기
	 *************************/ 
	function setEstimate(){
		 estimatePrdList = [];
		// 렌탈 견적서에서 사용하는 변수 세팅 - 회원정보가 있을 경우
		
			var tmpGoodsInfo = {
			"cartId":"1",
			"goodsNm":"초소형 직수 정수기_셀프관리	",
			"modelNm":"WPUJAC104SWH",
			"goodsCnt":"1",
			"periodContractDuty": Number($("input[name='rentalInfo']:checked").data("dutyUsePrd")),  
			"periodContractOwn":Number($("input[name='rentalInfo']:checked").data("ownGetPrd")),
			"periodCare": "12개월 필터주기 4개월",
			"rentalPrice1": Number($("input[name='rentalInfo']:checked").data("rentalPriceDc")),
			"rentalPrice2":Number($("input[name='rentalInfo']:checked").data("rentalPriceDcPost"))
		}; 
			
		estimatePrdList.push(tmpGoodsInfo); 
		
		var tmpStr = "";
		var estimateMemberNameView = estimateMeberName;
		var estimateTelView = estimateMeberTel;
		var estimateTodayView = calendar.getTodayString("-"); 
		var estimateTotalPriceView1 = 0;
		var estimateTotalPriceView2 = 0;
		var estimateTotalCountView = 0;
		var estimateNo = 1;
		
		var date    = new Date();
		var year = new String(date.getFullYear());
		var month = new String(date.getMonth()+1);
		var day = new Date(year, month, 0).getDate();
		if(month.length == 1){
			month = "0" + month;
		}

		var estimateExpirationDayView = year+"-"+month+"-"+day;
		
		$("#estimateListView").children().remove();
		for(var i=0; i<estimatePrdList.length; i++){ 
			var no = estimateNo;
			var goodsNm = estimatePrdList[i].goodsNm;
			var modelNm = estimatePrdList[i].modelNm;
			var goodsCnt = estimatePrdList[i].goodsCnt;
			var periodContractDuty = estimatePrdList[i].periodContractDuty;
			var periodContractDuty1 = estimatePrdList[i].periodContractDuty*1+1;
			var periodContractOwn = estimatePrdList[i].periodContractOwn;
			var periodCare = estimatePrdList[i].periodCare;
			var rentalPrice1 = estimatePrdList[i].rentalPrice1;
			var rentalPrice2 = estimatePrdList[i].rentalPrice2;
			tmpStr += "<tr><td>"+no+"</td><td class=\"aLeft\">"+goodsNm+"</td>";
			tmpStr += "<td>"+modelNm+"</td><td><span class=\"quantityWrap\">";
			tmpStr += "<button type=\"button\" class=\"decrease\" onclick=\"javascript:changeQty('"+estimatePrdList[i].cartId+"','minus')\"><span>수량감소</span></button>";
			tmpStr += "<button type=\"button\" class=\"increase\" onclick=\"javascript:changeQty('"+estimatePrdList[i].cartId+"','plus')\"><span>수량증가</span></button>";
			tmpStr += "<input type=\"text\" name=\"\" value=\""+goodsCnt+"\" class=\"num\" limit=\"1\" id=\"qtyNum_"+estimatePrdList[i].cartId+"\">";
			tmpStr += "</span></td><td>"+periodContractOwn+"개월</td><td>"+periodContractDuty+"개월</td><td>"+periodCare+"</td>";
			tmpStr += "<td class=\"aRight\"><strong>"+valid.numberWithCommas(rentalPrice1)+"</strong>원(1~"+periodContractDuty+"개월)";
			if(periodContractDuty<periodContractOwn){
				tmpStr += "<br><strong>"+valid.numberWithCommas(rentalPrice2)+"</strong>원("+periodContractDuty1+"~"+periodContractOwn+"개월)</td></tr>";
			}
			estimateTotalPriceView1 += rentalPrice1*goodsCnt;
			estimateTotalPriceView2 = estimateTotalPriceView1;
			estimateTotalCountView += goodsCnt*1;
			estimateNo++; 
		}
		
		$("#estimateListView").append(tmpStr);
		$("#estimateMemberNameView").text(estimateMemberNameView);
		$("#estimateTelView").text(estimateTelView);
		$("#estimateTodayView").text(estimateTodayView);
		$("#estimateExpirationDayView").text(estimateExpirationDayView);
		$("#estimateTotalPriceView1").text(valid.numberWithCommas(estimateTotalPriceView1));
		$("#estimateTotalPriceView2").text(valid.numberWithCommas(estimateTotalPriceView2));
		$("#estimateTotalPriceView3").text("("+convertNumToKor(""+estimateTotalPriceView1)+"원)");
		$("#estimateTotalCountView").text(estimateTotalCountView);	
		
	 	gfnOpenLayer($('#layRentalDocument'), null); 
		return;
	}

	/*************************
	 * 견적서 제품 수량 변경
	 *************************/
	function changeQty(cartId, opt){
		var qty = $("#qtyNum_"+cartId).val();
		if(opt=="minus"){
			if(qty>1){
				$("#qtyNum_"+cartId).val(parseInt(qty)-1);
			}
		}else{
			$("#qtyNum_"+cartId).val(parseInt(qty)+1);
		}
		calEstimate(); // 재계산
	}

	/*************************
	 * 견적서 제품 수량에 따른 재계산
	 *************************/
	function calEstimate(){
		var estimateTotalPriceView = 0;
		var estimateTotalCountView = 0;
		for(var i=0; i<estimatePrdList.length; i++){ 
	 					var rentalPrice = estimatePrdList[i].rentalPrice1;
						var goodsCnt = $("#qtyNum_"+estimatePrdList[i].cartId).val();
						estimateTotalPriceView += rentalPrice*goodsCnt;
						estimateTotalCountView += goodsCnt*1;
		}
		$("#estimateTotalPriceView1").text(valid.numberWithCommas(estimateTotalPriceView));
		$("#estimateTotalPriceView2").text(valid.numberWithCommas(estimateTotalPriceView));
		$("#estimateTotalPriceView3").text("("+convertNumToKor(""+estimateTotalPriceView)+"원)");
		$("#estimateTotalCountView").text(estimateTotalCountView);
	}
	
	</script>
</head>

<!-- wrap : s -->
<div class="wrap prdDetails renewal">

	<!-- container : s -->
	<div id="container">
		<!-- productDetail : s -->
		<div id="content" class="productDetail">
			<div class="top">
				<div class="topInfo">
					<div class="left">
						<span class="prdCode">WPUJAC104SWH</span>
						<h2 class="prdName">초소형 직수 정수기_셀프관리	</h2>
						<!-- 20220425 매트리스 판매 상품 추가로 제품코드 조건 추가  일감:5771  KGS -->
						
							<h3 class="prdopt">
																
								제휴카드23천원할인시월5,900원(6년)
							</h3>
						
						
						<span class="grade type02">
							<a href="javascript:tabComment();">
								<span class="ico"><span style="width:100%;">별점</span></span> 5.0 (246)
							</a>
						</span>
					</div>
					
						<div class="right">
							
							<button type="button" class="btnLike btnPoke toggle " value="G000067991" onclick="btnPokeClick(this);">
							찜</button>
							
								<span class="share tooltip click" onclick="javascript:clickSNS(this);">
									<button type="button">공유하기</button> 
									<span class="layer"> 
										<a href="javascript:share('url');" class="url">URL</a> 
										<a href="javascript:share('naver');" class="blog">블로그</a>
										<a href="javascript:share('facebook');" class="facebook">페이스북</a>
										<a href="javascript:share('kakaostory');" class="kakaoStory">카카오 스토리</a> 
										<a href="javascript:share('kakaotalk');" class="kakaoTalk">카카오톡</a>
									</span>
								</span>
							
						</div>
					
					<!-- 배지 -->
					<div class="labelList">
						
						
						
						
						
						<ul style="display:block;">
						<!-- 의무할인은 태그만 남겨둠. 
						<span class="flag red">3년 의무할인</span>
						<span class="flag red">3년 의무할인</span>
						<span class="flag red">4년 의무할인</span> -->
						
						
						
						
							
								
								
							
								
								
							
							
								<li><span class="tag">설치비면제</span></li>
							
							
								<li><span class="tag">등록비면제</span></li>
							
							
								<li><span class="tag">사은품</span></li>
							
							
							
								<li><span class="tag">무료배송</span></li>
							
							
						</ul>
						<ul style="display:none;">
							<!-- //라벨 -->
							
							
							<!--  [SR2308-01784]T멤버십 제휴할인서비스 관련 추가수정 요청 > T맴버십 할인적용 문구 추가 -->
							
						</ul>
					</div>
					<!-- //배지 -->
				</div>
			</div>
			<div class="secItemOption">
				<div id ="goodsImageArea">
					<div class="newProductViewSlide">
						<!-- 상품 상태 아이콘 -->
						<div class="product-state">
							
								
									<img src="https://static.skmagic.com/image/icon/934.png" alt="934">
								
							
								
									<img src="https://static.skmagic.com/image/icon/935.png" alt="935">
								
							
						</div>
						<div class="bigThumbWrap">
							<ul>
								
									<li><img src="https://static.skmagic.com/image/goods/G000067991/G000067991_2_480x480.png" class="" alt="초소형 직수 정수기_셀프관리	" onerror="this.src='https://static.skmagic.com/pc/asset/images/etc/no_img_350x350.png';" /></li>
								
									<li><img src="https://static.skmagic.com/image/goods/G000067991/G000067991_3_480x480.png" class="" alt="초소형 직수 정수기_셀프관리	" onerror="this.src='https://static.skmagic.com/pc/asset/images/etc/no_img_350x350.png';" /></li>
								
									<li><img src="https://static.skmagic.com/image/goods/G000067991/G000067991_4_480x480.png" class="" alt="초소형 직수 정수기_셀프관리	" onerror="this.src='https://static.skmagic.com/pc/asset/images/etc/no_img_350x350.png';" /></li>
								
									<li><img src="https://static.skmagic.com/image/goods/G000067991/G000067991_5_480x480.png" class="" alt="초소형 직수 정수기_셀프관리	" onerror="this.src='https://static.skmagic.com/pc/asset/images/etc/no_img_350x350.png';" /></li>
								
									<li><img src="https://static.skmagic.com/image/goods/G000067991/G000067991_6_480x480.png" class="" alt="초소형 직수 정수기_셀프관리	" onerror="this.src='https://static.skmagic.com/pc/asset/images/etc/no_img_350x350.png';" /></li>
								
									<li><img src="https://static.skmagic.com/image/goods/G000067991/G000067991_7_480x480.png" class="" alt="초소형 직수 정수기_셀프관리	" onerror="this.src='https://static.skmagic.com/pc/asset/images/etc/no_img_350x350.png';" /></li>
								
									<li><img src="https://static.skmagic.com/image/goods/G000067991/G000067991_8_480x480.png" class="" alt="초소형 직수 정수기_셀프관리	" onerror="this.src='https://static.skmagic.com/pc/asset/images/etc/no_img_350x350.png';" /></li>
								
								
							</ul>
						</div>
						<div class="smallThumbWrap">
							<ul>
								
								
									<li class="listCell">
										<div class="smallThumb">
											<button type="button" class="btnThumbItem">
												<span> <img src="https://static.skmagic.com/image/goods/G000067991/G000067991_2_480x480.png" class="" alt="초소형 직수 정수기_셀프관리	" onerror="this.src='https://static.skmagic.com/pc/asset/images/etc/no_img_350x350.png';" />
												</span>
											</button>
										</div>
									</li>
									
								
									<li class="listCell">
										<div class="smallThumb">
											<button type="button" class="btnThumbItem">
												<span> <img src="https://static.skmagic.com/image/goods/G000067991/G000067991_3_480x480.png" class="" alt="초소형 직수 정수기_셀프관리	" onerror="this.src='https://static.skmagic.com/pc/asset/images/etc/no_img_350x350.png';" />
												</span>
											</button>
										</div>
									</li>
									
								
									<li class="listCell">
										<div class="smallThumb">
											<button type="button" class="btnThumbItem">
												<span> <img src="https://static.skmagic.com/image/goods/G000067991/G000067991_4_480x480.png" class="" alt="초소형 직수 정수기_셀프관리	" onerror="this.src='https://static.skmagic.com/pc/asset/images/etc/no_img_350x350.png';" />
												</span>
											</button>
										</div>
									</li>
									
								
									<li class="listCell">
										<div class="smallThumb">
											<button type="button" class="btnThumbItem">
												<span> <img src="https://static.skmagic.com/image/goods/G000067991/G000067991_5_480x480.png" class="" alt="초소형 직수 정수기_셀프관리	" onerror="this.src='https://static.skmagic.com/pc/asset/images/etc/no_img_350x350.png';" />
												</span>
											</button>
										</div>
									</li>
									
								
									<li class="listCell">
										<div class="smallThumb">
											<button type="button" class="btnThumbItem">
												<span> <img src="https://static.skmagic.com/image/goods/G000067991/G000067991_6_480x480.png" class="" alt="초소형 직수 정수기_셀프관리	" onerror="this.src='https://static.skmagic.com/pc/asset/images/etc/no_img_350x350.png';" />
												</span>
											</button>
										</div>
									</li>
									
								
									<li class="listCell">
										<div class="smallThumb">
											<button type="button" class="btnThumbItem">
												<span> <img src="https://static.skmagic.com/image/goods/G000067991/G000067991_7_480x480.png" class="" alt="초소형 직수 정수기_셀프관리	" onerror="this.src='https://static.skmagic.com/pc/asset/images/etc/no_img_350x350.png';" />
												</span>
											</button>
										</div>
									</li>
									
								
									<li class="listCell">
										<div class="smallThumb">
											<button type="button" class="btnThumbItem">
												<span> <img src="https://static.skmagic.com/image/goods/G000067991/G000067991_8_480x480.png" class="" alt="초소형 직수 정수기_셀프관리	" onerror="this.src='https://static.skmagic.com/pc/asset/images/etc/no_img_350x350.png';" />
												</span>
											</button>
										</div>
									</li>
									
								
								
								
									<li class="listCell"><div class="smallThumb"></div></li>
								
									<li class="listCell"><div class="smallThumb"></div></li>
								
									<li class="listCell"><div class="smallThumb"></div></li>
								
							</ul>
						</div>
						<div class="bg"></div> <!-- 제품 카테고리별 컬러지정 -->
					</div>
				</div>
				
				<div class="right">
					<div class="itemListWrap type02">
						
						<!-- 구입유형 : 렌탈 -->
						
						<input type="radio" id="rentalTp" name="rentalTp" checked="checked" value="10" style="display: none;">
						<div class="rental">
							<div class="itemList03">
								<div class="liArea vtop" >
									<em class="stit">의무약정기간</em>
									<div class="cont">
										<div class="radioTabWrap type4">
											
												<span class="radioTab tooltip"> 
													<input type="radio" id="rentalInfo0" name="rentalInfo" onclick="javascript:checkRentalInfo(this,'');"
														
														data-max-dc-prmt-no="28902"
														data-duty-use-prd="36"
														data-own-get-prd="60"
														data-rental-price="47900"
														data-rental-price-dc="34900"
														data-rental-price-dc-post="34900"
														data-rental-price-post="47900"
														data-cmpn-chng-tp-nm="셀프형"
														data-filter-tp-nm="4개월"
														data-mc-filter-tp-nm="12개월"
														data-index="0">
													<label for="rentalInfo0"> 
													
														
															
															3년
														
														
													
												</label>
													<p class="layer">계약기간 : 총 60개월
														(의무사용 36개월)</p>
												</span>
											
												<span class="radioTab tooltip"> 
													<input type="radio" id="rentalInfo1" name="rentalInfo" onclick="javascript:checkRentalInfo(this,'');"
														
														data-max-dc-prmt-no="28903"
														data-duty-use-prd="60"
														data-own-get-prd="60"
														data-rental-price="47900"
														data-rental-price-dc="29900"
														data-rental-price-dc-post="-18000"
														data-rental-price-post="0"
														data-cmpn-chng-tp-nm="셀프형"
														data-filter-tp-nm="4개월"
														data-mc-filter-tp-nm="12개월"
														data-index="1">
													<label for="rentalInfo1"> 
													
														
															
															5년
														
														
													
												</label>
													<p class="layer">계약기간 : 총 60개월
														(의무사용 60개월)</p>
												</span>
											
												<span class="radioTab tooltip"> 
													<input type="radio" id="rentalInfo2" name="rentalInfo" onclick="javascript:checkRentalInfo(this,'');"
														checked="checked"
														data-max-dc-prmt-no="28904"
														data-duty-use-prd="72"
														data-own-get-prd="72"
														data-rental-price="47900"
														data-rental-price-dc="28900"
														data-rental-price-dc-post="-19000"
														data-rental-price-post="0"
														data-cmpn-chng-tp-nm="셀프형"
														data-filter-tp-nm="4개월"
														data-mc-filter-tp-nm="12개월"
														data-index="2">
													<label for="rentalInfo2"> 
													
														
															
															6년
														
														
													
												</label>
													<p class="layer">계약기간 : 총 72개월
														(의무사용 72개월)</p>
												</span>
											
										</div>
									</div>
								</div>
								<div class="liArea" >
								
									<div class="list price-box priceBox rentalPriceBox" id="rentalPriceBox0" style="display: none;">
									
										<div id="rentalPrice0">
											<div class="box">
												<em class="tit">렌탈료 혜택가</em>
												<a href="#" class="btnView type02">혜택가 안내</a>
												<div class="cont">
													<p class="sale type02 priceDel" >
														<span class="price del">월 
															<strong id="rentalPriceOrigin">47,900</strong>
														 원</span>
													</p>					
												</div>
											</div>
											<div class="box">
												<em class="red_tit">방문주기 : 12개월 필터주기 4개월, 의무사용 36개월</em>
												<div class="cont">											
														<p class="pricebox priceDel">
															
															<span class="price">월 
																<strong id="rentalPriceAfterDc">34,900</strong>
															 원</span>
														</p>
												</div>
											</div>
										</div>
																		
									<div class="optionViewBox">
										<p>
											계약기간 : 총 60개월 (의무사용 36개월)<br>
											등록비 : 10
											 만원 | 설치비 : 
											 3
											 만원 (면제 프로모션 진행중)<br>
											총 렌탈료 : 3,004,000 원 
											(등록비 + 설치비 + 60개월 무상 A/S 및 소유권이전비용 합계)<br>
											
											
												해당 모델은 렌탈 전용 모델입니다.
											
										</p>
									</div>
								</div>
								
									<div class="list price-box priceBox rentalPriceBox" id="rentalPriceBox1" style="display: none;">
									
										<div id="rentalPrice1">
											<div class="box">
												<em class="tit">렌탈료 혜택가</em>
												<a href="#" class="btnView type02">혜택가 안내</a>
												<div class="cont">
													<p class="sale type02 priceDel" >
														<span class="price del">월 
															<strong id="rentalPriceOrigin">47,900</strong>
														 원</span>
													</p>					
												</div>
											</div>
											<div class="box">
												<em class="red_tit">방문주기 : 12개월 필터주기 4개월, 의무사용 60개월</em>
												<div class="cont">											
														<p class="pricebox priceDel">
															
															<span class="price">월 
																<strong id="rentalPriceAfterDc">29,900</strong>
															 원</span>
														</p>
												</div>
											</div>
										</div>
																		
									<div class="optionViewBox">
										<p>
											계약기간 : 총 60개월 (의무사용 60개월)<br>
											등록비 : 10
											 만원 | 설치비 : 
											 3
											 만원 (면제 프로모션 진행중)<br>
											총 렌탈료 : 3,004,000 원 
											(등록비 + 설치비 + 60개월 무상 A/S 및 소유권이전비용 합계)<br>
											
											
												해당 모델은 렌탈 전용 모델입니다.
											
										</p>
									</div>
								</div>
								
									<div class="list price-box priceBox rentalPriceBox" id="rentalPriceBox2" >
									
										<div id="rentalPrice2">
											<div class="box">
												<em class="tit">렌탈료 혜택가</em>
												<a href="#" class="btnView type02">혜택가 안내</a>
												<div class="cont">
													<p class="sale type02 priceDel" >
														<span class="price del">월 
															<strong id="rentalPriceOrigin">47,900</strong>
														 원</span>
													</p>					
												</div>
											</div>
											<div class="box">
												<em class="red_tit">방문주기 : 12개월 필터주기 4개월, 의무사용 72개월</em>
												<div class="cont">											
														<p class="pricebox priceDel">
															
															<span class="price">월 
																<strong id="rentalPriceAfterDc">28,900</strong>
															 원</span>
														</p>
												</div>
											</div>
										</div>
																		
									<div class="optionViewBox">
										<p>
											계약기간 : 총 72개월 (의무사용 72개월)<br>
											등록비 : 10
											 만원 | 설치비 : 
											 3
											 만원 (면제 프로모션 진행중)<br>
											총 렌탈료 : 3,578,800 원 
											(등록비 + 설치비 + 72개월 무상 A/S 및 소유권이전비용 합계)<br>
											
											
												해당 모델은 렌탈 전용 모델입니다.
											
										</p>
									</div>
								</div>
								
								</div>
								
								<!-- 20220425 사이즈 선택 추가 s-->
								<!-- 20220425 매트리스 판매 상품 추가  일감:5771 사이즈 옵션 및 강도 추가 KGS  -->
								<!-- 20220504 매트리스 판매 상품 추가로 제품코드 조건 추가  일감:5771 프레임일경우 사이즈 옵션 미노출 KGS -->
								
								<!-- 20220425 사이즈 선택 추가 e-->
								
								<!-- 20210806 색상[렌탈 메뉴] 추가 s -->
								<!-- 20220425 매트리스 판매 상품 추가로 제품코드 조건 추가  일감:5771 KGS -->
								
								<!-- 20210806 색상 추가 e -->
								
								<!-- 최대 혜택 s -->
								
								<h3 class="h3Tit" style="display:none;">
								
									
									
										SK매직몰
									
								 고객님을 위한 최대 혜택 
								
									
										<a href="#layBenefit" class="btnm bk btnLayer" onclick="javascript:showBenefitRental();"><span>최대혜택보기</span></a>
									
								
								</h3>
								<!-- benefit-area s -->
								<div class="benefit-area" style="display:none;">
									<!-- 할인적용금액 s -->
									<div class="maximum-benefit"><!-- 혜택비교 on 글래스 추가 -->
										<a href="#;" class="benefit-btn">
											<dl>
												<dt>할인적용금액</dt>
												<dd>월 
												<span class="benebitAmt">28,900</span> 원</dd>
											</dl>
										</a>
										<div class="total-area">
											<p class="not-txt">
											<span class="ico-notice"></span>
												
												
													SK매직몰회원가입및 로그인 시 최대혜택 적용을 받으실 수 있습니다.
												
											</p>
											<div class="total-list">
												<div class="top-info">
													<dl>
														<dt>렌탈료</dt>
														<dd>월 
														<span class="rentalAmt">47,900</span>
														 원</dd>
													</dl>
												</div>
												<div class="info">
													<dl>
														<dt>총 할인금액</dt>
														<dd>
														
								                     			
								                     				월 - <span class="totalBenefitAmt">19,000</span> 원
								                     			
								                     			
								                     		
														</dd>
													</dl>
													<dl id="totMonth"  >
													<dt class="totMonthNm2">초소형 직수 런칭 특가 프로모션-6년</dt>
													</dl>
												</div>
												<div class="other-cards">
													<strong>[그 외 카드 혜택]</strong>
													<!-- 렌탈 -->
													<ul class="list-card" id="card_period">
													
														<li><a href="/event/indexEventDetail?eventNo=828" >
															   <strong class="em">SK매직 SK매직현대카드M Edition3</strong>
															   </a>
														</li>
													
														<li><a href="/event/indexEventDetail?eventNo=828" >
															   <strong class="em">SK매직 SK매직 삼성카드</strong>
															   </a>
														</li>
													
														<li><a href="/event/indexEventDetail?eventNo=828" >
															   <strong class="em">SK매직 SK매직하나카드</strong>
															   </a>
														</li>
													
														<li><a href="/event/indexEventDetail?eventNo=828" >
															   <strong class="em">SK매직 SK매직우리카드</strong>
															   </a>
														</li>
													
														<li><a href="/event/indexEventDetail?eventNo=828" >
															   <strong class="em">SK매직 SK매직스페셜롯데카드</strong>
															   </a>
														</li>
													
														<li><a href="/event/indexEventDetail?eventNo=828" >
															   <strong class="em">SK매직 SK매직올림KB국민카드</strong>
															   </a>
														</li>
													
														<li><a href="/event/indexEventDetail?eventNo=828" >
															   <strong class="em">SK매직 SK매직 KJ카드</strong>
															   </a>
														</li>
													
													</ul>
													<P class="bottom-txt">카드할인은 제휴카드 발급 및 렌탈료 자동이체 신청 시 전월실적에 따라 청구 할인 적용</p>
												</div>
											</div>
										</div>
									</div>
									<!-- //할인적용금액 e -->
								</div>
								<!-- //최대 혜택 e -->
								<!-- //20201104 수정 e -->
								
								<div class="liArea top-down"  style="display:none;"  >
								
									<em class="tit">
										
											
											
											
											
												월렌탈료 할인혜택 
											
										
										<span class="txt spanTDcYn"  style="display:none;" >T멤버십 회원 렌탈료 10% 할인</span>
									</em>
									<div class="cont">
										<div class="selectBox selectBoxWrap">
											<select name="prmoList" class="select">
											<option value="" aplVal="0" addDcAmt="0" freeMonth="0"
																	dcMonth="0" prmtKindCd="">혜택을 선택해 주세요(택1)</option>
												
													<option value="28904"
														prmtAplCd="00"
														aplVal="0"
														addDcAmt="19000"
														freeMonth="0"
														dcMonth="72"
														prmtKindCd="170"
														selected>초소형 직수 런칭 특가 프로모션-6년</option>
												
													<option value="29045"
														prmtAplCd="00"
														aplVal="0"
														addDcAmt="9000"
														freeMonth="0"
														dcMonth="72"
														prmtKindCd="170"
														>렌탈-프로모션-기본할인-6년</option>
												
											</select>
										</div>
									</div>
									<span class="spanTDcYn"  style="display:none;" >
										<a href="#" class="btnView">제휴 할인 안내</a>
										<div class="optionViewBox">
											<strong>T멤버십 제휴 렌탈이란? <a href="/category/indexPlusMagicTmembership" class="link">더보기</a></strong>
											<p>T멤버십 회원이라면 누구나 월 렌탈료의 10%를 할인 받을 수 있는 제휴 서비스입니다.<br>(약정기간 60개월 기준)</p>
										</div>
									</span>
								
								</div>
								
								
								<!-- 제휴카드 영역 display none 처리 -->
								<div class="liArea top-down type02" style="display:none;">
									<div class="cont type02">
										<div class="selectBox type02">
											<a href="#" class="selected">제휴카드 혜택</a>
											<div class="layerOption addOption scrollbar">
												<ul class="list">	
													<li>
														<a href="#">
															<div class="data">
																<span class="tit">제휴카드 선택안함</span>
															</div>
														</a>
													</li>
													<li><a href="#">
														<div class="data">
														<span class="tit">SK매직 삼성카드</span>
														<span class="price">월 최대 23,000원 할인</span>
													</div>
													</a></li>	
													<li><a href="#">
														<div class="data">
														<span class="tit">SK매직 현대카드</span>
														<span class="price">월 최대 18,000원 할인</span>
														</div>
													</a></li>
												</ul>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
						
						<!-- //구입유형 : 렌탈 -->
						
						<!-- 구입유형 : 구매 -->
						<div class="buy"
							 style="display:none;" >
							<div id="buyItemList" class="itemList03 itemList form">
								
								
								
								
									<div class="liArea basicItem leftMbrshBasis" id="basicItem"
											name="item12262" data-item-no="12262"
											data-add-sale-amt="0" data-stock-qty="1262">
										<em class="stit">수량 선택</em>
										<div class="cont"></div>
									</div>
								
								<!-- 20201104 수정 s -->
								
								<!-- 20220425 사이즈 선택 추가 s-->
								<!-- 20220425 매트리스 판매 상품 추가  일감:5771 사이즈 옵션 추가 KGS  -->
								
								<!-- 20220425 사이즈 선택 추가 e-->
								
								<!-- 20210806 색상[구매 메뉴] 추가 s -->
								<!-- 20220425 매트리스 판매 상품 추가로 제품코드 조건 추가  일감:5771 KGS -->
								
								
								
								
								<!-- 최대 혜택 s -->
								
								<!-- <h3 class="h3Tit"> -->
								<h3 class="h3Tit02">
									
										
										SK매직몰
									
									 고객님을 위한 최대 혜택		
									<!-- 2023.02.16 일시불+케어 제품 쿠폰 다운로드 버튼 숨김 -->
										
																	
																	 
											<a onclick="javascript:showBuyBenebit();" id="buyBenefitBtn" class="btnm bk">
												<span>쿠폰 다운로드</span>
											</a>
										
									
									<!-- // 2023.02.16 일시불+케어 제품 쿠폰 다운로드 버튼 숨김 -->
								</h3>
								<div class="benefit-area" style="display:none;" style="border-top:0;">
									<!-- 최대 혜택 적용 금액 s -->
									<div class="maximum-benefit"><!-- 혜택비교 활성화 on 글래스 추가 -->
										<a href="#;" class="benefit-btn">
											<dl>
												<dt>최대 혜택 적용 금액</dt>
												<dd><span>0</span> 원</dd>
											</dl>
										</a>
										<div class="total-area">
											<p class="not-txt">
											<span class="ico-notice"></span>
												
												
													SK매직몰회원가입 및 로그인 시 최대혜택 적용을 받으실 수 있습니다.
												
											</p>
											<div class="total-list">											
												<div class="top-info">
													<dl>
														
															
															
																<dt>구매가</dt>	
															
														
														<dd><span>0</span> 원</dd>
													</dl>
													
														
													
												</div>
												<div class="info">
													<dl>
														<dt>총 할인금액</dt>
														<dd><span>0</span> 원</dd>
													</dl>
													
													
														
													
												</div>
												<div class="other-cards">
													<strong>[그 외 카드 혜택]</strong>
													<!-- 구매 -->
													<!-- BO 할부이벤트 s -->
													<ul class="list-card" id="card_period">
													
															
															<li class='desc'><strong class='em'>신용카드 무이자 할부 </strong></li>
														
													
														<li class="desc"><strong class='em'>24개월 무이자할부+전월실적별 캐시백/청구할인</strong></li>
														<li class="desc"><strong class='em'>36개월 무이자할부+전월실적별 캐시백/청구할인</strong></li>
													</ul>
													<!-- //BO 할부이벤트 e -->
													<P class="bottom-txt">최대 24/36개월 무이자할부(5만원이상/결제금액별 상이/상업용 상담 제품 제외)</p>
												</div>
											</div>
										</div>
										<div id="couponInfo" style="display: none;">
										<select name="couponList" class="select" onchange="insertCoupon(this.value)">
											<option value="">적용 가능한 쿠폰이 있어요</option>
											
										</select>
										
											
											<select class="select cart_coupon" name="cartCouponList" onchange="changeCartCoupon(this.value);">
												<option value="">적용 가능한 쿠폰이 있어요</option>
												
											</select>
										
										</div>
									</div>
									<!-- //최대 혜택 적용 금액 e -->
								</div>
								
								<!-- //최대 혜택 e -->
								<!-- //20201104 수정 e -->

								<!-- 옵션선택(필수) s -->
								<!-- 20220504 매트리스 판매 상품 추가로 제품코드 조건 추가  일감:5771 프레임일경우 사이즈 옵션 미노출 KGS -->
								
								
							</div>
						</div>
						<!-- //구입유형 : 구매 -->
						
						
					</div>
				</div>
	
				<!-- 결제 예정금액 -->
				<div class="optionScrollRight"> <!-- fixed -->
					<div class="cont">
						<a href="#;" class="closeBtn"><span>닫기</span></a>
						<!-- 렌탈 -->
						
						<div class="rental">
							<div class="setPrice">
								<!-- 렌탈 / 신규 패키지일 경우 -->
								<span class="tit" id="rentalPriceTitle">
										예상 납부 금액
										
									</span>
								
									<span class="price">
										<span class="num">월 <strong id="totalRentalAmt">28,900</strong> 원</span> 
										<span class="desc">
											<div class="rentalBasic">
												 
													(<font id="rentDescMont"> </font>개월 총 <font id="rentDescTotDis">0</font>원 할인 / <font id="rentDescMonthDis">0</font>원 월 렌탈료 할인)
													<strong>
														<!-- 예상1 납부 금액은 <br class="br2">실제 납부 금액과 다를 수 있습니다.<br class="br1"><br class="br2">
														카드 할인 금액은 제휴 카드 발급 및 <br class="br2">렌탈료 자동 이체 시 <br class="br1">
														전월 실적에 따라 <br class="br2">실제 납부 금액이 결제됩니다. -->
														렌탈 전용 제품은 소비자 판매가격이 없음
													</strong> 
												
												
											</div>
										</span>
									</span>
								
								<!-- 간편 상담 버튼만 있을 경우 -->
								<span class="price counselor" style="display: none;">상담을 통해 혜택을 확인하세요</span>
								<!--//간편 상담 버튼만 있을 경우  -->

								<!-- 신규 패키지일 경우 -->
								<span class="price counselor newpackage" style="display: none">상담을 통해 혜택을 확인하세요</span>
								<!-- //신규 패키지일 경우 -->
							</div>

							<!-- 렌탈일 경우 s -->
							<div class="btnWrap cart"> <!-- 장바구니버튼 있을경우 cart 클래스 추가 -->
								
									
									
										
										
											<a href="#" class="btnb red ml0 btnLayer rentalBasic directRental" onclick="try{gfn_gaTmember07Event('<T멤버십 메인 PC>', '<다이렉트렌탈 2>');}catch(e){} javascript:confirmDirectRental('Y','10');return false;">
												<span>다이렉트 렌탈</span>
											</a>
											<span id="rentalPointAmtSpan" class="point directRental" style="display: none;"><strong id="rentalPointAmt"></strong><em> P</em><br> 적립</span>
										
										<a href="#" class="btnb counselor og ml0" id="btnRentalConsult" onclick="try{gfn_gaTmember07Event('<T멤버십 메인 PC>', '<간편상담버튼>');}catch(e){} javascript:showSimpleConsult();return false;">
											 
												<span><em class="tNone">신규렌탈 </em>간편상담</span>
											
											
											
										</a>
										
									
								
							
							</div>
							<!-- //렌탈일 경우 e -->
						</div>
						
						<!-- //렌탈 -->

						<!-- 구매 -->
						<div class="buy"
							 style="display:none;" >
							<div class="setPrice">
								
									
									
										<span class="tit">결제 예정 금액</span>
									
								
								<span class="price">
									<!-- 230216 수정. 금액표시 관련 -->
									<span class="num"><strong id="totalBuyAmt">0</strong> 원</span>
									<!-- // 230216 수정. 금액표시 관련 -->
									<span class="desc">
										    <!-- M스토어,M스토랑 상품시 분기처리 -->
											
											<strong>
												최종 결제 금액은 결제 수단에 따라 변경될 수 있습니다.<br />
																								
											</strong>
											
											
									</span>
								</span>
							</div>
							<!--  [SR2303-02741]SKT멤버십 제휴 개발 > T맴버십 할인적용 문구 추가 -->
							
							<div class="btnWrap cart"> <!-- 장바구니버튼 있을경우 cart 클래스 추가 -->
								
								
								<!-- 180327 수정 -->
								
									
										
										
											
												
												
												
													<a href="#" class="btnb gray noMbrBuyBtn" onclick="javascript:buyCart('Y','20');return false;"><span>비회원 구매</span></a>
													<a href="#" class="btnb red noMbrBuyBtn" onclick="javascript:gotoMemberLogin();return false;"><span>회원 구매</span></a>
												
																						
										
									
									
										
											<a href="#" class="btnb cart cont2 btnBasket" onclick="javascript:buyCart('N','20');return false;">
												<span>장바구니 담기</span>
											</a>
											<!-- btnBasket 클래스 추가시  문구 모션 생성 -->
										
									
									<!-- //180327 수정 -->
																
								<!-- 일시품절 -->
								<div class="soldout" style="display: none;">
									
									<span class="txt03">일시적으로 재고가 부족한 상품입니다.<br>재입고
										알림을 신청하시면 입고 시점에 고객님께 알려드립니다.<br>궁금하신 내용은 배송센터
										1644-7272로 문의 부탁드립니다.
									</span>
									<div class="btnWrap">
										<a href="#" class="btnb red" onclick="openRestockLayer(); return false;"><span>재입고 알림 신청</span></a>
									</div> 
								</div>
								<!-- //일시품절 -->
							</div>
						</div>
						<!-- //구매 -->
						<div class="icoLike"><span>쇼핑찜<br>성공!</span></div>
						<div class="icoCart"><span>장바구니 담기<br>성공!</span></div>
					</div>
				</div>
				<!-- //결제 예정금액 -->
				<!-- 상품옵션 관련 Unit 정보 hidden 값 -->
				<div id="specificItemInfo">
					<input type="hidden" name="useGrpSpecificItem" value="N">
					<input type="hidden" name="itemOptionGoodsId" value="">
					<input type="hidden" name="itemOptionGoodsNm" value="">
					<input type="hidden" name="itemOptionPrdtCd" value="">
				</div>
				<!-- //상품옵션 관련 Unit 정보 hidden 값 -->
			</div>
			
			<div id="productContent" class="inner">
			
				<!-- 20211105 제휴포인트 배너 s-->
				<div class="partner-point-banner" style="margin-bottom: 30px;">
					
						
							<a id="bannerLink" href="/event/indexEventDetail?eventNo=3248">
						
						
					
							<img id="rentalBanner" src="https://static.skmagic.com/pc/asset/images/event/pdp_card_event_pc.jpg" alt="" style="display: none;">
							<img id="buyBanner" src="https://static.skmagic.com/image/editor/event/202111/1636086365978708.jpg" alt="" style="display: none;">
							</a>
				</div>
				<!-- 20211105 제휴포인트 배너 e-->
			

				
				<div class="giftInfoWrap">
					<div class="title">
						<h3>이달의 렌탈 사은품</h3>
						<p class="txt">
							해당 제품 렌탈 시 이달의 렌탈 사은품 1종을 선택하실 수 있으며, 이미지 클릭 시 상세정보 확인이 가능합니다. 
						</p>
						<div class="setNotice tooltip">
						</div>
					</div>
					<div class="list">
						<ul>
							
								
									<li>
										<a href="#layGiftInfo" class="btnLayer" onclick="layGiftInfoTextChgd('G000059698');">
											<span class="img"><img src="https://static.skmagic.com/image/goods/G000059698/G000059698_1_244x244.png" class="" alt="[렌탈포인트 15만점] 렌탈료 결제가능" onerror="this.src='https://static.skmagic.com/pc/asset/images/etc/no_img_180x180.png';" /></span>
											<span class="txt">[렌탈포인트 15만점] 렌탈료 결제가능</span>
										</a>
									</li>
								
									<li>
										<a href="#layGiftInfo" class="btnLayer" onclick="layGiftInfoTextChgd('G000060803');">
											<span class="img"><img src="https://static.skmagic.com/image/goods/G000060803/G000060803_1_244x244.jpg" class="" alt="[보랄] 21L 스텐 에어프라이어 오븐" onerror="this.src='https://static.skmagic.com/pc/asset/images/etc/no_img_180x180.png';" /></span>
											<span class="txt">[보랄] 21L 스텐 에어프라이어 오븐</span>
										</a>
									</li>
								
									<li>
										<a href="#layGiftInfo" class="btnLayer" onclick="layGiftInfoTextChgd('G000068098');">
											<span class="img"><img src="https://static.skmagic.com/image/goods/G000068098/G000068098_1_244x244.jpg" class="" alt="(렉스퀸)모어 클린 BLDC 무선청소기 (색상 랜덤발송)" onerror="this.src='https://static.skmagic.com/pc/asset/images/etc/no_img_180x180.png';" /></span>
											<span class="txt">(렉스퀸)모어 클린 BLDC 무선청소기 (색상 랜덤발송)</span>
										</a>
									</li>
								
									<li>
										<a href="#layGiftInfo" class="btnLayer" onclick="layGiftInfoTextChgd('G000064569');">
											<span class="img"><img src="https://static.skmagic.com/image/goods/G000064569/G000064569_1_244x244.png" class="" alt="[스위스밀리터리] 솔리오 여행용 캐리어 18+26(커버포함) (실버,다크그레이 색상 랜덤)" onerror="this.src='https://static.skmagic.com/pc/asset/images/etc/no_img_180x180.png';" /></span>
											<span class="txt">[스위스밀리터리] 솔리오 여행용 캐리어 18+26(커버포함) (실버,다크그레이 색상 랜덤)</span>
										</a>
									</li>
								
									<li>
										<a href="#layGiftInfo" class="btnLayer" onclick="layGiftInfoTextChgd('G000068258');">
											<span class="img"><img src="https://static.skmagic.com/image/goods/G000068258/G000068258_1_244x244.jpg" class="" alt="(테팔) 인덕션 델리커시 티타늄 프라이팬 22cm+24cm+28cm+멀티팬 28cm" onerror="this.src='https://static.skmagic.com/pc/asset/images/etc/no_img_180x180.png';" /></span>
											<span class="txt">(테팔) 인덕션 델리커시 티타늄 프라이팬 22cm+24cm+28cm+멀티팬 28cm</span>
										</a>
									</li>
								
									<li>
										<a href="#layGiftInfo" class="btnLayer" onclick="layGiftInfoTextChgd('G000067984');">
											<span class="img"><img src="https://static.skmagic.com/image/goods/G000067984/G000067984_1_244x244.jpg" class="" alt="[에델에프앤비] 치즈 으뜸 선물세트" onerror="this.src='https://static.skmagic.com/pc/asset/images/etc/no_img_180x180.png';" /></span>
											<span class="txt">[에델에프앤비] 치즈 으뜸 선물세트</span>
										</a>
									</li>
								
									<li>
										<a href="#layGiftInfo" class="btnLayer" onclick="layGiftInfoTextChgd('G000067967');">
											<span class="img"><img src="https://static.skmagic.com/image/goods/G000067967/G000067967_1_244x244.jpg" class="" alt="(햄튼) 소노 인덕션냄비세트(11P) HTS-6S8P2P2C24SP" onerror="this.src='https://static.skmagic.com/pc/asset/images/etc/no_img_180x180.png';" /></span>
											<span class="txt">(햄튼) 소노 인덕션냄비세트(11P) HTS-6S8P2P2C24SP</span>
										</a>
									</li>
								
									<li>
										<a href="#layGiftInfo" class="btnLayer" onclick="layGiftInfoTextChgd('G000066606');">
											<span class="img"><img src="https://static.skmagic.com/image/goods/G000066606/G000066606_1_244x244.jpg" class="" alt="[펫니즈] 반려동물 유모차" onerror="this.src='https://static.skmagic.com/pc/asset/images/etc/no_img_180x180.png';" /></span>
											<span class="txt">[펫니즈] 반려동물 유모차</span>
										</a>
									</li>
								
									<li>
										<a href="#layGiftInfo" class="btnLayer" onclick="layGiftInfoTextChgd('G000063965');">
											<span class="img"><img src="https://static.skmagic.com/image/goods/G000063965/G000063965_1_244x244.jpg" class="" alt="(기펠)자이로 센서 로봇 청소기 GFR-1121G" onerror="this.src='https://static.skmagic.com/pc/asset/images/etc/no_img_180x180.png';" /></span>
											<span class="txt">(기펠)자이로 센서 로봇 청소기 GFR-1121G</span>
										</a>
									</li>
								
							
						</ul>
					</div>
				</div>
				

				

				<div class="viewTabGroup">
					<!-- 20201103 수정 : s -->
					<div class="tabInner">
						<div class="tabData">
							<ul class="tab">
								<li class="on"><a href="#con1">상세 설명</a></li>
								<li><a href="#con2">제품사양</a></li>
								<li><a href="#con3" class="goodsCommentPage">후기(<strong>246</strong>) / 문의</a></li>
								<li>
									<a href="#con4">									
										<div class="buyCon4">배송/교환/반품 </div>
										<div class="rentalCon4"> 렌탈 안내 </div>									 
									</a>
								</li>
							</ul>
						</div>
					</div>
					<!-- 20201103 수정 : e -->
					<div class="tabContentWrap">
						<!-- 상세 설명 s -->
						<div class="tabContent" id="con1">
							<!-- 공백일 시 에디터용 기본 문자값 노출 안되게끔 분기처리 -->
							
							<img src="https://static.skmagic.com/image/editor/goods_desc/202404/1712823367150512.jpg" alt="img"><img src="https://static.skmagic.com/image/editor/goods_desc/202402/1709009105439170.jpg" alt="img"><img src="https://static.skmagic.com/image/editor/goods_desc/202402/1709009115024712.gif" alt="img"><img src="https://static.skmagic.com/image/editor/goods_desc/202402/1709009128723507.gif" alt="img"><img src="https://static.skmagic.com/image/editor/goods_desc/202402/1709009122294180.jpg" alt="img"><p><img src="https://static.skmagic.com/image/editor/goods_desc/202402/1709009177258738.gif" alt="img"><img src="https://static.skmagic.com/image/editor/goods_desc/202402/1709009184237666.jpg" alt="img"><img src="https://static.skmagic.com/image/editor/goods_desc/202402/1709009193757424.gif" alt="img"><img src="https://static.skmagic.com/image/editor/goods_desc/202402/1709009203168629.jpg" alt="img"><img src="https://static.skmagic.com/image/editor/goods_desc/202402/1709009210573912.gif" alt="img"><img src="https://static.skmagic.com/image/editor/goods_desc/202402/1709009218707860.jpg" alt="img"><img src="https://static.skmagic.com/image/editor/goods_desc/202402/1709009226338555.gif" alt="img"><img src="https://static.skmagic.com/image/editor/goods_desc/202402/1709009232669988.jpg" alt="img"><img src="https://static.skmagic.com/image/editor/goods_desc/202402/1709009239441825.gif" alt="img"><img src="https://static.skmagic.com/image/editor/goods_desc/202402/1709009245847171.jpg" alt="img"><img src="https://static.skmagic.com/image/editor/goods_desc/202402/1709009253116198.gif" alt="img"><img src="https://static.skmagic.com/image/editor/goods_desc/202402/1709009260378758.jpg" alt="img"><img src="https://static.skmagic.com/image/editor/goods_desc/202402/1709009267223392.gif" alt="img"><img src="https://static.skmagic.com/image/editor/goods_desc/202402/1709009274296204.jpg" alt="img"><img src="https://static.skmagic.com/image/editor/goods_desc/202402/1709009281829306.gif" alt="img"><img src="https://static.skmagic.com/image/editor/goods_desc/202402/1709009289685225.gif" alt="img"><img src="https://static.skmagic.com/image/editor/goods_desc/202402/1709009297120140.gif" alt="img"><img src="https://static.skmagic.com/image/editor/goods_desc/202402/1709009303776318.jpg" alt="img"><img src="https://static.skmagic.com/image/editor/goods_desc/202402/1709009311205300.gif" alt="img"><img src="https://static.skmagic.com/image/editor/goods_desc/202402/1709009318001594.jpg" alt="img"><img src="https://static.skmagic.com/image/editor/goods_desc/202403/1710922666810049.jpg" alt="img"><img src="https://static.skmagic.com/image/editor/goods_desc/202402/1709009332479373.jpg" alt="img"></p>
						</div>
						<!-- //상세 설명 e -->
						<!-- 영상 s -->
						<div class="tabContent" id="con2">
<!-- 							<div id="goods_video_area"></div> -->
							<div id = "goodsSpecArea">
								<!-- 제품 사양 s -->
								
									
									<div class="prdSpec">
										
											<div class="title">
												<h3>기본사양</h3>
											</div>
											<table class="tblCont type2">
												<caption></caption>
												<colgroup>
													<col style="width: 20%;">
													<col style="width: 30%;">
													<col style="width: 20%;">
													<col style="width: 30%;">
												</colgroup>
												<tbody>
													
														<tr>
															<th scope="row">무게</th>
															<td>9.8kg</td>
															<th scope="row">크기(mm)</th>
															<td>164(W)X370(D)X345(H)</td>
														</tr>
													
														<tr>
															<th scope="row">색상</th>
															<td>네추럴 화이트</td>
															<th scope="row">출시년월</th>
															<td>24년 2월 28일</td>
														</tr>
													
														<tr>
															<th scope="row">모델명</th>
															<td>WPU-JAC104</td>
															<th scope="row">상품명</th>
															<td> 초소형 직수 정수기 (냉온정)</td>
														</tr>
													
														<tr>
															<th scope="row">설치 / 배송 정보</th>
															<td>SK매직 본사 설치기사 직접 배송/설치 (Box 포함 총중량: 10.7kg)</td>
															<th scope="row">기본 구성</th>
															<td>-</td>
														</tr>
													
												</tbody>
											</table>
										
											<div class="title">
												<h3>주요스펙</h3>
											</div>
											<table class="tblCont type2">
												<caption></caption>
												<colgroup>
													<col style="width: 20%;">
													<col style="width: 30%;">
													<col style="width: 20%;">
													<col style="width: 30%;">
												</colgroup>
												<tbody>
													
														<tr>
															<th scope="row">온수</th>
															<td>O</td>
															<th scope="row">아이스</th>
															<td>X</td>
														</tr>
													
														<tr>
															<th scope="row">스테인리스직수관</th>
															<td>O</td>
															<th scope="row">UV코크자동살균</th>
															<td>O</td>
														</tr>
													
														<tr>
															<th scope="row">냉수</th>
															<td>O</td>
															<th scope="row">직수</th>
															<td>O</td>
														</tr>
													
														<tr>
															<th scope="row">에너지소비효율 1등급</th>
															<td>O</td>
															<th scope="row">다중이용시설용</th>
															<td>X</td>
														</tr>
													
														<tr>
															<th scope="row">IOT케어</th>
															<td>O</td>
															<th scope="row">어린이전용버튼</th>
															<td>X</td>
														</tr>
													
														<tr>
															<th scope="row">조리수 설치가능여부</th>
															<td>O</td>
															<th scope="row">UV안심케어</th>
															<td>O</td>
														</tr>
													
														<tr>
															<th scope="row">무빙코크</th>
															<td>X</td>
															<th scope="row"></th>
															<td></td>
														</tr>
													
												</tbody>
											</table>
										
											<div class="title">
												<h3>고지정보</h3>
											</div>
											<table class="tblCont type2">
												<caption></caption>
												<colgroup>
													<col style="width: 20%;">
													<col style="width: 30%;">
													<col style="width: 20%;">
													<col style="width: 30%;">
												</colgroup>
												<tbody>
													
														<tr>
															<th scope="row">정격전압</th>
															<td>220V/60Hz</td>
															<th scope="row">소비전력</th>
															<td>온수 2,900W / 냉수 0.65A</td>
														</tr>
													
														<tr>
															<th scope="row">에너지 효율등급</th>
															<td>1등급</td>
															<th scope="row">제조자(수입품의 경우 수입자를 함께 표기)</th>
															<td>SK매직</td>
														</tr>
													
														<tr>
															<th scope="row">품질보증기준</th>
															<td>제품하자시 1년 무상A/S</td>
															<th scope="row">A/S 책임자와 전화번호</th>
															<td>SK매직  1600-1661</td>
														</tr>
													
														<tr>
															<th scope="row">제조국</th>
															<td>대한민국</td>
															<th scope="row"></th>
															<td></td>
														</tr>
													
												</tbody>
											</table>
										
										
										
										
										
										
										
												
										
										
										
										
												
										
										
										<div class="title">
											<h3>안전인증 정보</h3>
										</div>
										<table class="tblCont type2">
											<caption>안전인증 정보</caption>
											<colgroup>
												<col style="width: 20%;">
												<col style="width: 80%;">
											</colgroup>
											<tbody>
													<tr>
														<th scope="row">전기안전인증</th>
														<td>
															<div class="icoMark">
																<p><span class="ico_kc"></span><strong>R-R-T8R-WPU-JAC104</strong></p>
																<a href="http://www.safetykorea.kr/release/certDetail?certNum=R-R-T8R-WPU-JAC104" class="moreLink" target="_blank">인증정보 확인</a>
															</div>
														</td>
													</tr>
													<tr>
														<th scope="row">전파인증</th>
														<td>
															<div class="icoMark">
																<p><span class="ico_kc"></span><strong>JH07734-23005</strong></p>
																<a href="https://www.rra.go.kr/ko/license/A_b_popup_keyno.do?key_no=JH07734-23005" class="moreLink" target="_blank">인증정보 확인</a>
															</div>
														</td>
													</tr>
											</tbody>
										</table>
										
										
										<div class="btnArea">
											<a href="https://service.skmagic.com/web/easy/easyMain.do?tabIndex=3&inputBasicKeyword=WPUJAC104SWH" class="btn bk" ><span>사용설명서 다운로드</span></a>
											<a href="#" class="btn bk btnLayer estimate" onclick="javascript:setEstimate();"><span >렌탈견적서보기</span></a>
										</div>
									</div>
									
									
								
								<!-- //제품 사양 e -->
							</div>
						</div>
						<!-- //영상 e -->
						<!-- 후기 / 문의 s -->
						<div class="tabContent" id="con3">
							<div id="goods_grade_area"></div>
							<div id="goods_comment_area" name="goods_comment_area"></div>
							<div class="reviewListWrap" id="eventReviewArea">
								<div class="title">
								</div>
							</div>
							<div id="goods_inquiry_area"></div>
						</div>
						<!-- //후기 / 문의 e -->
						<!-- 렌탈 안내 s -->
						<div class="tabContent" id="con4">						
							<div class="buyCon4">
								  
									
									
										
									
								 
							</div> 
							<div class="rentalCon4"><div class="rentalBenefit">
							<div class="title"><h3>SK매직몰에서 렌탈하면 이 모든 혜택이 당신의 것</h3></div>
							<ul class="list">
								<li class="item1">
									<strong class="tit">설치비/등록비 전액 면제</strong>
									<p class="txt">SK매직몰에서는 눈에 보이는 <br>렌탈료가 다입니다.</p>
								</li>
								<li class="item2">
									<strong class="tit">렌탈 기간 동안 무상 A/S</strong>
									<p class="txt">오래 쓸 제품이니까 <br>안심하고 사용하세요.</p>
								</li>
								<li class="item3">
									<strong class="tit">제휴카드 결제 할인</strong>
									<p class="txt">어떤 경우에도 적용 가능한 <br><strong>최대 2만원</strong> 카드 청구 할인 혜택.</p>
								</li>
								<li class="item4">
									<strong class="tit">정기적인 관리 서비스</strong>
									<p class="txt">최고급 정품 필터 교환부터 <br>스팀 클리닝 서비스까지!(제품별 상이)</p>
								</li>
								<li class="item5">
									<strong class="tit">SK매직몰 한정 특별 사은품</strong>
									<p class="txt">지금 렌탈하시면 이 달의 <br>특별 사은품을 함께 드려요.</p>
								</li>
								<li class="item6">
									<strong class="tit">약정이 끝나도 멤버십으로 함께</strong>
									<p class="txt">저렴한 멤버십 가격으로 <br>관리 서비스는 그대로 누리세요.</p>
								</li>
							</ul>
						</div>
					<!--	<div class="rentalRecommend">
							<div class="title"><h3>나에게 맞는 렌탈은?</h3></div>
							<ul class="list">
								<li>
									<p class="txt">뭐든 내가 직접 <br>골라야 직성이 풀린다.</p>
									<a href="#" class="btnm"><span>선택하기</span></a>
									<div class="layer">
										<p class="tit">다이렉트 렌탈을 추천합니다.</p>
										<p class="stxt">내가 받을 수 있는 혜택을 확인하고<br>홈페이지에서 한 번에 계약을 할 수 있는<br>다이렉트 렌탈을 추천합니다.</p>
										<a href="#" class="btnClose">레이어 닫기</a>
									</div>
								</li>
								<li>
									<p class="txt">내가 뭘 좋아하는지<br>잘 모르겠다.</p>
									<a href="#" class="btnm"><span>선택하기</span></a>
									<div class="layer">
										<p class="tit">간편 상담을 추천합니다.</p>
										<p class="stxt">상담 전문가에게 나의 라이프 스타일<br>예산에 딱 맞는 제품을 추천 받을 수 있는<br>간편 상담을 추천합니다.</p>
										<a href="#" class="btnClose">레이어 닫기</a>
									</div>
								</li>
								<li>
									<p class="txt">배달 음식은<br>앱으로 주문한다.</p>
									<a href="#" class="btnm"><span>선택하기</span></a>
									<div class="layer">
										<p class="tit">다이렉트 렌탈을 추천합니다.</p>
										<p class="stxt">내가 받을 수 있는 혜택을 확인하고<br>홈페이지에서 한 번에 계약을 할 수 있는<br>다이렉트 렌탈을 추천합니다.</p>
										<a href="#" class="btnClose">레이어 닫기</a>
									</div>
								</li>
							</ul>
						</div>
					-->
						<div class="rentalRule">
							<ul>
								<li>
									<strong>소유권 이전 조건</strong>
									<p>렌탈 계약 기간 만료 후 고객님께 소유권이 이전됩니다. 이후에는 기존 제품을 그대로 사용하면서 정기 점검 서비스를 받을 수 있는 멤버십 제도와 기존 제품을 반환하고 새 제품을 할인 가격으로 렌탈할 수 있는 교체 렌탈 제도를 이용하실 수도 있습니다.</p>
								</li>
								<li>
									<strong>중도 해약 시 환불 기준</strong>
									<p>의무사용기간 내 해지 시 설치비, 등록비 및 위약금(잔여 월 렌탈료 총 금액의 약 10%)과 할인 받은 총 금액 및 해지철거비용이 청구되며,<br>의무사용기간 이후 해지 시 일수금과 철거비만 발생되며, 계약 구분에 따라 상이합니다. (자세한 사항은 계약서를 참고하시기 바랍니다.)<br>위약금은 공정거래위원회의 ‘정수기임대차(렌탈)표준약관’에 의거하여 산정하며, 제품군에 따라 차이가 있으므로 자세한 사항은 고객센터(1600-1661)로 문의 주시기 바랍니다.</p>
								</li>
							</ul>
							<div class="btnArea" id="btnRentalFaq">
								<a href="/customer/faq/indexFaqList" class="btn bk" target="_blank"><span>렌탈 FAQ</span></a>
							</div>
						</div>
 </div> 							
							</div>
						<!-- //렌탈 안내 e -->
					</div>
				</div>				
				<!-- [SR2403-00443]SK매직으로 바꿔봄 추천 제품 -->
 				<div id="goods_with_area"></div>
 				<!-- //[SR2403-00443]SK매직으로 바꿔봄 추천 제품 -->
			</div>
		</div>
		<!-- productDetail : e -->
	</div>
	<!-- container : e -->
</div>
<!-- wrap : e -->





<!-- Enliple Tracker Start -->
<script type="text/javascript">

//ENP용 상품 변수
var ENPV_saleTpCd = '10';
var ENPV_SALE_TP_00 = '00';
var ENPV_SALE_TP_20 = '20';
var ENPV_SALE_TP_10 = '10';

var ENPV_nonSaleGoods =  '';
var ENPV_stockQty =  parseInt('1262');
var ENPV_isSoldOut =  'N';

var ENPV_buyPriceOrigin = parseInt(String($('#buyPriceOrigin').text()).replace(/[^0-9\.]+/g, '')); //(구매)원가
var ENPV_salePrice = parseInt(String($('#salePrice').text()).replace(/[^0-9\.]+/g, '')); //(구매)할인 적용된 판매가
var ENPV_rentalPriceOrigin = parseInt(String($('#rentalPriceOrigin').text()).replace(/[^0-9\.]+/g, '')); //(렌탈)원가
var ENPV_rentalPriceAfterDc = parseInt(String($('#rentalPriceAfterDc').text()).replace(/[^0-9\.]+/g, '')); //(렌탈)할인 적용된 렌탈가
var ENPV_price = 0;
var ENPV_priceDc = 0;

if(ENPV_saleTpCd == ENPV_SALE_TP_00 || ENPV_saleTpCd == ENPV_SALE_TP_20){
	ENPV_price = ENPV_buyPriceOrigin;
	ENPV_priceDc = ENPV_salePrice;
	if(isNaN(ENPV_price) == true || ENPV_price == null){
		ENPV_price = ENPV_priceDc;
	} 
}
else{
	ENPV_price = ENPV_rentalPriceOrigin;
	ENPV_priceDc = ENPV_rentalPriceAfterDc;
	if(isNaN(ENPV_price) == true || ENPV_price == null){
		ENPV_price = ENPV_priceDc;
	} 
}

if(ENPV_nonSaleGoods != '' || ENPV_stockQty == 0){
	ENPV_isSoldOut = 'Y';
}
////ENP용 상품 변수 종료


var ENP_VAR = {
collect: {},
conversion: { product: [] }
};
ENP_VAR.collect.productCode = 'G000067991';
ENP_VAR.collect.productName = '초소형 직수 정수기_셀프관리	';
ENP_VAR.collect.price = ENPV_price;
ENP_VAR.collect.dcPrice = ENPV_priceDc;
ENP_VAR.collect.soldOut = ENPV_isSoldOut;
ENP_VAR.collect.imageUrl = 'https://static.skmagic.com/image' + '/goods/G000067991/G000067991_2.png';
ENP_VAR.collect.topCategory = '주방가전';
ENP_VAR.collect.firstSubCategory = '정수기';
ENP_VAR.collect.secondSubCategory = '';
ENP_VAR.collect.thirdSubCategory = '';

(function(a,g,e,n,t){a.enp=a.enp||function(){(a.enp.q=a.enp.q||[]).push(arguments)};n=g.createElement(e);n.async=!0;n.defer=!0;n.src="https://cdn.megadata.co.kr/dist/prod/enp_tracker_self_hosted.min.js";t=g.getElementsByTagName(e)[0];t.parentNode.insertBefore(n,t)})(window,document,"script");
/* 상품수집 */
enp('create', 'collect', 'magic09', { device: 'W' });
/* 장바구니 버튼 타겟팅 (이용하지 않는 경우 삭제) */
enp('create', 'cart', 'magic09', { device: 'W', btnSelector: '.btnb.cart' });
/* 찜 버튼 타겟팅 (이용하지 않는 경우 삭제) */
enp('create', 'wish', 'magic09', { device: 'W', btnSelector: '.btnLike' });
</script>
<!-- Enliple Tracker End -->

	
 

<!-- [영상] 레이어 팝업 : s -->
<div class="layerPop" id="layerVideo">
	<div class="dim"></div>
	<div class="layerPopArea video">
		<!-- layerCont : s -->
		<div class="layerCont">
			<iframe src="https://www.youtube.com/embed/o77rk_GbexQ?rel=0&amp;controls=0&amp;showinfo=0?ecver=1" frameborder="0" allowfullscreen></iframe>
		</div>
		<!-- layerCont : e -->
		<a href="#" class="btnRightClose btnLayerClose">레이어 팝업 닫기</a>
	</div>
</div>
<!-- [영상] 레이어 팝업 : e -->

<!-- [후기] 레이어 팝업 : s -->
<div class="layerPop" id="layerReview">
	<div class="dim"></div>
	<div class="layerPopArea review">
		<!-- layerCont : s -->
		<div class="layerCont">
			<div class="photoSlide">
				<div class="in">
					<ul>
						<li><span><img
								src="https://static.skmagic.com/pc/asset/images/sample/@img_278x190_01.png" alt=""></span></li>
						<li><span><img
								src="https://static.skmagic.com/pc/asset/images/sample/@prdmainvisual03_21.jpg" alt=""></span></li>
						<li><span><img
								src="https://static.skmagic.com/pc/asset/images/sample/@img_main_510x630.jpg" alt=""></span></li>
						<li><span><img
								src="https://static.skmagic.com/pc/asset/images/sample/@img_278x278_02.png" alt=""></span></li>
						<li><span><img
								src="https://static.skmagic.com/pc/asset/images/sample/@img_275x275.png" alt=""></span></li>
					</ul>
					<div class="indicator"></div>
				</div>
			</div>
		</div>
		<!-- layerCont : e -->
		<a href="#" class="btnRightClose btnLayerClose">레이어 팝업 닫기</a>
	</div>
</div>
<!-- [후기] 레이어 팝업 : e -->

<!-- [구매 최대혜택가 확인] 레이어 팝업 : s - as-is layBenefitBuy layer변경 -->
<div class="layerPop" id="layBuyBenefit">
	<div class="dim"></div>
	<div class="layerPopArea benefit-pop">
		<!-- layerCont : s -->
		<div class="layerCont">
			<h2 class="popTit">
			
				
				SK매직몰
			
			고객님을 위한 최대 혜택
			</h2>			
			<!-- 로그인시 s -->
			
			<!-- //로그인시 e -->
			<!-- 비로그인시 s -->
			
				<div class="txt">SK매직몰 회원가입 및 로그인 시 쿠폰 다운로드 및 최대혜택 적용을 받으실 수 있습니다.</div>
			
			<!-- //비로그인시 e -->
			<div class="benefit-coupon">
				<h4>최대 혜택에 사용된 쿠폰</h4>
				
				

				
				<!--20230811 쿠폰 팝업 문구 수정 s-->
				<!-- 장바구니 쿠폰이 없을 경우 -->
				<div class="couponBox">
					<div class="coupon">
						<a href="#">
							<div class="tit">장바구니 쿠폰</div>
							<div class="img">
								<p class="txt type02">
								<span>보유한 장바구니 쿠폰이 없습니다!</span>								
							</div>
						</a>
					</div>
				</div>
				<!-- //장바구니 쿠폰이 없을 경우 -->
				<!--20230811 쿠폰 팝업 문구 수정 e-->
				
			</div>

<!-- 			<div class="bottomTxt">최대혜택가는 회원님이 받으실 수 있는 할인혜택을 포함한 예상 결제 금액으로 최종 결제금액과 상이할 수 있습니다.</div> -->
			<div class="btnArea">
				<a href="/event/indexCouponZone" class="btn"><span>쿠폰존 바로가기</span></a>
				<a class="btn bk" style="cursor: pointer" onclick="javascript:setBuyMaxBenebitAmt('', '');">
					<span>최대혜택 적용하기</span>
				</a>
			</div>
		</div>
		<!-- layerCont : e -->
		<a href="#" class="btnClose btnLayerClose">레이어 팝업 닫기</a>
	</div>
</div>
<!-- [구매 최대혜택가 확인] 레이어 팝업 : e -->

<!-- [admin 미리보기] 레이어 팝업 : s -->
<div class="layerPop" id="layAdminView">
	<div class="dim"></div>
	<div class="layerPopArea msg">
		<!-- layerCont : s -->
		<div class="layerCont">
			<div class="popMsgBox">
				<p class="top">관리자에서 미리보기한 페이지입니다.</p>
				<p>
					기능은 정상 동작하지 않을 수 있습니다.<br /> 상품 노출 정보만 확인하세요.
				</p>
			</div>
			<div class="btnArea">
				<a href="#" class="btn bk btnLayerClose"><span>확인</span></a>
			</div>
		</div>
		<!-- layerCont : e -->
		<a href="#" class="btnClose02 btnLayerClose">레이어 팝업 닫기</a>
	</div>
</div>
<!-- [재입고 알림 신청] 레이어 팝업 : s -->
<div class="layerPop" id="layRestockAlim">
	<div class="dim"></div>
	<div class="layerPopArea">
		<!-- layerCont : s -->
		<div class="layerCont deliChk">
			<h2 class="popTit">재입고 알림 신청</h2>
			<form id="frmRestockAlim">
				<input type="hidden" name="restockAlimMbrNo"
					value="0"> <input type="hidden"
					name="restockAlimPrdtCd" value="WPUJAC104SWH"> <input
					type="hidden" name="restockAlimGoodsId" value="G000067991">
				<div class="productInfo mt30">
					<div class="thumbnail">
						<img src="https://static.skmagic.com/image/goods/G000067991/G000067991_2.png"
							alt="초소형 직수 정수기_셀프관리	"
							onerror="this.src='https://static.skmagic.com/pc/asset/images/common/no_img.png'">
					</div>
					<div class="info">
						<span class="prdCode mt40">WPUJAC104SWH</span> <strong
							class="prdName">초소형 직수 정수기_셀프관리	</strong>
						
					</div>
				</div>
				<div class="finMsg">
					<p>
						연락 받을 번호 <strong class="ml20"></strong>
					</p>
				</div>
				<div class="infoBox type2 mt20">
					<ul class="txtList ">
						<li>상품 판매 가격 혹은 혜택 금액은 신청 시점과 차이가 날 수 있으며, <br>입고 알림을
							받으셨더라도 구매 시점에 따라 품절이 발생할 수 있습니다. 
						</li>
						<li>연락 받을 번호를 수정하시려면 <span class="under">마이페이지 > 회원 정보
								수정</span> 메뉴에서 휴대폰 번호를 수정 후 신청해 주시기 바랍니다.
						</li>
					</ul>
				</div>
				<div class="btnArea">
					<a href="#" class="btn btnLayerClose"><span>닫기</span></a> <a
						href="#" class="btn bk" onclick="sendRestockAlim(); return false;"><span>알림
							신청</span></a>
				</div>
			</form>
		</div>
		<!-- layerCont : e -->
		<a href="#" class="btnClose btnLayerClose">레이어 팝업 닫기</a>
	</div>
</div>
<!-- [재입고 알림 신청] 레이어 팝업 : e -->


<!-- [크로스패키지 선택] 레이어 팝업 : s -->
<div class="layerPop" id="layCrosspack">
	<div class="dim"></div>
	<div class="layerPopArea">
		<!-- layerCont : s -->
		<div class="layerCont popCross">
			<h2 class="popTit">추가 렌탈 제품 선택</h2>
			<div class="infoBox type2">
				<strong class="tit">추가 렌탈시 유의 사항</strong>
				
					
					
						<div class="tooltipBox tmem">
							<p class="txt">
								잠깐만요! SKT T멤버십 회원이신가요?<br>간편상담(1600-6446)을 신청/이용해 보세요!
							</p>
							<p class="stxt">
								SK매직 전문상담원이 기존 추가 렌탈 혜택과 T멤버십 할인혜택을 비교하여<br>더 좋은 혜택을 받으실 수
								있도록 안내해 드립니다. (단, T제휴 상품에 한함)
							</p>
						</div>
					
				
				<ul class="txtList desc">
					<li>의무 사용 이내에 해약 시, 설치 등록비와 렌탈료 위약금이 청구됩니다.</li>
					<li>추후 패키지 제품 명의 변경 / 계좌 변경 시 패키지 전체 제품 동시 변경만 가능합니다. (분리 변경
						불가)</li>
					<li>패키지 분리 시 기존에 할인 받았던 금액은 반환 후 처리됩니다.</li>
					<li>기존 계약 계정이 만기될 경우, 렌탈료는 기준가로 복원됩니다. 이 때 이미 할인 받은 금액은 청구되지
						않으므로 <br>안심하세요!
					</li>
				</ul>
			</div>

			<div id="layCrossList"></div>

			<div class="btnArea">
				<a href="#" class="btn btnLayerClose"><span>취소</span></a> <a
					href="javascript:selectRentalContract();" class="btn bk"><span>선택</span></a>
			</div>
		</div>
		<!-- layerCont : e -->
		<a href="#" class="btnClose btnLayerClose">레이어 팝업 닫기</a>
	</div>
</div>
<!-- [크로스패키지 선택] 레이어 팝업 : e -->


<!-- [크로스패키지 불가] 레이어 팝업 : s -->
<div class="layerPop" id="layNoCross"
	data-work-type="MS">
	<div class="dim"></div>
	<div class="layerPopArea msg">
		<!-- layerCont : s -->
		<div class="layerCont">
			<div class="popMsgBox">
				<p class="top">추가 렌탈 가능한 제품이 없어요.</p>
				<p id="desc">
					렌탈 중인 내역이 없거나 추가 렌탈 가능한 제품이 없어서 추가렌탈이 불가능합니다.<br>혹시 렌탈 중인 제품이
					있는데 이 메시지를 보셨다면, 렌탈 내역 조회를 위해<br>고객님만의 렌탈인증키를 발급하신 뒤 다시
					시도해주세요.
				</p>
			</div>
			<div class="btnArea">
				<a href="#" class="btn btnLayerClose" id="btn-cancel"><span>취소</span></a>
				<a href="javascript:openSafeKey();" id="btn-safekey" class="btn bk"><span>렌탈인증키
						발급</span></a>
			</div>
		</div>
		<!-- layerCont : e -->
		<a href="#" class="btnClose02 btnLayerClose">레이어 팝업 닫기</a>
	</div>
</div>
<!-- [크로스패키지 불가] 레이어 팝업 : e -->

<!-- 다이렉트 렌탈 버튼 클릭 시 안내 레이어 팝업 : s -->
<div class="layerPop" id="layOrdDirectRentalConsult">
	<div class="dim"></div>
	<div class="layerPopArea msg">
		<!-- layerCont : s -->
		<div class="layerCont">
			<div class="popMsgBox">
				<p class="top">간편 상담이 필요합니다.</p>
				<p>
					해당 제품은 의무 사용기간에 따라 렌탈료가 차등 할인됩니다.<br>간편 상담을 신청해주시면 SK매직 전문
					상담사가 자세한 설명과 함께 렌탈을 도와드립니다.
				</p>
			</div>
			<div class="btnArea">
				<a href="#" class="btn btnLayerClose"><span>취소</span></a> <a
					href="#" class="btn bk"><span>확인</span></a>
			</div>
		</div>
		<!-- layerCont : e -->
		<a href="#" class="btnClose02 btnLayerClose">레이어 팝업 닫기</a>
	</div>
</div>

<!-- [개인정보 수집 및 이용 안내] 레이어 팝업 : s 미사용 -->
<div class="layerPop" id="layPrivacy">
	<div class="dim"></div>
	<div class="layerPopArea">
		<!-- layerCont : s -->
		<div class="layerCont">
			<h2 class="popTit">개인정보 수집 및 이용 안내</h2>
			<p class="popTxt2">
				구매상담을 위해서는 아래 정보 항목에 대한 동의가 필요합니다.<br>해당 정보 사용에 대한 동의를 거부할 권리가
				있으나,<br>미 동의시 상담 서비스 이용이 불가능합니다.
			</p>

			<table class="tblCont col">
				<caption></caption>
				<colgroup>
					<col style="width: 10%;">
					<col style="width: 25%;">
					<col style="width: *;">
					<col style="width: 20%;">
				</colgroup>
				<thead>
					<tr>
						<th scope="col" colspan="2">수집항목</th>
						<th scope="col">이용목적</th>
						<th scope="col">보유기간</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>필수</td>
						<td>이름, 휴대폰번호</td>
						<td>이용자 식별 서비스 이행을 위한 연락, <br>서비스 이용에 따른 민원사항의 처리
						</td>
						<td>5년</td>
					</tr>
				</tbody>
			</table>

			<div class="btnArea">
				<a href="#" class="btn bk btnLayerClose"><span>확인</span></a>
			</div>
		</div>
		<!-- layerCont : e -->
		<a href="#" class="btnClose btnLayerClose">레이어 팝업 닫기</a>
	</div>
</div>
<!-- [개인정보 수집 및 이용 안내] 레이어 팝업 : e -->


<!-- [개인정보 수집 및 이용 안내] 레이어 팝업 : s -->
<div class="layerPop" id="layPrivacyGoods">
	<div class="dim"></div>
	<div class="layerPopArea">
		<!-- layerCont : s -->
		<div class="layerCont">
			<h2 class="popTit">개인정보 수집 및 이용 안내</h2>
			<p class="popTxt2">
				<span id="titPrivacy">간편</span>상담을 위해서는 아래 정보 항목에 대한 동의가 필요합니다.<br>해당
				정보 사용에 대한 동의를 거부할 권리가 있으나,<br>미 동의시 상담 서비스 이용이 불가능합니다.
			</p>

			<table class="tblCont col">
				<caption></caption>
				<colgroup>
					<col style="width: 10%;">
					<col style="width: 25%;">
					<col style="width: *;">
					<col style="width: 20%;">
				</colgroup>
				<thead>
					<tr>
						<th scope="col" colspan="2">수집항목</th>
						<th scope="col">이용목적</th>
						<th scope="col">보유기간</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>필수</td>
						<td>이름, 휴대폰번호</td>
						<td>이용자 식별 서비스 이행을 위한 연락, <br>서비스 이용에 따른 민원사항의 처리
						</td>
						<td>5년</td>
					</tr>
				</tbody>
			</table>

			<div class="btnArea">
				<a href="#" class="btn bk btnLayerClose"><span>확인</span></a>
			</div>
		</div>
		<!-- layerCont : e -->
		<a href="#" class="btnClose btnLayerClose">레이어 팝업 닫기</a>
	</div>
</div>
<!-- [개인정보 수집 및 이용 안내] 레이어 팝업 : e -->
<!-- [임시저장] 레이어 팝업 : s -->
<div class="layerPop" id="layOrdSave">
	<div class="dim"></div>
	<div class="layerPopArea msg">
		<!-- layerCont : s -->
		<div class="layerCont">
			<div class="popMsgBox">
				<p class="top">
					임시 저장해 놓으셨던 주문 정보가 있네요!<br>이 정보를 그대로 불러 올까요?
				</p>
				<p>
					저장 일시 : <span id="tempSaveDt"></span>
				</p>
				<input type="hidden" name="tempOrdNo">
			</div>
			<div class="btnArea">
				<a href="#" class="btn"
					onclick="javascript:buyCart('Y','10');return false;"><span>새로
						쓸게요.</span></a> <a href="#" class="btn bk"
					onclick="javascript:useTemporaryOrderInfo();return false;"><span>네.</span></a>
			</div>
		</div>
		<!-- layerCont : e -->
		<a href="#" class="btnClose02 btnLayerClose">레이어 팝업 닫기</a>
	</div>
</div>
<!-- [임시저장] 레이어 팝업 : e -->

<!-- [쿠폰다운로드] 레이어 팝업 : s -->
<div class="layerPop" id="layOrdCoupon">
	<div class="dim"></div>
	<div class="layerPopArea msg">
		<!-- layerCont : s -->
		<div class="layerCont">
			<div class="popMsgBox">
				<p class="top">해당 제품의 쿠폰이 모두 다운로드 되었습니다.</p>
				<p>다운받은 쿠폰은 "마이페이지"에서 확인가능합니다.</p>
			</div>
			<div class="btnArea">
				<a href="#" class="btn bk btnLayerClose"><span>확인</span></a>
			</div>
		</div>
		<!-- layerCont : e -->
		<a href="#" class="btnClose02 btnLayerClose">레이어 팝업 닫기</a>
	</div>
</div>
<!-- [쿠폰다운로드] 레이어 팝업 : e -->
<!-- [구매 상담 신청] 레이어 팝업 : s -->
<div class="layerPop" id="layBuyConsult">
	<div class="dim"></div>
	<div class="layerPopArea wMid">
		<!-- layerCont : s -->
		<div class="layerCont consultApply">
			<h2 class="popTit">구매 상담 신청</h2>

			<p class="txtTop">
				매장에서 활용될 상업 전용 제품에 대해서는 전문상담이 요구됩니다.<br>아래 상담 신청서를 작성해 주시면 본사
				영업 담당자 분이 직접 상담해 드리겠습니다.
			</p>
			<div class="popSec">
				<ul class="itemList form">
					<!-- 180502 수정 -->
					<li>
						<!-- 오류발견시 class="validate" 추가 --> <em class="stit require">신청자
							이름</em>
						<div class="cont">
							<input type="text" name="eqrrNm" value=""
								onkeyup="javascript:validateGoodsInquiry.checkByte('',this,20);"
								onfocusout="javascript:validateGoodsInquiry.validateMbrNm(this);"
								placeholder="이름을 입력해주세요.">
							<!-- 오류발견시 class="vd" 추가 -->
							<p class="txtMsg">이름을 입력해 주세요.</p>
							<!-- 오류 메세지 -->
						</div>
					</li>
					<!-- //180502 수정 -->
					<li><em class="stit require">연락처</em>
						<div class="cont">
							<input type="text" name="eqrrMobile" value=""
								onfocusout="javascript:validateGoodsInquiry.validateMobile(this);"
								placeholder="숫자만 입력해주세요." maxlength="11">
							<p class="txtMsg">연락처를 입력해 주세요.</p>
							<!-- 오류 메세지 -->
						</div></li>
					<li><em class="stit vtop">메모 <span class="length"
							id="iqrContentLength">(0/300)</span></em>
						<div class="cont">
							<!-- 180330 수정 -->
							<div class="textarea">
								<textarea cols="" rows="3" name="iqrContent"
									onkeyup="javascript:validateGoodsInquiry.checkByte('iqrContentLength',this,300);"
									placeholder="상담을 원하시는 시간대나 궁금한 점 등을 자유롭게 남겨 주세요."></textarea>
							</div>
							<!-- //180330 수정 -->
						</div></li>
				</ul>

				<div class="agreeBox chk">
					<div class="agree">
						<div class="checkbox">
							<input type="checkbox" id="agreePersonalInfo"
								name="agreePersonalInfo"> <label for="agreePersonalInfo"><em>[필수]</em>
								개인정보 수집 및 이용 동의</label>
						</div>
						<a href="#layPrivacyGoods" class="btns btnLayer">전문보기</a>
					</div>
					<p class="txtMsg validate" style="display: none;"
						id="txtErrAgreeMsg">개인정보 수집 이용에 동의해 주세요.</p>
				</div>
			</div>

			<div class="btnArea">
				<a href="#" onclick="javascript:insertGoodsInquiryReg();return false;" class="btn red">상담신청</a>
			</div>
		</div>
		<!-- layerCont : e -->
		<a href="#" class="btnClose btnLayerClose">레이어 팝업 닫기</a>
	</div>
</div>
<!-- [구매 상담 신청] 레이어 팝업 : e -->

<!-- [가스 연결 요청 안내] 레이어 팝업 : s -->
<div class="layerPop" id="layGasLNG">
	<div class="dim"></div>
	<div class="layerPopArea">
		<!-- layerCont : s -->
		<div class="layerCont gaslng">
			<h2 class="popTit">SK매직 가스레인지<br>도시가스 LNG - 가스 연결 요청 안내</h2>
			
			<div class="secCont">
				<h4>※ SK매직 설치마스터가 직접 방문 배송 후, 설치까지 도와드립니다.</h4>
				<ul class="txtList desc">
					<li>LNG 가스 연결 요청 시, 기본 설치비(18,000원~20,000원) 외 설치 환경에 따라 부품비 등의 추가 요금이 발생할 수 <br>있습니다.</li>
					<li>현금영수증 발급은 불가합니다.</li>
				</ul>

				<h4>※ 폐가전 무료 수거 서비스를 제공합니다.</h4>
				<ul class="txtList desc">
					<li>동일 제품군 한정</li>
				</ul>

				<div class="serviceArea">
					<h4>서비스 가능 지역</h4>
					<p class="txt01"><strong>서울(일부 지역 제외), 경기(일부 지역 제외), 인천(영종도, 옹진군, 강화군 제외),<br>대구(경산시, 달성군 제외), 부산, 김해, 양산, 울산, 창원, 마산</strong></p>
					<p>※ 세부 지역 문의는 <span>배송센터(1644-7272)</span>로 문의 부탁드립니다.</p>
				</div>
			</div>

			<div class="btnArea">
				<a href="#" class="btn bk btnLayerClose"><span>확인</span></a>
			</div>
		</div>
		<!-- layerCont : e -->
		<a href="#" class="btnClose btnLayerClose">레이어 팝업 닫기</a>
	</div>
</div>
<!-- [가스 연결 요청 안내] 레이어 팝업 : e -->

<!-- [비회원구매] 레이어 팝업 : s -->
<div class="layerPop" id="layOrdNoMember">
	<div class="dim"></div>
	<div class="layerPopArea msg">
		<!-- layerCont : s -->
		<div class="layerCont">
			<div class="popMsgBox">
				<p class="top">앗, 정말 비회원으로 구매하시겠어요?</p>
				<p>회원가입 시 쿠폰 및 적립금, 이벤트 참여 등 더 많은 혜택을 받아볼 수 있어요.</p>
			</div>
			<div class="btnArea">
				<a class="btn" onclick="javascript:goSnsMemSelfAuth('NOMEMBER');"><span>본인 인증 후 비회원 구매</span></a>
				<a class="btn bk" onclick="javascript:gotoLoginOrder();"><span>로그인</span></a>
				<a href="/join/indexJoin" class="btn bk"><span>회원가입</span></a>
			</div>
		</div>
		<!-- layerCont : e -->
		<a href="#" class="btnClose02 btnLayerClose">레이어 팝업 닫기</a>
	</div>
</div>
<!-- [비회원구매] 레이어 팝업 : e -->
<div id="tempGoodsPrmtGiftList" style="display: none"></div>

<div class="layerPop" id="layOrdLoginCp">
	<div class="dim"></div>
	<div class="layerPopArea msg">
		<!-- layerCont : s -->
		<div class="layerCont">
			<div class="popMsgBox">
				<p class="top">회원가입 및  로그인 후 이용할 수 있는 서비스에요.</p>
				<p>회원가입 시 쿠폰 및 적립금, 이벤트 참여 등 더 많은 혜택을 받아볼 수 있어요.</p>
			</div>
			<div class="btnArea">
				<a href="javascript:goLogin('R');" class="btn"><span>로그인</span></a>
				<a href="/join/indexJoin" class="btn bk"><span>회원가입</span></a>
			</div>
		</div>
		<!-- layerCont : e -->
		<a href="#" class="btnClose02 btnLayerClose">레이어 팝업 닫기</a>
	</div>
</div>


<!-- 20200703 [사은품 상세 정보] 레이어 팝업 : s -->
<div class="layerPop" id="layGiftInfo">
	<div class="dim"></div>
	<div class="layerPopArea">
		<!-- layerCont : s -->
		<div class="layerCont deliChk">
			<h2 class="popTit">사은품 상세 정보</h2>

			<div class="infoBox type2 mt20">
				<ul class="txtList">
					<li>사은품 발송 안내<br>
					(1차 발송) 전월 26일~당월 10일 설치 확정 고객 → 당월 15일 발송/적립<br>
					(2차 발송) 당월 11일~당월 25일 설치 확정 고객 → 당월 말일 발송/적립</li>
					<li>사은품은 재고 상황에 따라 사전 공지 없이 유사 사양의 다른 사은품으로 변경될 수 있습니다.</li>
					<li>1년 이내 고객님의 귀책 사유로 해약할 경우 사은품 금액은 위약금에 합산되어 청구될 수 있습니다.</li>
					<li class="em">포인트 사은품 신청 시, 포인트 적립을 위한 필수 안내 사항을 꼭 확인해주세요.</li>
				</ul>
			</div>

			<div class="productGiftInfo mt50">
				<h3 class="em aCenter"></h3>
				<div class="img mt20"></div>
			</div>
			
			<div class="btnArea">
				<a href="#" class="btn bk btnLayerClose"><span>닫기</span></a>
			</div>
		</div>
		<!-- layerCont : e -->
		<a href="#" class="btnClose btnLayerClose">레이어 팝업 닫기</a>
	</div>
</div>
<!-- 20200703 [사은품 상세 정보] 레이어 팝업 : e -->

<!-- 2020 renewal popup -->
<!-- 20201104 수정 s -->
<!-- [랜탈 최대혜택가 확인] 레이어 팝업 : s -->
<div class="layerPop" id="layBenefit">
	<div class="dim"></div>
	<div class="layerPopArea benefit-pop">
		<!-- layerCont : s -->
		<div class="layerCont">
			<h2 class="popTit">
			
				
				SK매직몰
			 
			고객님을 위한 최대 혜택
			</h2>
			
			<!-- 로그인시 s -->
			
			<!-- //로그인시 e -->
			<!-- 비로그인시 s -->
			
				<div class="txt">SK매직몰회원가입 및 로그인 시 최대혜택 적용을 받으실 수 있습니다. </div>
			
			<!-- //비로그인시 e -->
			
			<div class="txt02">최대 혜택가는 회원님이 받으실 수 있는 할인혜택을 포함한 예상 결제 금액으로 최종 결제금액과 상이할 수 있습니다. 카드 할인 금액은 제휴카드 발급 및 렌탈료 자동 이체 시 전월 실적에 따라 실제 납부 금액이 결제 됩니다. </div>
			<!-- itemList s -->
			<div class="itemList form mt20">
				<div class="liArea" >
					<div class="stit">의무약정기간</div>
					<div class="cont">
						<div class="radioTabWrap type4">
							
								<span class="radioTab tooltip"> 
									<input type="radio" id="rentalInfoLayer0" name="rentalInfoLayer" onclick="javascript:checkRentalInfoLayer(this,'');"
										
										data-max-dc-prmt-no="28902"
										data-duty-use-prd="36"
										data-own-get-prd="60"
										data-rental-price="47900"
										data-rental-price-dc="34900"
										data-rental-price-post="47900"
										data-index="0">
									<label for="rentalInfoLayer0"> 
									
										
											
											3년
										
										
									
									</label>
									<p class="layer">계약기간 : 총 60개월 (의무사용 36개월)</p>
								</span>
							
								<span class="radioTab tooltip"> 
									<input type="radio" id="rentalInfoLayer1" name="rentalInfoLayer" onclick="javascript:checkRentalInfoLayer(this,'');"
										
										data-max-dc-prmt-no="28903"
										data-duty-use-prd="60"
										data-own-get-prd="60"
										data-rental-price="47900"
										data-rental-price-dc="29900"
										data-rental-price-post="0"
										data-index="1">
									<label for="rentalInfoLayer1"> 
									
										
											
											5년
										
										
									
									</label>
									<p class="layer">계약기간 : 총 60개월 (의무사용 60개월)</p>
								</span>
							
								<span class="radioTab tooltip"> 
									<input type="radio" id="rentalInfoLayer2" name="rentalInfoLayer" onclick="javascript:checkRentalInfoLayer(this,'');"
										checked="checked"
										data-max-dc-prmt-no="28904"
										data-duty-use-prd="72"
										data-own-get-prd="72"
										data-rental-price="47900"
										data-rental-price-dc="28900"
										data-rental-price-post="0"
										data-index="2">
									<label for="rentalInfoLayer2"> 
									
										
											
											6년
										
										
									
									</label>
									<p class="layer">계약기간 : 총 72개월 (의무사용 72개월)</p>
								</span>
							
						</div>
					</div>
				</div>
				
				
				
				<div class="liArea top-down">
					<div class="stit">카드혜택 <span class="txt">카드와 예상전월 실적을 선택하여 월 렌탈료를 예상해 보세요. 혜택 적용 시, 제휴카드 할인 금액은 제외한 최대혜택가가 반영됩니다.</span></div>
					<div class="cont">
						<div class="selectBox selectBoxWrap">
							<select id="afltRentCard" name="afltRentCard" class="select">
								<option value="">카드 선택</option>
								
									<option value="HYUNDAI"   >SK매직현대카드M Edition3</option>
								
									<option value="SAMSUNG"   >SK매직 삼성카드</option>
								
									<option value="HANA"   >SK매직하나카드</option>
								
									<option value="WOORI"   >SK매직우리카드</option>
								
									<option value="LOTTE"  selected >SK매직스페셜롯데카드</option>
								
									<option value="KOOKMIN"   >SK매직올림KB국민카드</option>
								
									<option value="KJ"   >SK매직 KJ카드</option>
								
							</select>
						</div>
						<div class="selectBox selectBoxWrap">
							<select id="afltCardUseCd" name="afltCardUseCd" class="select" >
								<option value="" aplVal="0" addDcAmt="0" freeMonth="0" dcMonth="0">예상 전월 실적을 선택해 주세요</option>
	                            
							 		
							 			
								 	
							 			
								 	
							 			
								 	
							 			
							 			<option value="L30" aplVal="13000"  selected >30만원 이상</option>
							 			
								 	
							 			
							 			<option value="L70" aplVal="17000"   >70만원 이상</option>
							 			
								 	
							 			
							 			<option value="L120" aplVal="23000"   >120만원 이상</option>
							 			
								 	
							 			
								 	
							 			
								 	
							 			
								 	
							 			
								 	
							 			
								 	
							 			
								 	
							 			
								 	
							 			
								 	
							 			
								 	
							 			
								 	
							 			
								 	
							 			
								 	
							 			
								 	
							 			
								 	
								
                             </select>
						</div>
					</div>
					<a href="#" class="btnView">카드 할인 안내</a>
					<div class="optionViewBox">
						<strong>제휴 카드 할인 혜택
							<a class="link" href="/event/indexEventDetail?eventNo=828">더보기</a>
						</strong>
						<p>SK매직 제휴 카드로 렌탈료 자동이체 신청 시, 전월 실적에 따라 월 렌탈료를 10,000원~23,000원까지 청구 할인 받을 수 있는 혜택입니다. 카드 발급 후 SK매직 고객센터로 자동이체 신청을 해주세요.</p>
					</div>
				</div>
				
				
				<div class="liArea">
					<div class="stit">최대 혜택</div>
					<div class="cont">
						<div class="benefit-option">
							<ul id="rentalPromotionUl">
							
							
								<li>
									<div class="info">
										<strong class="prdName">초소형 직수 런칭 특가 프로모션-6년</strong>
										<span class="price"><em>월</em> <strong  id="rentalAmtLayer28904"></strong> 원</span>
									</div>
									<div class="select">
										<span class="radio only">
											<input type="radio" id="rentalPromotionLayer28904" name="rentalPromotionLayer" 
													    value="28904" 
														prmtAplCd="00" 
														aplVal="0" 
														addDcAmt="19000" 
														freeMonth="0" 
														dcMonth="72" 
														prmtKindCd="170" 
														checked="checked"
											>
											<label for="rentalPromotionLayer28904">선택</label>
										</span>
									</div>
								</li>
							
								<li>
									<div class="info">
										<strong class="prdName">렌탈-프로모션-기본할인-6년</strong>
										<span class="price"><em>월</em> <strong  id="rentalAmtLayer29045"></strong> 원</span>
									</div>
									<div class="select">
										<span class="radio only">
											<input type="radio" id="rentalPromotionLayer29045" name="rentalPromotionLayer" 
													    value="29045" 
														prmtAplCd="00" 
														aplVal="0" 
														addDcAmt="9000" 
														freeMonth="0" 
														dcMonth="72" 
														prmtKindCd="170" 
														
											>
											<label for="rentalPromotionLayer29045">선택</label>
										</span>
									</div>
								</li>
							
							</ul>
						</div>
					</div>
				</div>
			</div>
			<!-- //itemList e -->
			<div class="btnArea">
				<a class="btn bk" href="/event/indexEventDetail?eventNo=828">
					<span>제휴카드혜택 바로가기</span>
				</a> 
				<a class="btn red" style="cursor: pointer" onclick="javascript:setRentalMaxBenebitAmt()">
					<span>최대혜택 적용하기</span>
				</a>
			</div>
		</div>
		<!-- layerCont : e -->
		<a href="#" class="btnClose btnLayerClose">레이어 팝업 닫기</a>
	</div>
</div>
<!-- [랜탈 최대혜택가 확인] 레이어 팝업 : e -->
<!-- //20201104 수정 e -->
<!-- [본인 인증 요청 팝업(SNS회원 본인 인증 유도)] 레이어 팝업 : s -->
<div class="layerPop" id="laySnsMemberCertified">
	<div class="dim"></div>
	<div class="layerPopArea">
		<!-- layerCont : s -->
		<div class="layerCont deliChk">
			<h2 class="popTit">본인 인증 안내</h2>
			
			<div class="certified-msg icon-img mt50">
				<p>지금 본인 인증을 완료하시면 <br>SK매직몰의 다양한 서비스를 이용하실 수 있습니다.</p>
			</div>
			
			<div class="btnArea">
				<a href="#" class="btn bk" onclick="javascript:goSnsMemSelfAuth();"><span>본인 인증 진행하기</span></a>
			</div>
		</div>
		<!-- layerCont : e -->
		<a href="#" class="btnClose btnLayerClose">레이어 팝업 닫기</a>
	</div>
</div>
<!-- [본인 인증 요청 팝업(SNS회원 본인 인증 유도)] 레이어 팝업 : e -->




 



<script type="text/javascript">
/** 
 * 화면 초기화
 */
function fncPostPopupInit() {
	$("#postResultList").find(">li").remove();
	$("#noDataFoundMsgDiv").hide();
	$("#postResultListDiv").show();
	$("#pageApi").hide();
	
	// form 초기화
	$(".postForm").each(function() {  
		this.reset();  
	});
	
	
	$("#keyword").focus();
}

/**
 * 수지원넷 검색처리
 */
function btnDoroSearch(){	
	if( $("#keyword").val() == "" ){
		//검색어를 입력해주세요.
		alert("검색어를 입력해주세요.");
		$("#keyword").focus();
		return;
	}
	
	var paramWord = $("#keyword").val();
	var paramPgNm = $("#currentPage").val();
	
	$("#paramWord").val(paramWord);
	$("#paramPgNm").val(paramPgNm);
	
	// 목록삭제
	$("#postResultList").find(">li").remove();
	// 조회 중 입니다. 잠시만 기다려주세요.
	//displayAlertMessage(true, "조회 중 입니다.<br/>잠시만 기다려주세요.");
	var options = {
		  url  : "/post/rfnCustCommonSearchAddrAjax"
		, data : $("#HiddenSrchAtForm").serializeJson()
		, done : function(args){
			try {
				if(args != null && args.vo.length != 0) {
					var param1 = args.vo.reCode;
					var param2 = JSON.stringify(eval(args.vo.retData));
					var param3 = parseInt(args.vo.totalCnt);
					var param4 = args.vo.pageLastNum;
					
					if(param1 == "0") {
						setSrchData(param1, "", param3, param4);
					} else {
						setSrchData(param1, param2, param3, param4);
					}
				} else {
					displayAlertMessage(true);
				}
			} catch (e) {
				
			}
		}
	};
	ajax.call(options);
}

/**
 * 수지원넷검색엔진 버튼 클릭이벤트
 */
function btnSearchEngin(){
	jQuery("#currentPage").val("1");
	btnDoroSearch();
}

/**
 * 수지원넷검색엔진 조회 엔터이벤트
 */
function enterSearch() {
	var evt_code = (window.netscape) ? ev.which : event.keyCode;
	if (evt_code == 13) {    
		event.keyCode = 0;  
		jQuery("#currentPage").val("1");
		$("#btnSearch").focus();
	} 
}

/**
 * 수지원넷검색엔진 조회 후 분기처리
 */
function setSrchData(resultCode, data, totalCount,lastPageNum){		
	if( resultCode == '0' ){
		//행자부API조회
		makeMoiLog();
	} else {	
		var pageNum = $("#currentPage").val();
		makeList(data, totalCount);
		
		if( totalCount < 1000 ){ 
			pageMake(lastPageNum, pageNum);
 		}
		
	}
}

/**
 * 수지원넷검색엔진 조회결과 리스트 생성
 */
function makeList(data, totalCnt){
	
	var htmlStr = "";
	var k = 1;
	var doroNm ="";
	var jibunNm ="";
	var zipSub = "";
	var dataList = JSON.parse(data);
	
	// 총건수가 1000개 이상이면 재입력을 요청한다.
	if( totalCnt >= 1000 ){
		//주소를 상세히 입력해 주세요.
		displayAlertMessage(true, "검색결과가 너무 많습니다<br>상세한 주소정보를 입력해주세요.");
		var alertMsg = "검색결과가 너무 많습니다<br>상세한 주소정보를 입력해주세요.".replace(/<br>/gi,"\n");
		alert(alertMsg);
		$("#keyword").focus();
		return;
	} else {
		
		if(dataList.length > 0){
			
			displayAlertMessage(false);
			
			//리스트화면 및 페이징처리 화면노출
			for(var i=0; i <dataList.length; i++){
				jibunNm   = dataList[i].ADR1+" "+dataList[i].RI+" "+dataList[i].BUNJI+" "+dataList[i].BLD;
				doroNm    = dataList[i].NADR1+" "+dataList[i].NADR3+" "+dataList[i].BLD;
				jibunAddr = dataList[i].ADR1+" "+dataList[i].RI;	
				jubunAddrDetail = dataList[i].BUNJI;
				doroAddr  = dataList[i].NADR1;
				doroAddrDetail = dataList[i].NADR3;
				bdlNm     = dataList[i].BLD;
				
				htmlStr += "<li>";                                                            												
				htmlStr += "	<div class='radio only'>";                                                     				
				htmlStr += "		<input type='radio' id='post_"+k+"' name='post' zip_no='"+dataList[i].ZIP+"' zip_nos='"+dataList[i].ZIPSEQJ+"' jibun_addr='"+jibunNm+"' road_addr='"+doroNm+"' bjc='"+dataList[i].BJC+"' nnmr='"+dataList[i].NNMR+"' nnmb='"+dataList[i].NNMB+"' jibun_addr1='"+jibunAddr+"' jibun_addrDetail='"+jubunAddrDetail+"' doro_addr1='"+doroAddr+"' doro_addrDeatil='"+doroAddrDetail+"' bld_Nm='"+bdlNm+"' onclick='selectPost(this);'>";
				htmlStr += "		<label for='post_"+k+"'>우편번호 선택</label>";
				htmlStr += "	</div>";
				htmlStr += "	<div class='num'>"+dataList[i].ZIP+"</div>";
				htmlStr += "	<div class='info'>";
				htmlStr += "		<span class='txt'><span class='flag'>도로명</span>"+doroNm+"</span>";
				htmlStr += "		<span class='txt'><span class='flag'>지번</span>"+jibunNm+"</span>";
				htmlStr += "	</div>";
				htmlStr += "</li>";
				
				k++;
			}
			
			
			
			//결과생성
			$("#postResultList").append(htmlStr);
		} else {
			//리스트화면 및 페이징처리 화면노출
			//displayAlertMessage(true);
			//읍면동검색
			btnDongSearch();
		}
	}
	// 스크롤 Refresh();
	designScroll();
}

/**
 * 수지원넷검색엔진 페이지 처리.
 */
function pageMake(lastPageNum, pageNum){	
	
	var paggingStr = "";
	
	paggingStr += "<div class='paging' id='pageApi'>";
	paggingStr += "<a href='javascript:goPage(1);' class='btnPaging btnFirst'>first</a>";
	paggingStr += "<a href='javascript:goPrevPage("+pageNum+")' class='btnPaging btnPrev'>prev</a>";
	paggingStr += "<div class='number'>";

	for( i=1; i<=lastPageNum; i++ ){
		if( pageNum == i ){
			paggingStr += "<a href='javascript:goPage("+i+");' class='on'>" + i + "</a>";
		}else{
			paggingStr += "<a href='javascript:goPage("+i+");'>" + i + "</a>";
		}
	}
	
	paggingStr += "	</div>";
	paggingStr += "	<a href='javascript:goNextPage("+lastPageNum+")' class='btnPaging btnNext'>next</a>";
	paggingStr += "	<a href='javascript:goPage("+lastPageNum+");' class='btnPaging btnLast'>last</a>";
	paggingStr += "</div>";
			
	$("#pageApi").html(paggingStr);
}

/**
 * 페이지 이동
 */
function goPage(_curPage){
	if($("#currentPage").val() == _curPage) return;
	$("#currentPage").val(_curPage);
	btnDoroSearch();
}

/**
 * 이전페이지이동
 */
function goPrevPage(_curPage) {
	if(_curPage > 1) {
		$("#currentPage").val(parseInt(_curPage) - 1 );
		btnDoroSearch();
	}
}

/**
 * 다음페이지이동
 */
function goNextPage(_lastPage) {
	var currentPage = $("#currentPage").val();
	if(currentPage < _lastPage) {
		$("#currentPage").val(parseInt(currentPage) + 1 );
		btnDoroSearch();
	}
}

/**
 * 우편번호 리스트 선택 후 셋팅 및 상세정보입력 이벤트.
 */
function selectPost(_object) {
	$("#addrZip").val( $(_object).attr("zip_no") );					//moi 우편번호 , suji 우편번호
	$("#addrZipS").val( $(_object).attr("zip_nos") );				//suji 우편일련번호
	$("#addr").val( $(_object).attr("road_addr") );					//moi 도로명풀주소 , suji 도로명풀주소
	$("#ji_addr").val( $(_object).attr("jibun_addr") );				//moi 지번풀주소 , suji 지번풀주소
	$("#bjc").val($(_object).attr("bjc"));							//moi 법정동코드 , suji 법정동코드
	$("#nnmr").val($(_object).attr("nnmr"));						//moi 도로명코드, suji 도로명코드
	$("#nnmb").val($(_object).attr("nnmb"));						//moi 건물관리번호, suji 건물관리번호
	$("#jibunAddr1").val($(_object).attr("jibun_addr1"));			//suji 지번+리
	$("#jibunAddrDeatil").val($(_object).attr("jibun_addrDetail"));	//suji 지번번지
	$("#doroAddr1").val($(_object).attr("doro_addr1"));				//suji 도로명
	$("#doroAddrDeatil").val($(_object).attr("doro_addrDeatil"));	//suji 도로명번지
	$("#bldNm").val($(_object).attr("bld_Nm"));						//moi 건물명, suji 건물명
	
	//화면노출주소변수 추가
	var dispaddr = getNodeValue($(_object).attr("road_addr")) == "" ? $(_object).attr("jibun_addr") : $(_object).attr("road_addr");
	
	//[SR2303-02858(회원배송지정보오류수정)]우편번호 선택시 기본주소에 도로명 추가
	dispaddr += getNodeValue($(_object).attr("bdNm")) == "" ? "" : " " + $(_object).attr("bdNm");
	
	$("#dispaddr").val(dispaddr);
	
	//상세 입력주소...
	$("#addrDtl").val("");																		
	$("#addrDtl").focus();
}

/**
 * 행자부 api 조회 전 로그생성
 */
function makeMoiLog() {
	var options = {
		  url  : "/post/insertPostSearchLogAjax"
		, data : { kwd:$("#keyword").val(), srchGbCd:"20" }
		, done : function(args){
			//행자부API조회
			makeErrorList();
		}
	};
	ajax.call(options);
}

/**
 * 수지원넷검색엔진 조회실패시, 행자부 api 조회.
 */
function makeErrorList(){
	// 조회 중 입니다. 잠시만 기다려주세요.
	//displayAlertMessage(true, "조회 중 입니다.<br/>잠시만 기다려주세요.");
	$.ajax({
		 url :"https://www.juso.go.kr/addrlink/addrLinkApiJsonp.do"  //인터넷망
		,type:"post"
		,data:$("#searchFrm").serialize()
		,dataType:"jsonp"
		,crossDomain:true
		,success:function(xmlStr){
			if( navigator.appName.indexOf("Microsoft") > -1 ) {
				var xmlData = new ActiveXObject("Microsoft.XMLDOM");
				xmlData.loadXML(xmlStr.returnXml)
			}else{
				var xmlData = xmlStr.returnXml;
			}
			
			var errCode = $(xmlData).find("errorCode").text();
			var errDesc = $(xmlData).find("errorMessage").text();		
			if(errCode != "0"){
				//읍면동검색
				btnDongSearch();
			}else{
				if(xmlStr != null){
					makeListMoi(xmlData);
					
					pageMakeMoi(xmlData);
					 
				}
			}
		}
	    ,error: function(xhr,status, error){
	    	//처리중 에러가 발생하였습니다.
	    	alert("처리중 에러가 발생하였습니다.");
	    }
	});
}

/**
 * 행자부API조회 리스트생성
 */
function makeListMoi(data){
	var htmlStr = "";
	var i = 1;
	var totalCnt = $(data).find("totalCount").text();
	if( totalCnt == '0' ){
		// 검색결과가 없습니다.
		// 읍면동 API 조회
		btnDongSearch();
		return;
	} else {
		
		//리스트화면 및 페이징처리 화면노출
		displayAlertMessage(false);
		
		$(data).find("juso").each(function(){
			htmlStr += "<li>";                                                            												
			htmlStr += "	<div class='radio only'>";                                                     				
			
			////[SR2303-02858(회원배송지정보오류수정)]우편번호 선택시 기본주소에 도로명 추가
			//htmlStr += "		<input type='radio' id='post_"+i+"' name='post' zip_no='"+$(this).find('zipNo').text()+"' jibun_addr='"+$(this).find('jibunAddr').text()+"' road_addr='"+$(this).find('roadAddrPart1').text()+"' bld_Nm='"+$(this).find('detBdNmList').text()+"' nnmb='"+$(this).find('bdMgtSn').text()+"' bjc='"+$(this).find('admCd').text()+"' nnmr='"+$(this).find('rnMgtSn').text()+"' onclick='selectPost(this);'>";
			htmlStr += " 		<input type='radio' id='post_"+i+"' name='post' zip_no='"+$(this).find('zipNo').text()+"' jibun_addr='"+$(this).find('jibunAddr').text()+"' road_addr='"+$(this).find('roadAddrPart1').text()+"' bld_Nm='"+$(this).find('detBdNmList').text()+"' nnmb='"+$(this).find('bdMgtSn').text()+"' bjc='"+$(this).find('admCd').text()+"' bdNm='"+$(this).find('bdNm').text()+"' nnmr='"+$(this).find('rnMgtSn').text()+"' onclick='selectPost(this);'>";
			
			htmlStr += "		<label for='post_"+i+"'>우편번호 선택</label>";
			htmlStr += "	</div>";
			htmlStr += "	<div class='num'>"+$(this).find('zipNo').text()+"</div>";
			htmlStr += "	<div class='info'>";
			htmlStr += "		<span class='txt'><span class='flag'>도로명</span>"+$(this).find('roadAddr').text()+"</span>";
			htmlStr += "		<span class='txt'><span class='flag'>지번</span>"+$(this).find('jibunAddr').text()+"</span>";
			htmlStr += "	</div>";
			htmlStr += "</li>";
			i++;
		});
		
		
		$("#postResultList").append(htmlStr);
	}
	
	// 스크롤 Refresh();
	designScroll();
}


/**
 * 행자부 리스트 페이징처리
 */
function pageMakeMoi(xmlStr){
	
	var total = $(xmlStr).find("totalCount").text(); // 총건수
	total = Number(total);
	var pageNum = $("#searchFrm input[name=currentPage]").val()// 현재페이지
	pageNum = Number(pageNum);
	var paggingStr = "";
	if(total < 1){
		return;
	}else{
		var PAGEBLOCK="10";
		PAGEBLOCK = Number(PAGEBLOCK);
		var pageSize=$("#searchFrm input[name=countPerPage]").val();
		pageSize = Number(pageSize);
		var totalPages = Math.floor((total-1)/pageSize) + 1;
		tatalPages = Number(totalPages);
		var firstPage = Math.floor((pageNum-1)/PAGEBLOCK) * PAGEBLOCK + 1;
		firstPage = Number(firstPage);
		if( firstPage <= 0 ) firstPage = 1;
		firstPage = Number(firstPage);
		var lastPage = firstPage-1 + PAGEBLOCK;
		lastPage = Number(lastPage);
		if( lastPage > totalPages ) lastPage = totalPages;		
		var nextPage = lastPage+1 ;
		lastPage = Number(lastPage);
		var prePage = firstPage-1 ;	
		prePage = Number(prePage);

		// 페이징처리 
		paggingStr += "<div class='paging' id='pageApi'>";
		paggingStr += "<a href='javascript:goPage(1);' class='btnPaging btnFirst'>first</a>";
		paggingStr += "<a href='javascript:goPrevPage("+pageNum+")' class='btnPaging btnPrev'>prev</a>";
		paggingStr += "<div class='number'>";

		for( i=1; i<=lastPage; i++ ){
			if( pageNum == i ){
				paggingStr += "<a href='javascript:goPage("+i+");' class='on'>" + i + "</a>";
			}else{
				paggingStr += "<a href='javascript:goPage("+i+");'>" + i + "</a>";
			}
		}
		
		paggingStr += "	</div>";
		paggingStr += "	<a href='javascript:goNextPage("+lastPage+")' class='btnPaging btnNext'>next</a>";
		paggingStr += "	<a href='javascript:goPage("+lastPage+");' class='btnPaging btnLast'>last</a>";
		paggingStr += "</div>";
				
		$("#pageApi").html(paggingStr);
	}
}

/**
 * 읍면동검색 버튼 이벤트.
 */
function btnDongSearch(){
	
	if( $("#keyword").val() == "" ){
		//검색어를 입력해주세요.
		alert("검색어를 입력해주세요.");
		$("#keyword").focus();
		return;
	}
	
	var currentPage = $("#currentPage").val() == "" || $("#currentPage").val() == undefined ? 1 : $("#currentPage").val();
	var options = {
		  url  : "/post/pageTyIntAddressZipListAjax"
		, data : { psvDong:$("#keyword").val(), rows:"100", page:currentPage }
		, done : function(args){
			makeListDongSearch(args.vo, args.totalCnt);
		}
	};
	ajax.call(options);
}

/**
 * 읍면동 리스트생성
 */
function makeListDongSearch(data, totalCnt){
	var htmlStr = "";
	var k = 1;
	var doroNm ="";
	var jibunNm ="";
	var zipSub = "";
	var dataList = data;
	
	if( totalCnt >= 1000 ){
		//주소를 상세히 입력해 주세요.
		displayAlertMessage(true, "검색결과가 너무 많습니다<br>상세한 주소정보를 입력해주세요.");
		alert("검색결과가 너무 많습니다<br>상세한 주소정보를 입력해주세요.");
		$("#keyword").focus();
		return;
	} else {
		
		if(dataList.length > 0){
			
			//리스트화면 및 페이징처리 화면노출
			displayAlertMessage(false);
			
			for(var i=0; i <dataList.length; i++){
				zipNoSub  = dataList[i].zip.substring(0,5);
				jibunAddr = getNodeValue(dataList[i].addr1) + " " + getNodeValue(dataList[i].addr2) + " " + getNodeValue(dataList[i].addr3);
				jibunAddrDetail = getNodeValue(dataList[i].addr4) + "&nbsp;" + getNodeValue(dataList[i].addr5);
				
				htmlStr += "<li>";                                                            												
				htmlStr += "	<div class='radio only'>";                                                     				
				htmlStr += "		<input type='radio' id='post_"+k+"' name='post' zip_no='"+dataList[i].zip+"' jibun_addr='"+jibunAddr+"' jibun_detail='"+dataList[i].addr4+"' bjc='"+dataList[i].bjc+"' onclick='selectPost(this);'>";
				htmlStr += "		<label for='post_"+k+"'>우편번호 선택</label>";
				htmlStr += "	</div>";
				htmlStr += "	<div class='num'>"+zipNoSub+"</div>";
				htmlStr += "	<div class='info'>";
				htmlStr += "		<span class='txt'><span class='flag'>도로명</span>"+jibunAddrDetail+"</span>";
				htmlStr += "		<span class='txt'><span class='flag'>지번</span>"+jibunAddr+"</span>";
				htmlStr += "	</div>";
				htmlStr += "</li>";
				
				k++;
			}
			
			$("#postResultList").append(htmlStr);
			
			//페이징생성
			pageMakeDongSearch(totalCnt);
			
		}else {
			//리스트화면 및 페이징화면숨기기
			displayAlertMessage(true);
		}
	}
	// 스크롤 Refresh();
	designScroll();
}

/**
 * 읍면동검색 페이지처리  
 */
function pageMakeDongSearch(totalCount){
	
	var total = totalCount == "" || totalCount == 'undefined' ? 0 : parseInt(totalCount); // 총건수
	total = Number(total);
	var pageNum = $("#searchFrm input[name=currentPage]").val();// 현재페이지
	pageNum = Number(pageNum);
	var paggingStr = "";
	if(total < 1){
		return;
	}else{
		var PAGEBLOCK='10';
		PAGEBLOCK = Number(PAGEBLOCK);
		var pageSize=$("#searchFrm input[name=countPerPage]").val();
		pageSize = Number(pageSize);
		var totalPages = Math.floor((total-1)/pageSize) + 1;
		tatalPages = Number(totalPages);
		var firstPage = Math.floor((pageNum-1)/PAGEBLOCK) * PAGEBLOCK + 1;
		firstPage = Number(firstPage);
		if( firstPage <= 0 ) firstPage = 1;
		firstPage = Number(firstPage);
		var lastPage = firstPage-1 + PAGEBLOCK;
		lastPage = Number(lastPage);
		if( lastPage > totalPages ) lastPage = totalPages;		
		var nextPage = lastPage+1 ;
		lastPage = Number(lastPage);
		var prePage = firstPage-1 ;	
		prePage = Number(prePage);

		// 페이징처리 
		paggingStr += "<div class='paging' id='pageApi'>";
		paggingStr += "<a href='javascript:goPage(1);' class='btnPaging btnFirst'>first</a>";
		paggingStr += "<a href='javascript:goPrevPage("+pageNum+")' class='btnPaging btnPrev'>prev</a>";
		paggingStr += "<div class='number'>";

		for( i=1; i<=lastPage; i++ ){
			if( pageNum == i ){
				paggingStr += "<a href='javascript:goPage("+i+");' class='on'>" + i + "</a>";
			}else{
				paggingStr += "<a href='javascript:goPage("+i+");'>" + i + "</a>";
			}
		}
		
		paggingStr += "	</div>";
		paggingStr += "	<a href='javascript:goNextPage("+lastPage+")' class='btnPaging btnNext'>next</a>";
		paggingStr += "	<a href='javascript:goPage("+lastPage+");' class='btnPaging btnLast'>last</a>";
		paggingStr += "</div>";
				
		$("#pageApi").html(paggingStr);
	}
}

/**
 * 확인 엔터키 적용.
 */
function enterReturnSearch() {
	var evt_code = (window.netscape) ? ev.which : event.keyCode;
	if (evt_code == 13) {    
		event.keyCode = 0;  
		btnSearchAddrEngin(); 
	} 
}

/**
 * 확인 버튼클릭 이벤트
 */
function btnSearchAddrEngin(){
	btnSearchAddr();
}


function checkUnInstallArea(zipCode){
	var options = {
		url : "/order/checkUnInstallArea",
		data : { "zipCode"  : zipCode },
		async: false,
		done : function(data){ 
				if(data.data == 'N'){  
					$("#checkUnInstallArea").val("N");
 				}else{
					$("#checkUnInstallArea").val("Y");
				}
			}
	};
	ajax.call(options);
}

/**
 * 확인 버튼 이벤트
 */
function btnSearchAddr(){
	if($("#addrZip").val() == ""){
		//주소를 선택해주세요.
		alert("주소를 선택해 주세요.");
		return false;
	}
	if($("#addrDtl").val() == ""){
		//상세주소를 입력해주세요.
		alert("상세주소를 입력해 주세요.");
		return false;
	}
	
	var paramZip = $("#addrZip").val();
	var paramZipS = $("#addrZipS").val();
	var paramDoroNm = $("#addr").val();
	var paramJibunNm = getNodeValue($("#ji_addr").val());
	var paramDoroNmDetail = $("#addrDtl").val();
	var paramBjc = $("#bjc").val();
	var paramNnmr = $("#nnmr").val();
	var paramNnmb = $("#nnmb").val();
	var paramDongBJC = $("#dongBJC").val();
	var paramjibunAddr1 = $("#jibunAddr1").val();
	var paramjibunAddrDeatil = $("#jibunAddrDeatil").val();
	var paramdoroAddr1 = $("#doroAddr1").val();
	var paramdoroAddrDeatil = $("#doroAddrDeatil").val();
	var parambldNm = $("#bldNm").val();

	checkUnInstallArea(paramZip);
	if($("#checkUnInstallArea").val()=="N"){
		alert("선택하신 주소지는 설치불가지역으로 주문이 어렵습니다.\n불편을 드려 죄송합니다. 더 좋은 제품과 서비스로 보답드리겠습니다.");
		return false;
	}

	if(paramDoroNmDetail.indexOf("#") != -1 || paramDoroNmDetail.indexOf(",") != -1 || paramDoroNmDetail.indexOf("&") != -1){
		alert("특수문자는 #,콤마(,),& 를 입력하실 수 없습니다.");
		$("#addrDtl").val("");
		$("#addrDtl").focus();
		return false;
	}
	
	$("#HiddenAtForm input[name=paramZip]").val(paramZip);
	$("#HiddenAtForm input[name=paramZipS]").val(paramZipS);
	$("#HiddenAtForm input[name=paramDoroNm]").val(paramDoroNm);
	$("#HiddenAtForm input[name=paramDoroNmDetail]").val(paramDoroNmDetail);
	$("#HiddenAtForm input[name=paramJibunNm]").val(paramJibunNm);
	$("#HiddenAtForm input[name=paramBjc]").val(paramBjc);
	$("#HiddenAtForm input[name=paramNnmr]").val(paramNnmr);
	$("#HiddenAtForm input[name=paramNnmb]").val(paramNnmb);
	$("#HiddenAtForm input[name=paramDongBJC]").val(paramDongBJC);
	$("#HiddenAtForm input[name=paramjibunAddr1]").val(paramjibunAddr1);
	$("#HiddenAtForm input[name=paramjibunAddrDeatil]").val(paramjibunAddrDeatil);
	$("#HiddenAtForm input[name=paramdoroAddr1]").val(paramdoroAddr1);
	$("#HiddenAtForm input[name=paramdoroAddrDeatil]").val(paramdoroAddrDeatil);
	$("#HiddenAtForm input[name=parambldNm]").val(parambldNm);
	
	var options = {
		  url  : "/post/rrfnCustCommonAddrListAjax"
		, data :  $("#HiddenAtForm").serializeJson()
		, done : function(args){
			try {
				btnSearchAddrCallback(args);
			}catch(e) {
				//최신 주소가 업데이트 되지 않았습니다.<br/>다시 검색하세요.
				displayAlertMessage(true, "최신 주소가 업데이트 되지 않았습니다.<br/>다시 검색하세요.");
				$("#keyword").focus();
			}
		}
	};
	ajax.call(options);
}

/**
 * [수지원넷]주소정제인스턴스 조회 후 처리
 */
function btnSearchAddrCallback(args) {
	var zprn    = getNodeValue(args.vo.paramZPRN)+""+ getNodeValue(args.vo.paramZPRNSJB);	//우편번호+우편일련번호
	var zprnsjb = args.vo.paramZPRNSJB;					//우편일련번호
	var addrb   = getNodeValue(args.vo.paramADDRB);		//구주소
	var bkft 	= getNodeValue(args.vo.paramBKFT); 		//구주소 번지
	var nadr 	= getNodeValue(args.vo.paramNADR1);		//신주소
	var nbka 	= getNodeValue(args.vo.paramNBKA); 		//신주소 번지
	var nabldNm = args.vo.paramDTLBLD; 					//건물명
	var doroCode= getNodeValue(args.vo.paramNNMR);		//법정동코드
	var nnmb 	= getNodeValue(args.vo.paramNNMB);		//건물관리번호
	var nadr3s 	= args.vo.paramNADR3S;					//도로명상세
	var pzprn 	= getNodeValue(args.vo.paramZPRN); 		//우편번호

	if(nabldNm == "" || nabldNm == null){
		nabldNm = "";
	}else{
		//건물명 , # & 값 replace하기..
		nabldNm = nabldNm.replace(/&/gi, "n");
		nabldNm = nabldNm.replace(/,/gi, ".");
		nabldNm = nabldNm.replace(/#/gi, ".");
	}

	if( nadr3s == "" || nadr3s == null ) {
		nadr3s = ".";
	} else {
		//상세주소 , # & 값 replace하기..
		nadr3s = nadr3s.replace(/&/gi, "n");
		nadr3s = nadr3s.replace(/,/gi, ".");
		nadr3s = nadr3s.replace(/#/gi, ".");
	}
	
	searchTyIntAddressBdcode(args.vo);
	/*
	2020.11.09 렌탈은 우편일련번호 zprnsjb 가 없고 GISX/GISY(위도, 경도)가 없을때 건물관리번호를 통한 주소정보검색(searchTyIntAddressBdcode)을 실행한다
	매직은 우편일련번호와 상관없이 주소정보검색을 실행한다
	
	if( zprnsjb == "" || zprnsjb == null ) {
		if(GISX == "" || GISX == null ||GISY == "" || GISY == null){ //ksa 좌표는 읍면동 상세주소 검증시 필요. 도로명은 거의다 있다고 함.
			//건물관리번호를 통한 주소정보검색
			searchTyIntAddressBdcode(args.vo);
		}
		else{
			setData(zprn, addrb, bkft, nadr, nbka, nabldNm, doroCode, nnmb, nadr3s);
		}
	} else {
		//성공
		setData(zprn, addrb, bkft, nadr, nbka, nabldNm, doroCode, nnmb, nadr3s);
	}
	*/
}

/**
 * 건물관리번호를 통한 주소정보검색
 */
function searchTyIntAddressBdcode(defaultData) {
	var options = {
		  url  : "/post/getTyIntAddressBdcodeAjax"
		, data :  { psvBdcode : defaultData.paramNNMB }
		, done : function(args){
			try {
				searchTyIntAddressBdcodeCallback(args, defaultData);
			}catch(e) {
				//최신 주소가 업데이트 되지 않았습니다.<br/>다시 검색하세요.
				displayAlertMessage(true, "최신 주소가 업데이트 되지 않았습니다.<br/>다시 검색하세요.");
				$("#keyword").focus();
			}
		}
	};
	ajax.call(options);
}

/**
 * 건물관리번호를 통한 주소정보검색 callback
 */
function searchTyIntAddressBdcodeCallback(args, defaultData) {

	if(args == null || args == undefined || args.vo == null || args.vo == undefined) {
		//최신 주소가 업데이트 되지 않았습니다.<br/>다시 검색하세요.
		displayAlertMessage(true, "최신 주소가 업데이트 되지 않았습니다.<br/>다시 검색하세요.");
		$("#keyword").focus();
		return;
	}
	
	var total2 	  = args.vo.length;
	var zprn2 	  = "";	//우편번호+우편일련번호
	var zprnsjb2  = "";	//우편일련번호
	var addrb2 	  = "";	//구주소
	var bkft2 	  = ""; //구주소 번지
	var nadr2	  = "";	//신주소
	var nbka2 	  = ""; //신주소 번지
	var nabldNm2  = ""; //건물명
	var doroCode2 = "";	//법정동코드
	var nnmb2 	  = "";	//건물관리번호
	var nadr3s2   = "";	//도로명상세
	
	if( total2 == 0 ){
		displayAlertMessage(true, "고객님의 보다 정확한 주소 검색을 위해 구주소(읍,면,동)로 입력하여 주세요.");
		alert('고객님의 보다 정확한 주소 검색을 위해 구주소(읍,면,동)로 입력하여 주세요.');
		$("#keyword").val('');
		$("#addrZip").val('');
		$("#dispaddr").val('');
		$("#addrDtl").val('');
		$("#keyword").focus();
		return;			
		//주소 검색이 되지 않았습니다. \n 그래도 사용하시겠습니까?
		/*
		if (confirm('주소 검색이 되지 않았습니다.\n그래도 사용하시겠습니까?')) {
			searchTyIntAddressZipFailList(defaultData);
		}
		*/
	} else {
		
		for( var i=0; i<total2; i++ ){
			//건물명 , # & 값 replace하기..
			//상세주소 , # & 값 replace하기..	
			zprn2    = args.vo[i].svcZip;
			addrb2   = args.vo[i].address;
			bkft2    = args.vo[i].oldBunji;
			nadr2    = args.vo[i].newAddress;
			nbka2    = args.vo[i].newBunji;
			nabldNm2 = args.vo[i].bdName;
			if(nabldNm2 == "" || nabldNm2 == null){
				if(defaultData.paramDTLBLD != "" && defaultData.paramDTLBLD != null){
					if(defaultData.paramDTLBLD.indexOf(",") < 0){
						nabldNm2 = defaultData.paramDTLBLD;	
					}
				}
				else{
					nabldNm2 = "";
				}
			} else {
				nabldNm2 = nabldNm2.replace(/&/gi, "n");
				nabldNm2 = nabldNm2.replace(/,/gi, ".");
				nabldNm2 = nabldNm2.replace(/#/gi, ".");
			}

			doroCode2 = args.vo[i].lawCode;
			nnmb2    = args.vo[i].bdCode;
			nadr3s2  = defaultData.paramNADR3S;
			if(nadr3s2 != "" && nadr3s2 != null) {
				nadr3s2  = nadr3s2.replace(/&/gi, "n");
				nadr3s2  = nadr3s2.replace(/,/gi, ".");
				nadr3s2  = nadr3s2.replace(/#/gi, ".");
			}
		}
		setData(zprn2, addrb2,bkft2,nadr2,nbka2,nabldNm2,doroCode2,nnmb2,nadr3s2);
	}
}

/**
 * 우편번호 및 법정동코드 통한 주소정보검색
 */
function searchTyIntAddressZipFailList(defaultData) {
	var options = {
		  url  : "/post/getTyIntAddressZipFailListAjax"
		, data :  { psvZip:defaultData.paramZPRN, psvBjc:defaultData.paramNNMR }
		, done : function(args){
			try {
				searchgTyIntAddressZipFailListCallback(args, defaultData);
			}catch(e) {
				//최신 주소가 업데이트 되지 않았습니다.<br/>다시 검색하세요.
				displayAlertMessage(true, "최신 주소가 업데이트 되지 않았습니다.<br/>다시 검색하세요.");
				$("#keyword").focus();
			}
		}
	};
	ajax.call(options);
}

/**
 * 우편번호 및 법정동코드 통한 주소정보조회 callback
 */
function searchgTyIntAddressZipFailListCallback(args, defaultData) {
	var total = args.vo.length;
	var zprn1 = "";						//우편번호+우편일련번호

	for( var i=0; i<total; i++ ){
		zprn1 = args.vo[i].zip;
	}
	if(zprn1 == "" || zprn1 == null){
		//우편일련번호가 없습니다. 다시 검색해주세요.
		displayAlertMessage(true, "우편일련번호가 없습니다. 다시 검색해주세요.");
		return;
	}else{
		var addrb1 = defaultData.paramADDRB;		//구주소
		var bkft1 = defaultData.paramBKFT; 			//구주소 번지
		var nadr1 = defaultData.paramNADR1;			//신주소
		var nbka1 = defaultData.paramNBKA; 			//신주소 번지
		var nabldNm1 = defaultData.paramDTLBLD; 	//건물명
		var doroCode1 = defaultData.paramNNMR;		//법정동코드
		var nnmb1 = defaultData.paramNNMB;			//건물관리번호
		var nadr3s1 = defaultData.paramNADR3S;		//도로명상세

		if(nabldNm1 == "" || nabldNm1 == null){
			nabldNm1 = "";
		}else{
			//건물명 , # & 값 replace하기..
			nabldNm1 = nabldNm1.replace(/&/gi, "n");
			nabldNm1 = nabldNm1.replace(/,/gi, ".");
			nabldNm1 = nabldNm1.replace(/#/gi, ".");
		}

		if(nadr3s1 == "" || nadr3s1 == null){
			nadr3s1 = ".";
		}else{
			//상세주소 , # & 값 replace하기..
			nadr3s1 = nadr3s1.replace(/&/gi, "n");
			nadr3s1 = nadr3s1.replace(/,/gi, ".");
			nadr3s1 = nadr3s1.replace(/#/gi, ".");
		}

		if(nnmb1 == "" || nnmb1 == null){
			nnmb1 = "9999999999999999999999999";
		}

		setData(zprn1, addrb1,bkft1,nadr1,nbka1,nabldNm1,doroCode1,nnmb1,nadr3s1);
	}	
}

/**
 * 확인 후 부모창 처리 데이터 셋팅
 */
function setData(param1,param2,param3,param4,param5,param6,param7,param8,param9) {		
	var result = new Object();
	result.param1 	= param1;	//우편번호+우편일련번호
	result.param2 	= param2;	//구주소
	result.param3 	= param3;	//구주소 번지
	result.param4 	= param4;	//신주소
	result.param5 	= param5;	//신주소 번지
	result.param6 	= param6;	//건물명
	result.param7 	= param7;	//법정동코드
	result.param8 	= param8;	//건물관리번호
	result.param9 	= param9;	//도로명상세
	
	//우편번호를 통한 관할부서정보 조회
	searchTyIntAddressZipDeptList(result);
}

/**
 * 우편번호를 통한 관할부서정보조회
 */
function searchTyIntAddressZipDeptList(result) {
	var options = {
		  url  : "/post/getTyIntAddressZipDeptListAjax"
		, data : { psvZip:result.param1 }
		, done : function(args){
			try {
				searchTyIntAddressZipDeptListCallback(args, result);
			} catch(e) {
				//최신 주소가 업데이트 되지 않았습니다.<br/>다시 검색하세요.
				displayAlertMessage(true, "최신 주소가 업데이트 되지 않았습니다.<br/>다시 검색하세요.");
				$("#keyword").focus();
			}
		}
	};
	ajax.call(options);
}

/**
 * 우편번호를 통한 관할부서정보조회 callback
 */
function searchTyIntAddressZipDeptListCallback(args, result) {
	var _deptCd = "";
	var _instDept = ""; //설치센터
	if(args != null && args != undefined && args.vo != null && args.vo.length > 0) {
		_deptCd = args.vo[0].deptCd;
		_instDept = args.vo[0].instDept;
	}
	
	result.deptCd = _deptCd;
	result.instDept = _instDept;
	postConfirmCallback(result);
}

/**
 * 부모창 결과값 반환
 */
function postConfirmCallback(result) {
	/* 
	result.param1 	= param1;	//우편번호+우편일련번호
	result.param2 	= param2;	//구주소
	result.param3 	= param3;	//구주소 번지
	result.param4 	= param4;	//신주소
	result.param5 	= param5;	//신주소 번지
	result.param6 	= param6;	//건물명
	result.param7 	= param7;	//법정동코드
	result.param8 	= param8;	//건물관리번호
	result.param9 	= param9;	//도로명상세
	 */
	var returnData = new Object();
	/* DB저장필드 START ************/
	returnData.postNo 	= result.param1;					//우편번호+우편일련번호
	returnData.addr 	= result.param2;					//구주소
	returnData.addrPrt 	= result.param3;					//구주소 번지
	// 접수번호 :276 상세주소 처리 khs
	var detailAddress = getNodeValue(result.param9) == "" ?  $("#addrDtl").val() : result.param9;

	returnData.addrDtl 	= getNodeValue(result.param6)=="" ? detailAddress : result.param6+" "+ detailAddress;	//주소건물명 + 상세주소
	returnData.bdCode 	= result.param8;					//코드건물관리번호
	returnData.bdName 	= result.param6;					//주소건물명
	returnData.roadAddrDtl = detailAddress;					//상세주소
	
	/* DB저장필드 E N D ************/
	
	/* display필드 START ************/
	var dispPostNo = result.param1;
	var dispAddr   = "";
	if(result.param4 != null && result.param4 != "") {
		//신주소(신주소 + 신주소번지 + 건물명)
		dispAddr = result.param4 + " " + result.param5 + " " + result.param6;		
	} else {
		//구주소(구주소 + 구주소번지 + 건물명)
		dispAddr = result.param2 + " " + result.param3 + " " + result.param6;
	}
	//var dispAddrDtl = result.param9;	//상세주소
	returnData.dispPostNo = dispPostNo;		// 우편주소
	returnData.dispAddr = dispAddr;			// 주소
	returnData.dispAddrDtl = detailAddress;	//상세주소
	/* display필드 E N D ************/
	
	if(result.instDept != null && result.instDept != "") {
		returnData.instDept = result.instDept;                  //설치센터
	}
	//우편일련번호는 반드시 존재해야한다.
	if( returnData.postNo != "undefined" && returnData.postNo !=null && returnData.postNo !="" ) {
		//오픈팝업 콜백함수명 가져오기
		var _callbackFncName = $("#layPostSearch").attr("_callbackfunctionName");
		//오픈팝업 콜백함수실행
		gfnCallCallbackFn(_callbackFncName, returnData);
	}
	
	// 팝업창닫기
	gfnPopupClose('layPostSearch');	
}

/**
 * 메세지 출력
 */
function displayAlertMessage(_boolean, _message) {
	if(_boolean) {
		if(_message == null || _message == 'undefined') {
			//검색 결과가 없습니다.
			_message = "검색 결과가 없습니다.<br>검색어를 다시 한번 확인해 주세요";
		}
		$("#noDataFoundMsg").html(_message);
		$("#noDataFoundMsgDiv").show();
		$("#postResultListDiv").hide();
		$("#pageApi").hide();
	} else {
		$("#noDataFoundMsgDiv").hide();
		$("#postResultListDiv").show();
		$("#pageApi").show();
	}
}

/**
 * 노드값 Null처리
 */
function getNodeValue(_node) {
	if(_node == null || _node == "undefined") return "";
	return _node;
}

/**
 * 문자길이체크
 */
function inputLengthCheck(eventInput){
	var inputText = $("#keyword").val();
	var inputMaxLength = $("#keyword").prop("maxlength");
	var j = 0;
	var count = 0;
	for( var i=0; i<inputText.length; i++ ) { 
		val = escape(inputText.charAt(i)).length; 
		if(val == 6){
			j++;
		}
		j++;
		if(j <= inputMaxLength){
			count++;
		}
	}
	if(j > inputMaxLength){
		$("#keyword").val(inputText.substr(0, count));
	}
}
</script> 

<!-- [우편번호 검색] 레이어 팝업 : s -->
<div class="layerPop" id="layPostSearch">
	<div class="dim"></div>
	<div class="layerPopArea">
		<!-- layerCont : s -->
		<div class="layerCont post">
			<h2 class="popTit">우편번호 찾기</h2>
			<p class="popTxt2">지번주소(동/읍/면/리), 도로명 또는 건물명(아파트)을 입력해주세요.</p>
			
			<form  id="searchFrm" name="searchFrm" class="postForm">
			<input type="hidden" name="currentPage" id="currentPage" value="1"/> <!-- 요청 변수 설정 (현재 페이지) -->
			<input type="hidden" name="countPerPage" value="100"/><!-- 요청 변수 설정 (페이지당 출력 개수) --> 
			<input type="hidden" name="confmKey" value="U01TX0FVVEgyMDE2MTIxMjE1MzE0NDE3Mjk1"/><!-- 요청 변수 설정 (승인키) -->
			<input type="hidden" name="lastPage" id="lastPage" value="1"/> <!-- 요청 변수 설정 (마지막페이지 페이지) -->
			
<!-- 180402 수정 -->
			<div class="postSearch">
				<span class="inputWrap">
 					<input type="text" id="keyword" name="keyword" value="" placeholder="예) 통일로 10 / 방배동 / 신정동 1276" style="width:365px;" maxlength="100" onblur="inputLengthCheck(this);" onkeydown="enterSearch();">	
  					<button type="button" class="btn bk btnLayer" id="btnSearch" onclick="btnSearchEngin();"><span>검색</span></button>
				</span>
			</div>
			</form>


			<!-- 검색결과 있는 경우 -->
			<div class="postResultWrap">
				<!-- 검색결과 없는 경우 -->
				<div class="icoMsg nothing" id="noDataFoundMsgDiv">
					<p id="noDataFoundMsg">검색 결과가 없습니다.</p>
				</div>
				<!-- //검색결과 없는 경우 -->
			
				<div class="list scrollbar" id="postResultListDiv">
					<ul class="postResultList" id="postResultList"></ul>
				</div>
				
				<!--paging : s -->
				<div class="paging" id="pageApi">
					<a href="#" class="btnPaging btnFirst">first</a>
					<a href="#" class="btnPaging btnPrev">prev</a>
					<div class="number">
						<a href="#" class="on">1</a>
					</div>
					<a href="#" class="btnPaging btnNext">next</a>
					<a href="#" class="btnPaging btnLast">last</a>
				</div>
				<!--paging : e -->
				
				<form  id="jusoSearchFrm" name="jusoSearchFrm" class="postForm">
				<input type="hidden" id="addrZipS" name="addrZipS" value="" />
				<input type="hidden" id="bjc" name="bjc" value="" />
				<input type="hidden" id="nnmr" name="nnmr" value="" />
				<input type="hidden" id="nnmb" name="nnmb" value="" />
				<input type="hidden" id="dongBJC" name="dongBJC" value="" />
				<input type="hidden" id="jibunAddr1" name="jibunAddr1" value="" />
				<input type="hidden" id="jibunAddrDeatil" name="jibunAddrDeatil" value="" />
				<input type="hidden" id="doroAddr1" name="doroAddr1" value="" />
				<input type="hidden" id="doroAddrDeatil" name="doroAddrDeatil" value="" />
				<input type="hidden" id="bldNm" name="bldNm" value="" />
				<input type="hidden" id="ji_addr" name="ji_addr" value="" /><!-- 기본주소 -->
				<input type="hidden" id="addr" name="addr" value="" /><!-- 도로명주소 -->
				 <input type="hidden" id="checkUnInstallArea" name="checkUnInstallArea" value="Y"> <!-- 설치불가능지역 체크 -->
				<div class="addrInfo">
					<p>상세주소를 모두 입력하신 후 "확인" 버튼을 눌러주세요.</p>
					<ul class="itemList form">
						<li>
							<em class="stit">기본 주소</em>
							<div class="cont">
								<span class="inputWrap">
									<input type="text" id="addrZip" name="addrZip" value="" style="width:69px;" disabled="disabled">
									<input type="text" id="dispaddr" name="dispaddr" value="" style="width:450px;" disabled="disabled">
								</span>
							</div>
						</li>
						<li>
							<em class="stit require">상세 주소</em>
							<div class="cont">
								<span class="inputWrap">
									<input type="text" value="" id="addrDtl" name="addrDtl" onkeydown="enterReturnSearch();">
								</span>
							</div>
						</li>
					</ul>
				</div>
				</form>
				
			</div>
			<!-- //검색결과 있는 경우 -->

			<div class="btnArea">
				<a href="#" class="btn btnLayerClose"><span>취소</span></a>
				<a href="javascript:btnSearchAddrEngin();" class="btn bk"><span>확인</span></a>
			</div>
		</div>
		<!-- layerCont : e -->
		<a href="#" class="btnClose02 btnLayerClose">레이어 팝업 닫기</a>
	</div>
</div>
<!-- [우편번호 검색] 레이어 팝업 : e -->

<!-- 수지원검색엔진조회 폼 -->
<form id="HiddenSrchAtForm" name="HiddenSrchAtForm" method="post" class="postForm">
	<input type="hidden" name="paramWord" id="paramWord">
	<input type="hidden" name="paramPgNm" id="paramPgNm">
</form>
<!-- 확인후 후처리폼 -->
<form name="HiddenAtForm" id="HiddenAtForm" method="post" class="postForm">
	<input type="hidden" name="paramZip">
	<input type="hidden" name="paramZipS">
	<input type="hidden" name="paramDoroNm">
	<input type="hidden" name="paramDoroNmDetail">
	<input type="hidden" name="paramJibunNm">
	<input type="hidden" name="paramBjc">
	<input type="hidden" name="paramNnmr">
	<input type="hidden" name="paramNnmb">
	<input type="hidden" name="paramDongBJC">
	<input type="hidden" name="paramjibunAddr1">
	<input type="hidden" name="paramjibunAddrDeatil">
	<input type="hidden" name="paramdoroAddr1">
	<input type="hidden" name="paramdoroAddrDeatil">
	<input type="hidden" name="parambldNm">
</form>
<!-- [방문 렌탈 상담 신청] 레이어 팝업 : e -->
<!-- [개인정보 수집 및 이용 안내] 레이어 팝업 : s -->
<div class="layerPop" id="layPrivacy01">
	<div class="dim"></div>
	<div class="layerPopArea">
		<!-- layerCont : s -->
		<div class="layerCont">
			<h2 class="popTit">개인정보 수집 및 이용 안내</h2>
			<p class="popTxt2">전화, 방문 상담을 위해서는 아래 정보 항목에 대한 동의가 필요합니다.<br>해당 정보 사용에 대한 동의를 거부할 권리가 있으나,<br>미 동의시 상담 서비스 이용이 불가능합니다.</p>

			<table class="tblCont col line">
			<caption></caption>
			<colgroup>
				<col style="width:10%;">
				<col style="width:14%;">
				<col style="width:38%;">
				<col style="width:38%;">
			</colgroup>
			<thead>
			<tr>
				<th scope="col" colspan="2">수집항목</th>
				<th scope="col">이용목적</th>
				<th scope="col">보유기간</th>
			</tr>
			</thead>
			<tbody>
			<tr>
				<td>필수</td>
				<td>이름,<br />휴대폰번호,<br />방문주소<br />(선택)</td>
				<td>
					신청자 본인 확인, 렌탈계약가입 관련 <br />
					방문상담 등 서비스 이용,<br />
					서비스 이용에 따른 민원사항 처리
				</td>
				<td style="font-size: 16px;">
					<strong>전자상거래등에서의 소비자보호에 관한<br />법률에 의거 5년간 보관 후 파기<br />
					(단, 상담신청 취소/철회 시<br />취소/철회일로부터 5년)</strong>
				</td>
			</tr>
			</tbody>
			</table>

			<div class="btnArea">
				<a href="#" class="btn bk btnLayerClose"><span>확인</span></a>
			</div>
		</div>
		<!-- layerCont : e -->
		<a href="#" class="btnClose btnLayerClose">레이어 팝업 닫기</a>
	</div>
</div>
<!-- [개인정보 수집 및 이용 안내] 레이어 팝업 : e -->

<!-- 20230111 [타사 보상 안내] 레이어 팝업 : s -->
<div class="layerPop" id="layotherCpn">
	<div class="dim"></div>
	<div class="layerPopArea select_rental">
		<!-- layerCont : s -->
		<div class="layerCont">	
			<div class="other_cpn_box">
				<div class="attention-area">						
					<p class="tit-01 mt30">
						타사 보상 혜택 안내
					</p>					
					<p class="txt-01">
						타사 제품 이용 고객 중 SK매직 제품(동일 제품군) 신규 렌탈 시,<br />
						렌탈료 3개월 면제 혜택이 제공됩니다.
					</p>
					<div class="txt-02 logoff"> <!--logoff / logon 클래스로 비로그인/로그인문구 노출 구별-->
						타사 보상은 렌탈 상담을 통해서만 신청 가능합니다.
					</div>
				</div>		
				<div class="btnArea mt10 other_cpn">
					<a href="#" class="btn bk" onclick="javascript:tradePage();return false;"><span>타사 보상 진행</span></a>
					<a href="#" class="btn red" onclick="javascript:gfnCloseLayer($('#layotherCpn'));directRental('Y','10');return false;"><span>다이렉트 렌탈</span></a>
				</div>							
			</div>			
			
		</div>
		<!-- layerCont : e -->
		<a href="#" class="btnClose03 btnLayerClose" id="btnCloseTrade">레이어 팝업 닫기</a>
	</div>
</div>
<!-- 20230111 [타사 보상 안내] 레이어 팝업 : e -->

<!-- 20221202 [가전할인플랜 이용방법 안내] 레이어 팝업 : s -->
<div class="layerPop" id="layPlanguide">
	<div class="dim"></div>
	<div class="layerPopArea new_layer_2022 rental_payment" style="margin-top: -60px;">
		<div class="layerCont">
            <div class="layer_tit">할인 적용 대상 플랜 선택 </div>
			<div class="hanaPlan_guide ">
				<img src="https://static.skmagic.com/image/editor/event/202304/1681880155889757.jpg" alt="">
				<div class="btnArea">
					<input type="hidden" id="planTpCd" name="planTpCd" value="" />
 					<a href="#" class="btn ghost" onclick="javascript:selectPlan('20');return false;">가전할인플랜</a>
					<a href="#" class="btn bk" onclick="javascript:selectPlan('10');return false;">렌탈할인플랜</a>
				</div>
			</div>
		</div>
		<a href="#" class="btnClose white btnLayerClose">레이어 팝업 닫기</a>
	</div>	
</div>
<!-- 20221202 [가전할인플랜 이용방법 안내] 레이어 팝업 : e -->

<!-- [렌탈견적서] 레이어 팝업 : s -->
<div class="layerPop" id="layRentalDocument">
	<div class="dim"></div>
	<div class="layerPopArea wMid">
		<!-- layerCont : s -->
		<div class="layerCont buyDoc">
			<h2 class="popTit">렌탈견적서</h2>
			<table class="tblCont">
			<caption></caption>
			<colgroup>
				<col style="width:20%;">
				<col style="width:30%;">
				<col style="width:20%;">
				<col style="width:30%;">
			</colgroup>
			<tbody>
			<tr>
				<th scope="row">수신</th>
				<td><strong id="estimateMemberNameView">이유진</strong>님 귀하</td>
				<th>연락처</th>
				<td id="estimateTelView">010-1234-5678</td>
			</tr>
			<tr>
				<th scope="row">견적일</th>
				<td id="estimateTodayView">2017-10-25</td>
				<th>유효기간</th>
				<td id="estimateExpirationDayView"></td>
			</tr>
			</tbody>
			</table>

			<table class="tblCont type2">
			<caption></caption>
			<colgroup>
				<col style="width:20%;">
				<col style="width:30%;">
				<col style="width:20%;">
				<col style="width:30%;">
			</colgroup>
			<tbody>
			<tr>
				
				
				
										
				<th scope="row">공급자</th>
				<td><strong>SK매직㈜</strong></td>
				<th>대표자</th>
				
					<td>김완성 <img src="https://static.skmagic.com/pc/asset/images/common/img_sign.png" class="aMid ml10" alt="법인인감"></td>
				
				
			</tr>
			<tr>
				<th scope="row">등록번호</th>
				<td colspan="3">104-86-48203</td>
			</tr>
			<tr>
				<th scope="row">주소</th>
				<td colspan="3">서울특별시 종로구 청계천로 85, 18층(관철동, 삼일빌딩)</td>
			</tr>
			<tr>
				<th scope="row">전화</th>
				<td>1600-1661</td>
				<th>FAX</th>
				<td>02-6740-7394</td>
			</tr>
			</tbody>
			</table>
			<div class="buyPriceWrap">
				<span class="tit"><strong>견적금액</strong> (공급가액 + 세액)
					<p class="bottomTxt">※견적금액은 당사 프로모션에 따라 변경될 수 있습니다.</p>
				</span>
				<span class="sumPrice">
					<span class="price">월 <strong id="estimateTotalPriceView1"></strong> 원</span>
					<span class="desc" id="estimateTotalPriceView3"></span>
				</span>
			</div>
			<table class="tblCont col">
			<caption></caption>
			<colgroup>
				<col style="width:9%;">
				<col style="width:14%;">
				<col style="width:13%;">
				<col style="width:12%;">
				<col style="width:8%;">
				<col style="width:11%;">
				<col style="width:11%;">
				<col style="width:*;">
			</colgroup>
			<thead>
			<tr>
				<th>번호</th>
				<th>제품명</th>
				<th>모델명</th>
				<th>수량</th>
				<th>계약기간</th>
				<th>의무사용기간</th>
				<th>관리방문주기</th>
				<th>월렌탈료</th>
			</tr>
			</thead>
			<tfoot>
			<tr>
				<td colspan="3">계</td>
				<td id="estimateTotalCountView">3</td>
				<td colspan="4" class="aRight price">월 <strong id="estimateTotalPriceView2">75,800</strong> 원</td>
			</tr>
			</tfoot>
			<tbody id="estimateListView"></tbody>
			</table>
			<p class="txtBtm">위와 같이 견적합니다.</p>

			<div class="btnArea">
				<a href="#" class="btn btnLayerClose"><span>취소</span></a>
				<a href="#" class="btn bk" onclick="javascript:printFn(document.getElementById('layRentalDocument').outerHTML); return false;"><span>인쇄</span></a>
			</div>
		</div>
		<!-- layerCont : e -->
		<a href="#" class="btnClose btnLayerClose">레이어 팝업 닫기</a>
	</div>
</div>
<!-- [렌탈견적서] 레이어 팝업 : e -->

<!-- [SR2403-01484]다이렉트렌탈 계약정보 고객재안내 레이어 팝업 : s -->
<div class="layerPop" id="layRentalInfo">
	<div class="dim"></div>
	<div class="layerPopArea direct_info">
		<!-- layerCont : s -->
		<div class="layerCont">	
			<div class="direct_info_box">
				<div class="attention-area">						
					<p class="tit-01 mt30">
						고객님께서 선택하신 렌탈 계약조건을 확인해 주세요.
					</p>					
					<dl>
						<dt>제품명 : </dt>
						<dd id="rentalInfoGoodsNm">원코크 얼음물 정수기 방문관리</dd>
					</dl>
					<dl>
						<dt>계약기간 : </dt>
						<dd id="rentalInfoDutyUsePrd">총 60개월 (의무사용 60개월)</dd>
					</dl>
					<dl>
						<dt>월 렌탈료 : </dt>
						<dd id="rentalInfoAmt">월 44,910원</dd>
					</dl>
					<dl id="rentalInfoCmpnChngTp">
						<dt>렌탈형태 : </dt>
						<dd id="rentalInfoCmpnChngTpNm">방문형</dd>
					</dl>
					<dl id="rentalInfoFilterTp">
						<dt>필터교체주기 : </dt>
						<dd id="rentalInfoFilterTpNm">4개월</dd>
					</dl>
					<dl id="rentalInfoMcFilterTp">
						<dt>MC방문주기 : </dt>
						<dd id="rentalInfoMcFilterTpNm">4개월</dd>
					</dl>
				</div>		
				<p>계약사항을 확인하였으며 주문서로 이동합니다.</p>
				<div class="btnArea mt20 other_cpn">
					<a href="#" class="btn bk"><span>확인</span></a>				
				</div>							
			</div>			
		</div>
		<!-- layerCont : e -->
		<a href="#" class="btnClose03 btnLayerClose">레이어 팝업 닫기</a>
	</div>
</div>
<!-- [SR2403-01484]다이렉트렌탈 계약정보 고객재안내 레이어 팝업 : e -->


    <!-- container : e -->
    <!-- 퀵메뉴 Display : s -->
    




<script type="text/javascript" charset="UTF-8" src="//t1.daumcdn.net/kas/static/kp.js"></script>

<script type="text/javascript">
	var quickMenu;
	$(document).ready(function() {
		/*********************
		****기본 팝업 세팅 start***
		**********************/
		$("#simpleCounselPop").click(function() {
			consultPopupDefaultSettings();
	        gfnOpenLayer($('#layAllConsult'), null);
	    });
		
		if($("#layAllConsult .tabArea ul:first li").length == 3){
	    	$(".Allconsult").addClass("tab_type3");
	    }
		
		$("#recentGoodsArea").click(function() {
			var options = {
				url : "/goods/indexRecentViews",
				loadingYn: false,
				done : function(data){
	
					var recentGoodsList = data.recentGoodsList;
	
					var html = "";
					if(recentGoodsList != null ){
						for (var i = 0; i < recentGoodsList.length; i++) {
							html += "<li>"
	                               +'<span class="thumbnail"><a href="/goods/indexGoodsDetail?goodsId='+recentGoodsList[i].goodsId+'"><img src="https://static.skmagic.com/image'+recentGoodsList[i].imgPath+'" onerror="this.src=\'https://static.skmagic.com/pc/asset/images/etc/no_img_130x130.png\';" alt=""></a></span>'
								+'<span class="tit"><a href="/goods/indexGoodsDetail?goodsId='+recentGoodsList[i].goodsId+'">'+recentGoodsList[i].goodsNm+'</a></span>';
							if(recentGoodsList[i].saleTpCd == "20"){
								html +='<span class="price"><strong>'+format.num(recentGoodsList[i].saleAmt)+'</strong> 원</span>';
							}else{
								html +='<span class="price">월 <strong>'+format.num(recentGoodsList[i].saleAmt)+'</strong> 원</span>';
							}
							html +='<button type="button" id="interestGoodsId_'+recentGoodsList[i].goodsId+'" class="btnLike btnPoke toggle" value="'+recentGoodsList[i].goodsId+'"><span>찜하기</span></button>'
									+"</li>";
						}
						var mbrNo = '0';
	
	                     if(mbrNo != '0'){
							interestGoodsChk();
	                     }
						$("#recentListUl").html(html);
						//찜하기 jqurtyData 설정
						for (var i = 0; i < recentGoodsList.length; i++) {
							$("#interestGoodsId_"+recentGoodsList[i].goodsId).data("goodsId", recentGoodsList[i].goodsId)
						}
	
						uiInterestGoods();
					}
				}
			};
			ajax.call(options);
		});
		
		// 간편상담 신청자이름 입력 시
		$("input[name=apctNm]").keyup(function() {
			// 숫자 입력 체크
			var nm = $(this).val();
			var strLen = nm.length;

			var result = 0 ;

			var lang = /[0-9!@#$%^*+=-]/;

			if (lang.test(nm)) {
				$(this).addClass("vd");
			} else {
				$(this).removeClass("vd");
			}

			// 바이트 체크
			for(var idx=0; idx < strLen; idx++) {
		        var c = escape(nm.charAt(idx));

		        if( c.length==1 ) result ++;
		        else if( c.indexOf("%u")!=-1 ) result += 2;
		        else if( c.indexOf("%")!=-1 ) result += c.length/3;

		    }

		    if(result > 20){
		    	alert(20+"Byte를 초과 입력할 수 없습니다.");
		    	$(this).val(nm.substr(0,20));
		    }

		});
		
		// 간편상담 전화번호 입력 시
		$("input[name=telNo]").keyup(function() {
			// 숫자 입력 체크
			var telNum = $(this).val();
			var strLen = telNum.length;

			var result = 0 ;

			if (!valid.onlyNum.test(telNum)) {
				$(this).addClass("vd");
			} else {
				$(this).removeClass("vd");
			}

			// 바이트 체크
			for(var idx=0; idx < strLen; idx++) {
		        var c = escape(telNum.charAt(idx));

		        if( c.length==1 ) result ++;
		        else if( c.indexOf("%u")!=-1 ) result += 2;
		        else if( c.indexOf("%")!=-1 ) result += c.length/3;

		    }

		    if(result > 11){
 		    	alert("휴대전화번호를 다시 확인해주세요.");
		    	$(this).val(telNum.substr(0,11));
		    }
		});

		// 제품비교 팝업 - 전체 선택/해제 버튼 클릭
		$(document).on('click' , '.quick-menu-cell.compare .btnRelease', function(e){
			e.preventDefault();
			var compGoodsCnt = $("input:checkbox[name='compGoodsCheck']").length;
			var checkedCnt = $("input:checkbox[name='compGoodsCheck']:checked").length;
			
			if(compGoodsCnt != 0){
				if(compGoodsCnt != checkedCnt){
					$("input:checkbox[name='compGoodsCheck']").prop("checked", true);
				}else{
					$("input:checkbox[name='compGoodsCheck']").prop("checked", false);
				}
			}
		}); 
		
		// 제품비교 팝업 - 선택 제품 비교 버튼 클릭
		$(document).on('click', '.quick-menu-cell.compare .btnLayer' , function(e){
			e.preventDefault();
			var compareTargetGoods = new Array();
			
			var compareGoods = $("input:checkbox[name='compGoodsCheck']:checked");
			if(compareGoods.length < 2){
				alert("비교할 제품을 2개 이상 선택해주세요.");
				return;
			}
			
			compareGoods.each(function(idx, obj) {
				compareTargetGoods.push($(this).val());
			});
			
			ajax.load("layerCompare", "/goods/compareGoodsList", {compareTargetGoods:compareTargetGoods, compareTargetGoodsList:compareTargetGoods}, null, "openCompareGoodsLayer");
		});
		
		// 제품비교 - 선택 제품 삭제 버튼 클릭
		$(document).on('click', '.quick-menu-cell.compare #btnCompGoodsDel' , function(e){
			e.preventDefault();
			var compareGoods = $("input:checkbox[name='compGoodsCheck']:checked");
			
			if(compareGoods.length == 0){
				alert("삭제할 제품을 선택해주세요.");
				return;
			}
			
			compareGoods.each(function(idx, obj) {
				$("li[data-compare-goods-id='"+$(this).val()+"']").removeClass('check');
				
				var len = $('.prdList').find('.list > li').filter('.check').length;
				$('.quick-menu-cell.compare .checkNum').text(len);
				$('.quick-menu-cell.compare #checkNum strong').text("("+len+")");
				
				if(len == 0){
					$('.quick-menu-cell.compare').hide();
				}
				
				$("#compareListUl li[data-compare-goods-id='"+$(this).val()+"']").remove();
			});
		});
		
		// 우편번호 검색 버튼, 우편번호, 기본주소 텍스트박스 클릭 시
		$('#layAllConsult, #layVisitConsult').find('#btnSearchPost, input:text[name=dispPostNo], input:text[name=dispAddr], input:text[name=dispAddrDtl]').on('click', function(e) {
			e.preventDefault();
			$(this).parents('div.cont').find('input[type=text]').removeClass('vd');
			$(this).parents('li').removeClass('validate');

			gfnOpenPopupPost('callbackPostNo_consult');
		});
		
		
		/*********************
		****기본 팝업 세팅 end ***
		**********************/
		
		quickMenu = {
			init : {
				apctNm : "" // 신청자명
				, telNo : "" // 신청자전화번호
				, memoContent : "" // 메모내용
				, afltCardUseCd : "" // 제휴 카드사용코드,
				, cnsltRegUrl : "" // 상담등록URL
				, infoConsentYn : "Y" // 마케팅정보활용동의여부
				, cnsltMdaCd : "10" // 상담매체코드
				, rntlBnftT :  "N" // T멤버십 회원이에요. YN
				, rntlBnftB :  "N"// 지금 브로드밴드 인터넷을 쓰고 있어요.
				, rntlBnftBN : "N" // 브로드밴드 인터넷을 신규 가입하여 결합하고 싶어요.
				, rntlBnftRS : "N" // 렌탈 상담 요청
				, rntlBnftUM : "N" // 유상멤버십 상담요청	
				, rntlBnftTF : "N" // 단독멤버십 상담 요청
				, rntlBnftCL : "N" // 세제정기배송 상담 요청
				, clctReqYn : "N" // 폐가전수거여부
				, rntlJoinTpCd : "" // 렌탈가입유형
				, rntlTpCd : "" // 렌탈유형
				, rntlCtrtClsfNo : "" // 렌탈계약분류번호 (프로모션의 계약분류번호)
				, prdtCd : "" // 제품코드
				, crsPreCtNo : "" // 크로스이전계약번호
				, mcEmplId : ""
				, psv_inlt_dmymd : ""  // 설치요청일 
				, psv_call_req_time : ""  // 간편상담요청시간 
				, ticketNo : ""
				, ticketNm : ""
				, ticketTargetPrdtCd : ""
				, mbrTicketNo : ""
				, membershipDispClsfNo : "" //전시 카테고리 번호
				, qrSerial : "" //멤버십용 qr시리얼번호
				, quickMenu : ""
				, resultUrl : ""
				, regUrl : ""
				, tradeInYn : ""
				, psv_om_ct_address : ""
				, psv_om_ct_bunji : ""
			}
			,_$layer : null
			,consultInfo : {}
			,vali : true
			,quickVali : function($layer){
				var $t = this;
				this.vali = true;
				this._$layer = $layer;
				$layer.find("input, select").each(function(){
					if($(this).hasClass("req")){
						var title = $(this).closest("li").find(".stit").text();
						if(this.name == "visitConsultGoodsNm"  && $(this).find("option:selected").val() == ""){
							return $t.focus($(this),"제품을 선택해주세요.");
						}
						if(this.name == "apctNm"){
							if($(this).val().trim() == ""){
								return $t.focus($(this), title + "을 입력하여 주세요.");
							}
							var lang = /[0-9!@#$%^*+=-]/;
							if (lang.test($(this).val())) {
								return $t.focus($(this), title + "은 한글 영문만 입력하여 주세요.");
							}
						}
						if(this.name == "telNo"){
							if($(this).val().trim() == ""){
								return $t.focus($(this), title +"를 입력하여 주세요.");
							}
							if($(this).val().trim().length < 9 || $(this).val().replace(/0/gi,"").length < 2){
								return $t.focus($(this),"올바른 연락처를 입력하여 주세요.");
							}
							if (!valid.onlyNum.test($(this).val())) {
								return $t.focus($(this),"연락처를 숫자만 입력하여 주세요.");
							}
							if($layer.selector == ".consult_gift_goodsDetail"){ //선물하기일경우
								if($(this).val() == $layer.find("input[name=hiddenMbrMobile]").val()){
									return $t.focus($(this),"선물 받는 분의 연락처를 입력해주세요.\n본인 연락처는 입력 불가능합니다.");
								}
							 	if(!getFamilyMbrInfo($(this).val())){
							 		return $t.focus($(this),"패밀리몰에 가입된 회원에게는 선물하실 수 없습니다.");
							 	}
							}
						}
						if(this.name == "membershipDispClsfNo" && $(this).find("option:selected").val() == "0"){
							return $t.focus($(this),"제품을 선택해주세요.");
						}
						if(this.name == "dispPostNo" && $(this).val() == ""){
							return $t.focus($(this),"받으실주소를 설정해 주세요.");
						}
						if(this.name == "dispAddrDtl" && $(this).val() == ""){
							return $t.focus($(this),"받으실주소를 설정해 주세요.");
						}
						
						if(this.name == "rd" && !$layer.find("input[name=rd]:checked").length){
							return $t.focus($(this),"상담 요청시간을 선택해 주세요.");
						}
						if($(this).attr("type") == "checkbox" && !$(this).is(':checked')){
							if($(this).attr("type") == "checkbox" && !$(this).is(':checked')){
								var alertText = $(this).siblings("label").text();
								if(alertText.indexOf("개인정보") > 0){
									alertText = "개인정보 수집 이용에 동의해 주세요.";
								}else if(alertText.indexOf("14세") > 0){
									alertText = "14세 미만은 신청하실 수 없습니다.";
								}else{
									alertText += " 을(를) 확인해 주세요.";
								}
								return $t.focus($(this),alertText);
							}
						}
					}
				});
				//SR2303-02586 추천인 적립금 프로모션 번호입력 validation
				if($("#rcmnMbrMobile").val()!= undefined && $("#rcmnMbrMobile").val() !=""){ 
			 		if( $("#rcmnMbrCheckYn").val()== "N"){  
						alert("추천인 입력 시 확인이 필요합니다.\n추천인 연락처 입력 후 조회 버튼을 눌러 확인 부탁드립니다.");
						return false;
					}
				}
				//[SR2304-03080]신제품 얼음정수기 출시기념 패밀리몰 이벤트 추가  > SK매직 구성원 추천
				if($("#rcmnEmplMobile").val()!= undefined && $("#rcmnEmplMobile").val() !=""){ 
			 		if( $("#rcmnEmplCheckYn").val()=="N"){  
			 			alert("SK매직 구성원 추천 입력 시 확인이 필요합니다.\nSK매직 구성원 추천 연락처 입력 후 조회 버튼을 눌러 확인 부탁드립니다.");
						return false;
					} 
				}
				return this.vali;
			}
			,focus : function($ft,msg){
				$($ft).focus();
				alert(msg);
				this.vali = false;
				return false;
			}
			,setData : function(data){
				this.consultInfo = $.extend({}, this.init, data);
				console.log(this.consultInfo);
			}
			,consultReg : function($layer){
				this._$layer = $layer;
				var memoPrepend = "";
				if($layer.find("input[name=chk_position]:checked").data("text")){
					memoPrepend = "[" + " " + $layer.find("input[name=chk_position]:checked").data("text") + "] " ;
				}
				var goodsData = this.getGoodMemoList("G000067991");
				if(goodsData != null){
					memoPrepend = goodsData.usrDfn2Val + " " + memoPrepend;
				}
				
				//간편 상담 신청
				if($layer.selector == ".consult_telephone"){
					var data = {
						apctNm : $layer.find("input[name=apctNm]").val()
						, telNo : $layer.find("input[name=telNo]").val()
						, psv_call_req_time : $layer.find("input[name=rd]:checked").val()
						, memoContent : memoPrepend + ($layer.find("textarea[name=memoContent]").val() || "")
						, psvInltDmymd : $layer.find("input[name=psvInltDmymd]").val()
						, quickMenu : "P"
						, regUrl : "/order/insertSimpleRentalConsult"
						, resultUrl : "/order/indexQuickComplete?consultingType=telephone"
					}
					this.setData(data);
				}
				
				//상품상세 - 전화상담신청 || 선물하기
				if($layer.selector == ".consult_telephone_goodsDetail" || $layer.selector == ".consult_gift_goodsDetail"){
					
					//매직몰 렌탈 주말특가 이벤트					
					var eventGoodsList =  "G000067264,G000067263,G000067262,G000067261,G000067260,G000067259,G000067258,G000067257,G000067256";
						eventGoodsList += ",G000067255,G000067254,G000067253,G000067252,G000067251,G000067250,G000067249,G000067248,G000067247";
						eventGoodsList += ",G000067246,G000067245,G000067244,G000067243,G000067242,G000067241,G000067240,G000067239,G000067238";
						eventGoodsList += ",G000067237,G000067236,G000067235,G000067234,G000067233,G000067232,G000067231,G000067230,G000067229";
						eventGoodsList += ",G000067228,G000067227,G000067226";
					if(eventGoodsList.indexOf("G000067991") > 0){
						memoContent = "[주말렌탈특가이벤트] " + memoContent;		
					}
					
					var data = {
						apctNm : $layer.find("input[name=apctNm]").val()
						, telNo : $layer.find("input[name=telNo]").val()
						, psv_call_req_time : $layer.find("input[name=rd]:checked").val()
						, memoContent : memoPrepend + ($layer.find("textarea[name=memoContent]").val() || "")
						, psvInltDmymd : $layer.find("input[name=psvInltDmymd]").val()
						, quickMenu : "P"
						, regUrl : "/order/insertSimpleRentalConsult"
						, resultUrl : "/order/indexQuickComplete?goodsId=" + "G000067991" + "&prdtCd=" + "WPUJAC104SWH" + "&consultingType=telephone"
						, rcmnMbrNo : $("#rcmnMbrNo").val() //SR2303-02586 추천인 회원번호
						, rcmnEmplNo : $("#rcmnEmplNo").val() //SK매직 구성원 추천 회원번호([SR2304-03080]신제품 얼음정수기 출시기념 패밀리몰 이벤트 추가 )
						, cnsltRegUrl : $(location).attr('href').substring(0,$(location).attr('href').indexOf("?"))
						, rntlTpCd : '10'
						, tradeInYn : $('#tradeInYnCallChk').is(':checked') == true? 'Y':'N'
						, goodsId : "G000067991" // 상품아이디
						, goodsNm : "초소형 직수 정수기_셀프관리	" // 상품명
						, prdtCd : "WPUJAC104SWH" // 제품코드
						, pkgGoodsId : ""	// 패키지 상품 번호
						, pkgPrdtCd : ""	// 패키지 제품 코드
					}
					var goods_dispClsfNo = '100000005';
					//"식기세척기 세제" 카테고리 변수 ("식기세척기"와 다르다. 혼동하지 말것)
					if(goods_dispClsfNo == '1000000111' || goods_dispClsfNo == '1000000117'){
						data.rntlBnftCL = "Y";
					}
					if('' == 'Y'){
						data.rntlBnftCL = "N";
						data.rntlBnftSC = "Y";
					}
					data.dutyUsePrd = $("input[name='rentalInfo']:checked").data("dutyUsePrd"); 		// 의무 사용 기간
					if( !data.dutyUsePrd ) {
						data.dutyUsePrd = '';
					}
					if($layer.selector == ".consult_gift_goodsDetail"){ //선물하기
						data.cnsltRegTpCd = "510";
						data.memoContent = "[선물하기상담건] " + data.memoContent;
					}
						
					this.setData(data);
				}
				
				//방문 상담 신청
				if($layer.selector == ".consult_visit"){

					var data = {
						apctNm : $layer.find("input[name=apctNm]").val()
						, telNo : $layer.find("input[name=telNo]").val()
						, psv_call_req_time : $layer.find("input[name=rd]:checked").val()
						, memoContent : memoPrepend + ($layer.find("select[name=visitConsultGoodsNm] option:selected").val() || "") + ($layer.find("textarea[name=memoContent]").val() || "")
						, psvInltDmymd : $layer.find("input[name=psvInltDmymd]").val()
						, psv_om_zipcode : $layer.find("input[name='dispPostNo']").val()
						, psv_om_ct_address : $layer.find("input[name='dispAddr']").val()
						, psv_om_ct_bunji :  $layer.find("input[name='dispAddrDtl']").val()
						, postNo : $layer.find("input[name='postNo']").val()
						, addr : $layer.find("input[name='addr']").val()
						, addrDtl : $layer.find("input[name='addrDtl']").val()
						, addrPrt : $layer.find("input[name='addrPrt']").val()
						, bdCode : $layer.find("input[name='bdCode']").val()
						, roadAddrDtl : $layer.find("input[name='roadAddrDtl']").val()
						, goodsId : $layer.find("select[name=visitConsultGoodsNm] option:selected").data("goodsid")
						, goodsNm :  $layer.find("select[name=visitConsultGoodsNm] option:selected").data("goodsnm")
						, quickMenu : "V"
						, regUrl : "/order/insertMcSimpleRentalConsult"
						, resultUrl : "/order/indexQuickComplete?consultingType=visit"
						, consultGoodsNm : $layer.find("select[name=visitConsultGoodsNm] option:selected").val()		
					}
					var goods_dispClsfNo = '100000005';
					//"식기세척기 세제" 카테고리 변수 ("식기세척기"와 다르다. 혼동하지 말것)
					if(goods_dispClsfNo == '1000000111' || goods_dispClsfNo == '1000000117'){
						data.rntlBnftCL = "Y";
					}
					this.setData(data);
					
				}
				
				//상품상세 - 방문상담
				if($layer.selector == ".consult_visit_goodsDetail"){
					var data = {
						apctNm : $layer.find("input[name=apctNm]").val()
						, telNo : $layer.find("input[name=telNo]").val()
						, psv_call_req_time : $layer.find("input[name=rd]:checked").val()
						, memoContent : memoPrepend + ($layer.find("textarea[name=memoContent]").val() || "")
						, psvInltDmymd : $layer.find("input[name=psvInltDmymd]").val()
						, quickMenu : "V"
						, regUrl : "/order/insertMcSimpleRentalConsult"
						, resultUrl : "/order/indexConsultComplete?goodsId=" + "G000067991" + "&prdtCd=" + "WPUJAC104SWH" + "&consultingType=visit"
						, tradeInYn : $('#tradeInYnChk').is(':checked') == true? 'Y':'N'
						, goodsId : "G000067991" // 상품아이디
						, goodsNm : "초소형 직수 정수기_셀프관리	" // 상품명
						, prdtCd : "WPUJAC104SWH" // 제품코드	
						, psv_om_ct_address : $layer.find("input[name='dispAddr']").val()
						, psv_om_ct_bunji :  $layer.find("input[name='dispAddrDtl']").val()
						, postNo : $layer.find("input[name='postNo']").val()
						, addr : $layer.find("input[name='addr']").val()
						, addrDtl : $layer.find("input[name='addrDtl']").val()
						, addrPrt : $layer.find("input[name='addrPrt']").val()
						, bdCode : $layer.find("input[name='bdCode']").val()
						, roadAddrDtl : $layer.find("input[name='roadAddrDtl']").val()
					}
					var goods_dispClsfNo = '100000005';
					//"식기세척기 세제" 카테고리 변수 ("식기세척기"와 다르다. 혼동하지 말것)
					if(goods_dispClsfNo == '1000000111' || goods_dispClsfNo == '1000000117'){
						data.rntlBnftCL = "Y";
					} 
					this.setData(data);
				}
				
				//안심OK 상담 신청
				if($layer.selector == ".consult_safe"){
					var data = {
						apctNm : $layer.find("input[name=apctNm]").val()
						, telNo : $layer.find("input[name=telNo]").val()
						, psv_call_req_time : $layer.find("input[name=rd]:checked").val()
						, memoContent : memoPrepend + ($layer.find("textarea[name=memoContent]").val() || "")
						, psvInltDmymd : $layer.find("input[name=psvInltDmymd]").val()
						, rntlBnftTF : "Y"
						, quickMenu : "A"
						, regUrl : "/order/insertSimpleRentalConsult"
						, resultUrl : "/order/indexQuickComplete?consultingType=safe"
						, consultGoodsNm : $layer.find("select[name=membershipDispClsfNo] option:selected").text()	
						, membershipDispClsfNo :  $layer.find("select[name=membershipDispClsfNo] option:selected").val()
					}


					this.setData(data);
				}
				
				this.submit();
			}
			,submit : function(){
				var $layer = this._$layer;
				var consultInfo = this.consultInfo;
				var options = {
					url : this.consultInfo.regUrl
					, data : this.consultInfo
					, done : function(data){
						if(data.result == "0000"){
							if("0" != 0){
								mbrInfoAdd();
							}
							$("input:hidden[name=psvCallReqTime]").val($layer.find("input[name=rd]:checked").data("text"));
							$("input:hidden[name=quikApctNm]").val(consultInfo.apctNm);
							$("input:hidden[name=quikConsultTelNo]").val(consultInfo.telNo);
							$("input:hidden[name=quickMenu]").val(consultInfo.quickMenu);
							$("input:hidden[name=consultGoodsNm]").val(consultInfo.consultGoodsNm);
							$("input:hidden[name=addr]").val(consultInfo.psv_om_ct_address + consultInfo.psv_om_ct_bunji);
							$("input:hidden[name=tradeInYn]").val(consultInfo.tradeInYn);
							$("#frmConsultInfo").attr("action", consultInfo.resultUrl);
							$("#frmConsultInfo").submit();
						} else {
							alert(data.msg);
						}
					}
				};
				ajax.call(options);
			}
			,getGoodMemoList : function(goodsId){
				var returnData = null;
				config = {
					grpCd:"CUS_REQ_PRFC_GOODS"
				}
				var data = getCodeList(config);
				if(data.codeSelectList && data.codeSelectList.length > 0){
					$(data.codeSelectList).each(function(){
						if(this.usrDfn1Val == goodsId){
							returnData =  this;
						}
					});	
				}
				
				return returnData;
			}
		}
		
		
	});
	
	//간편 상담 신청
	function simpleConsult(){
		if(!quickMenu.quickVali($('.consult_telephone'))){
			return false;
		}
		quickMenu.consultReg($('.consult_telephone'));
	}
	//방문 상담 신청
	function simpleVisitConsult(){
		if(!quickMenu.quickVali($('.consult_visit'))){
			return false;
		}
		quickMenu.consultReg($('.consult_visit'));
	}
	//안심OK 상담 신청
	function simpleSafeConsult(){
		if(!quickMenu.quickVali($('.consult_safe'))){
			return false;
		}
		quickMenu.consultReg($('.consult_safe'));
	}
	
	//상품상세 전화상담 신청
	function simpleConsult_goodsDetail(){
		if(!quickMenu.quickVali($('.consult_telephone_goodsDetail'))){
			return false;
		}
		quickMenu.consultReg($('.consult_telephone_goodsDetail'));
	}
	
	//상품상세 전화상담 신청
	function simpleVisitConsult_goodsDetail(){
		if(!quickMenu.quickVali($('.consult_visit_goodsDetail'))){
			return false;
		}
		quickMenu.consultReg($('.consult_visit_goodsDetail'));
	}
	
	//상품상세 선물하기 상담 신청
	function simpleGiftConsult_goodsDetail(){
		if(!quickMenu.quickVali($('.consult_gift_goodsDetail'))){
			return false;
		}
		quickMenu.consultReg($('.consult_gift_goodsDetail'));
	}
	
	function consultPopupDefaultSettings(){
		gfnCloseLayer($('#laySelectRental'));
		gfnCloseLayer($('#laySimpleConsult'));
		
		$(".consultAddr input").val("");
		
		var day = new Date();
		var hour = parseInt(day.getHours());
		var minute = parseInt(day.getMinutes());
	
		if((hour > 11 && ( minute >= 0 || minute <= 50)) ){
			 $("#rd22, #rd_22").prop('disabled',true);
		}
		if((hour > 13 && ( minute >= 0 || minute <= 50)) ){
			 $("#rd23, #rd_23").prop('disabled',true);
		}
		if((hour > 17 && ( minute >= 0 || minute <= 50)) ){
			 $("#rd24, #rd_24").prop('disabled',true);
		}
		
		
		$("input[name='apctNm']").val("").removeClass("vd").parents("li").removeClass("validate");
		$("input[name='telNo']").val("").removeClass("vd").parents("li").removeClass("validate");
		$("textarea[name='memoContent']").val("");
		$("[id^=quikConsultmemoByte]").html("(0/300)");
		$("[id^=agree]").prop("checked", false);
		$("#tradeInYnChk").prop("checked", false);  // 2023.01.20 타사 렌탈 보상
		// 타사 보상 적용 제품에 대해 다이렉트 렌탈 버튼 클릭 > 타사 보상 진행 시 관련 체크 박스 체크 후 비활성화 했기 때문에 원상복구
		$('#tradeInYnCallChk').prop('disabled', false);
		$('#tradeInYnCallChk').prop('checked', false);
	}
	
	// 구매상담 유효성 체크 관련 정규식
	var validateGoods = {
		  mobileCheck : /^01([0|1|6|7|8|9])([0-9]{3,4})([0-9]{4})$/
		, telCheck : /^0\d{1,2}\d{3,4}\d{4}$/
		, validateMobile : function(obj) {
 			var mobile = $(obj).val();
 			if (WebUtil.isNotNull(mobile)) {
				if (!valid.onlyNum.test(mobile)) {					// 숫자 만 입력 체크
					$(obj).parents("div.cont").find("p.txtMsg").text("숫자만 입력 가능합니다.");
					$(obj).addClass("vd");
					$(obj).parents("li").addClass("validate");
					return false;
				} else if (!(this.mobileCheck.test(mobile) || this.telCheck.test(mobile))) {				// 연락처 유효성 검사
					$(obj).parents("div.cont").find("p.txtMsg").text("잘못된 형식의 연락처 입니다.");
					$(obj).addClass("vd");
					$(obj).parents("li").addClass("validate");
					return false;
				} else if (mobile.replace(/0/gi,"").length < 2) {	// 연락처 유효성 검사
					$(obj).parents("div.cont").find("p.txtMsg").text("잘못된 형식의 연락처 입니다.");
					$(obj).addClass("vd");
					$(obj).parents("li").addClass("validate");
					return false;
				} else {
					$(obj).removeClass("vd");
					$(obj).parents("li").removeClass("validate");
					return true;
				}
			} else {
				$(obj).parents("div.cont").find("p.txtMsg").text("연락처를 입력해 주세요.");
				$(obj).addClass("vd");
				$(obj).parents("li").addClass("validate");
				return false;
			}
		}
		 
	};
	
	// 구매상담 유효성 체크 관련 정규식
	var validateGoodsInquiry = {
		mbrNmCheck : /^[A-Z|a-z|ㄱ-ㅎ|ㅏ-ㅣ|가-힣]+$/
		, mobileCheck : /^01([0|1|6|7|8|9])([0-9]{3,4})([0-9]{4})$/
		, telCheck : /^0\d{1,2}\d{3,4}\d{4}$/
		, validateMbrNm : function(obj) {
			var mbrNm = $(obj).val();
			if (WebUtil.isNotNull(mbrNm)) {
				if (!this.mbrNmCheck.test(mbrNm)) {			// 한글/영문 만 입력 체크
					$(obj).parents("div.cont").find("p.txtMsg").text("한글 또는 영문만 입력 가능합니다.");
					$(obj).addClass("vd");
					$(obj).parents("li").addClass("validate");
					return false;
				} else {
					$(obj).removeClass("vd");
					$(obj).parents("li").removeClass("validate");
					return true;
				}
			} else {
				$(obj).parents("div.cont").find("p.txtMsg").text("이름을 입력해 주세요.");
				$(obj).addClass("vd");
				$(obj).parents("li").addClass("validate");
				return false;
			}
		}
		, validateMobile : function(obj) {
			var mobile = $(obj).val();
			if (WebUtil.isNotNull(mobile)) {
				if (!valid.onlyNum.test(mobile)) {					// 숫자 만 입력 체크
					$(obj).parents("div.cont").find("p.txtMsg").text("숫자만 입력 가능합니다.");
					$(obj).addClass("vd");
					$(obj).parents("li").addClass("validate");
					return false;
				} else if (!(this.mobileCheck.test(mobile) || this.telCheck.test(mobile))) {				// 연락처 유효성 검사
					$(obj).parents("div.cont").find("p.txtMsg").text("잘못된 형식의 연락처 입니다.");
					$(obj).addClass("vd");
					$(obj).parents("li").addClass("validate");
					return false;
				} else if (mobile.replace(/0/gi,"").length < 2) {	// 연락처 유효성 검사
					$(obj).parents("div.cont").find("p.txtMsg").text("잘못된 형식의 연락처 입니다.");
					$(obj).addClass("vd");
					$(obj).parents("li").addClass("validate");
					return false;
				} else {
					$(obj).removeClass("vd");
					$(obj).parents("li").removeClass("validate");
					return true;
				}
			} else {
				$(obj).parents("div.cont").find("p.txtMsg").text("연락처를 입력해 주세요.");
				$(obj).addClass("vd");
				$(obj).parents("li").addClass("validate");
				return false;
			}
		}
		, checkByte : function(targetId, valueObj, maxByte){
			var result = 0;
			var strVal = $(valueObj).val();
			var strLen = strVal.length;
			var dLen = 0;
			if(strVal != ""){
				for(var idx=0; idx < strLen; idx++) {
					var c = escape(strVal.charAt(idx));
					
					if( c.length==1 ){
						result ++;
					} else if( c.indexOf("%u")!=-1 ){
						result += 2;
					} else if( c.indexOf("%")!=-1 ) {
						result += c.length/3;
					}
					if(result <= maxByte){
						dLen = idx + 1;
					}
				}
				
				if(result > maxByte){
					alert(maxByte+" Byte를 초과 입력할 수 없습니다.");
					strVal = strVal.substr(0,dLen);
					$(valueObj).val(strVal);
					this.checkByte(targetId, valueObj, maxByte);
				} else {
					if ($("#"+targetId).length > 0) {
						$("#"+targetId).html("("+result + "/" + maxByte + ")");
					}
				}
			}else{
				if ($("#"+targetId).length > 0) {
					$("#"+targetId).html("("+result + "/" + maxByte + ")");
				}
			}
		}
	};	
	
	// 접수번호 1146 임시저장 주문서 팝업 수정, 다시 안보기 기능 추가
	// 임시저장 팝업 하루 안보기
	function hidePopup(tempOrdNo, days) {

		$('#layerTempSave_'+tempOrdNo).hide();
		setCookieTodayTempRental('layerTempSave_',tempOrdNo,'Y', days);
	}
	
	// 접수번호 1146 임시저장 주문서 팝업 수정, 다시 안보기 기능 추가
	// 임시저장 주문 정보 삭제
	function deleteTempRentalOrder(tempOrdNo) {
		var options = {
				url : "/mypage/deleteTemporaryRentalOrderInfo",
				data : {mbrNo : "0", ordNo : tempOrdNo},
				done : function(data){
				}
			};
			ajax.call(options);
	}

	//간편상담 회원 정보 갱신
	function mbrInfoAdd(){
		var mbrOption ={
			url : "/getMemberMobile",
			loadingYn: false,
			done : function(data){
				$("#quikConsultTelNo").val(data.mobile);
				$("#quikApctNm").val("GUEST");
				
				//상품 상세페이지 및 세제정기 배송 카테고리를 만족하여 다음 요소가 존재할 경우
				if($('#telNo_cleanse').length > 0){
					$("#telNo_cleanse").val(data.mobile);
					$("#apctNm_cleanse").val("GUEST");						
				}
			}
		}

		ajax.call(mbrOption);
	}
	
	
	// 로그인 사용자의 찜 상품 체크
	function interestGoodsChk(){

		if("0" != 0)	{

			var options = {
					url : "/goods/memberWishList",
					data : {mbrNo : "0"},
					done : function(data){
						var interestGoodsList = data.wishList;

						for (var i = 0; i < interestGoodsList.length; i++) {
							$("#interestGoodsId_"+interestGoodsList[i].goodsId).addClass("on");
						}
					}
				};
				ajax.call(options);
		}
	}

	// 찜 설정
	function uiInterestGoods(){
		// 찜 설정
		interestGoodsClick("recentGoodsArea");
	}

 	// 방문예약 우편번호 선택 Callback
	function callbackPostNo_consult(result) {
		$.each(result, function(k, v){
			var inp = $('.consultAddr').find('input[name='+k+']');
			if(inp.length > 0) {
				inp.val(v);
			}
		})
	}
 	
	//플래그 변수의 값이 존재할 경우 변수에 해당하는 href로 이동
	function goLogin(t) {
		var returnurl = "/main";
		//t가 존재하면 현재 위치한 url 정보로 이동
		if(t != null && arguments.length > 0){
			returnurl = location.href.replace(/.*\/\/[^\/]*/, '');
		}
		location.href = "/indexLogin?returnUrl=" + encodeURIComponent(returnurl);
	}
	
	// 상품비교팝업 열기
	function openCompareGoodsLayer(){
		gfnOpenLayer($("#layerCompare"), $(this));
	} 

</script>



<!-- 퀵메뉴 : s -->
<div id="quick" class="quick-menu-wrap">
	<div class="quick-menu">
		<!-- 위로 가기 s -->
		<div class="quick-menu-cell"><button type="button" class="btn-quick-item btn-quick-top"><span><span class="icon"></span><span class="name">맨위로</span></span></button></div>
		<!-- //위로 가기 e -->
		
		<!-- 렌탈상담 s -->
		<div class="quick-menu-cell"><button type="button" class="btn-quick-item btn-quick-rental-request" id="simpleCounselPop"><span><span class="icon"></span><span class="name">렌탈상담(신규)&nbsp;&nbsp;&nbsp;&nbsp;</span></span></button></div>
		<!-- //렌탈상담 e -->
		
		<!-- 전화문의 s -->
		<div class="quick-menu-cell">
			<button type="button" class="btn-quick-item btn-quick-tel-request"><span><span class="icon"></span><span class="name">전화문의</span></span></button>
			<div class="qLayer callcenter">
				<dl class="top">
					<dt >렌탈/구매문의</dt>
					<dd>1600-6446</dd>
				</dl>
				<dl>
					<dt>통합고객센터</dt>
					<dd>1600-1661</dd>
				</dl>
				<dl>
					<dt>배송문의</dt>
					<dd>1644-7272</dd>
				</dl>
				<!-- 20211111 수정 s (문구 추가) -->
				<p style="margin: 10px 0 0 0;">고객센터(콜센터) 이용시 통신요금이 부과됩니다.</p>
				<!-- 20211111 수정 e -->
				<div class="layClose"><a href="#" title="전화문의 팝업 닫기">닫기</a></div>
			</div>
			
		</div>
		<!-- //전화문의 e -->
		<!-- 채팅상담 s -->
		 <div class="quick-menu-cell"><a href="#" onclick="fn_gatag('매직_PC_공통', '퀵메뉴', '채팅상담', 'https://api.happytalk.io/api/kakao/chat_open?yid=%40sk%eb%a7%a4%ec%a7%81&site_id=5000000366&category_id=68972&division_id=69015&parameter1=002', true); return false;" class="btn-quick-item btn-quick-chat-request"><span><span class="icon"></span><span class="name">채팅상담</span></span></a></div>
<!-- 		<div class="quick-menu-cell"><a href="#" onclick="alert('채팅상담 일시 중단으로 불편을 드려 죄송합니다.'); return false;" class="btn-quick-item btn-quick-chat-request"><span><span class="icon"></span><span class="name">채팅상담</span></span></a></div> -->
		<!-- //채팅상담 e -->
		<!-- 최근본제품 s -->
		<div class="quick-menu-cell"  id="recentGoodsArea">
			<button type="button" class="btn-quick-item btn-quick-latest"><span><span class="icon"></span><span class="name">최근본상품</span></span></button>				
			<div class="qLayer recent">
				<dl>
					<dt>최근 본 제품</dt>
					<dd>
						<div class="list scrollbar">
							<ul id="recentListUl">
							</ul>
						</div>
						<div class="btnArea">
							<a href="#" onclick="fn_gatag('매직_PC_공통', '퀵메뉴', '찜한 제품 보기', '/mypage/interest/memberInterestGoodsList'); return false;" class="btnm"><span>찜한 제품 보기</span></a>
						</div>
					</dd>
				</dl>
				<div class="layClose"><a href="#" title="최근본제품 팝업 닫기">닫기</a></div>
			</div>
		</div>
		<!-- //최근본제품 e -->
		<!-- 구매하기 s -->
		<div id="btnBuy" class="quick-menu-cell" style="display:none;"><button type="button" class="btn-quick-item btn-quick-buy"><span><span class="icon"></span><span class="name">구매하기</span></span></button></div>
		<!-- //구매하기 e -->
		<!-- 렌탈하기 s -->
		<div id="btnRental" class="quick-menu-cell" style="display:none;"><button type="button" class="btn-quick-item btn-quick-rental"><span><span class="icon"></span><span class="name">렌탈하기</span></span></button></div>
		<!-- //렌탈하기 e -->
		<!-- 비교하기 s -->
		<div class="quick-menu-cell compare" style="display:none;">
			<button type="button" class="btn-quick-item btn-quick-compare">
				<span>
					<span class="icon"></span>
					<span class="name">비교하기</span>
					<span class="checkNum"></span>
				</span>
			</button>
			<div class="qLayer recent">
				<dl>
					<dt><span id="checkNum">제품 비교<strong>()</strong></span> <a href="#;" class="btnRelease">전체 선택/해제</a></dt>
					<dd>
						<div class="list scrollbar">
							<ul id="compareListUl">
							</ul>
						</div>
						<div class="btnArea">
							<a href="#" class="btnm bk view btnLayer"><span>선택 제품 비교</span></a>
							<a href="#" id="btnCompGoodsDel" class="btnm"><span>선택 제품 삭제</span></a>
						</div>
					</dd>
				</dl>
				<div class="layClose"><a href="#" title="최근본제품 팝업 닫기">닫기</a></div>
			</div>
		</div>
		<!-- //비교하기 e -->
	</div>
</div>
<!-- 퀵메뉴 : e -->


<!-- [개인정보 수집 및 이용 안내] 레이어 팝업 : s -->
<div class="layerPop" id="layPrivacyComm">
	<div class="dim"></div>
	<div class="layerPopArea">
		<!-- layerCont : s -->
		<div class="layerCont">
			<h2 class="popTit">개인정보 수집 및 이용 안내</h2>
			<p class="popTxt2">전화, 방문 상담을 위해서는 아래 정보 항목에 대한 동의가 필요합니다.<br>해당 정보 사용에 대한 동의를 거부할 권리가 있으나,<br>미 동의시 상담 서비스 이용이 불가능합니다.</p>

			<table class="tblCont col line">
			<caption></caption>
			<colgroup>
				<col style="width:10%;">
				<col style="width:14%;">
				<col style="width:38%;">
				<col style="width:38%;">
			</colgroup>
			<thead>
			<tr>
				<th scope="col" colspan="2">수집항목</th>
				<th scope="col">이용목적</th>
				<th scope="col">보유기간</th>
			</tr>
			</thead>
			<tbody>
			<tr>
				<td>필수</td>
				<td>이름,<br />휴대폰번호,<br />방문주소<br />(선택)</td>
				<td>
					신청자 본인 확인, 렌탈계약가입 관련 <br />
					방문상담 등 서비스 이용,<br />
					서비스 이용에 따른 민원사항 처리
				</td>
				<td style="font-size: 16px;">
					<strong>전자상거래등에서의 소비자보호에 관한<br />법률에 의거 5년간 보관 후 파기<br />
					(단, 상담신청 취소/철회 시<br />취소/철회일로부터 5년)</strong>
				</td>
			</tr>
			</tbody>
			</table>

			<div class="btnArea">
				<a href="#" class="btn bk btnLayerClose"><span>확인</span></a>
			</div>
		</div>
		<!-- layerCont : e -->
		<a href="#" class="btnClose btnLayerClose">레이어 팝업 닫기</a>
	</div>
</div>
<!-- [개인정보 수집 및 이용 안내] 레이어 팝업 : e -->


<!-- [간편 상담 신청] 레이어 팝업 : s -->
<div class="layerPop quickConsult" id="layAllConsult">
	<div class="dim"></div>
	<div class="layerPopArea Allconsult">
		<!-- layerCont : s -->
		<div class="layerCont consultApply">
			<h2 class="popTit">신규 간편 렌탈 신청</h2>
			<div class="tabArea">
				<ul class="tab">
					<li class="on" data-tab-id="t1"><a href="#">전화상담</a></li>
					
						<li data-tab-id="t2"><a href="#">방문상담</a></li>		
											
					<li data-tab-id="t3"><a href="#">안심OK서비스 상담</a></li>	
				</ul>
				<div class="tabCont consult_telephone">
					<div class="popSec">
						
						<div class="attention-area">							
							<p class="tit-01 mt30">
								전화상담 서비스란?
							</p>						
							<p class="txt-01 mt10">
								제품 전문 상담원이 고객님이 원하는 시간에 맞춰<br />
								최상의 프로모션, 최적의 제품을 전화상담드립니다.
							</p>
							
							<div class="txt-02 logoff"> 
								로그인 후 상담 신청하시면 더 많은 혜택을 받아 보실 수 있습니다.
								<div style="margin-top: 20px;">			
									<a href="/join/indexJoin" class="btn_ghost"><span>회원가입</span></a>
									<a href="/indexLogin" class="btn_ghost"><span>로그인</span></a>
								</div>
							</div>
														
							<br/>* 기존 사용제품 문의(AS문의, 해지, 수납, 정보변경)은 <a href="#" onclick="window.open('https://service.skmagic.com', '_blank')" class="link">고객지원</a>을 통해서만 가능합니다.
						</div>
						
						<ul class="itemList form">
												
							<li>
								<em class="stit require">신청자 아이디</em>
								<div class="cont">									
									
																		
									<input type="text" value="비회원 고객입니다." disabled="disabled">									
								</div>
							</li>			
									
							<li>
								<em class="stit require">신청자 이름</em>
								<div class="cont">
									<input type="text" class="req" name= "apctNm" value="" placeholder="이름을 입력해주세요."
									onfocusout="javascript:validateGoodsInquiry.validateMbrNm(this);">
									<p class="txtMsg">이름을 입력해 주세요.</p>
								</div>
							</li>
							<li>
								<em class="stit require">연락처</em>
								<div class="cont">
									<input type="text" class="req" name="telNo" onfocusout="javascript:validateGoods.validateMobile(this);" value="" placeholder="숫자만 입력해주세요." maxlength="11">
									<p class="txtMsg">연락처를 입력해 주세요.</p>
								</div>
							</li>
							<li>
								<em class="stit require">상담 요청시간</em>
								<div class="cont">									
									<div>
										<div class="radio">
											<input type="radio" class="req" id="rd22" name="rd" value ="1012" data-text ="오전 10:00 ~ 12:00" >
											<label for="rd22">오전 10:00 ~ 12:00</label>
										</div>
									</div>
									<div class="mt10">
										<div class="radio">	
											<input type="radio" class="req"  id="rd23" name="rd" value ="1214" data-text ="점심 12:00 ~ 14:00" >
											<label for="rd23">점심 12:00 ~ 14:00</label>
										</div>
									</div>
									<div class="mt10">
										<div class="radio">
											<input type="radio" class="req"  id="rd24" name="rd" value ="1418" data-text ="오후 14:00 ~ 18:00" >
											<label for="rd24">오후 14:00 ~ 18:00</label>
										</div>
									</div>
									<div class="mt10">
										<div class="radio">
											<input type="radio" class="req"  id="rd21" name="rd" value ="0000" data-text ="선택없음(빠른상담요청)">
											<label for="rd21">선택없음(빠른상담요청)</label>
										</div>
									</div>
									<p class="desc mt5">※ 영업일 기준 순차적 상담 전화 드릴 예정입니다! (주말/공휴일 제외)</p><!-- 20210604 추가 -->
								</div>
							</li>
							<li>
								<em class="stit vtop">메모<span class="length" id="quikConsultmemoByte_tel">(0/300)</span></em>
								<div class="cont">
									<div class="textarea"><textarea name="memoContent" cols="" rows="3" placeholder="신규 렌탈 상담 진행시 참고할 점이 있다면 남겨주세요."
									 onkeyup="javascript:validateGoodsInquiry.checkByte('quikConsultmemoByte_tel',this,300);"></textarea></div>
								</div>
							</li>
							
						</ul>
						<div class="agreeBox chk">
							<div class="agree">
								<div class="checkbox">
									<input type="checkbox" class="req"  id="agree1" name="quikAgreeChk">
									<label for="agree1"><em>[필수]</em> 개인정보 수집 및 이용 동의</label>
									<a href="#layPrivacyComm" class="btns btnLayer">전문보기</a>
								</div>								
							</div>	
													
							<div class="agree">
								<div class="checkbox">
									<input type="checkbox" class="req"  id="agree_1" name="alAgreeChk1">
									<label for="agree_1"><em>[필수]</em>14세 이상입니다(14세 미만은 신청 제한)</label>									
								</div>								
							</div>	
							
						</div>																										
					</div>					
					<div class="btnArea">
						<a href="#" class="btn red" onclick="fn_gatag('매직_PC_공통', '상담신청', '상담신청', null); simpleConsult(); return false;">상담신청</a>
					</div>
				</div>
				
				<div class="tabCont consult_visit">
					<div class="popSec"><!-- 20230314 방문상담 -->
						<div class="attention-area attention-area2">							
							<p class="tit-01 mt30">
								방문상담 서비스란?
							</p>						
							<p class="txt-01 mt10">
								우리동네 전문가 매직케어가<br />
								고객님께 직접 방문하여 최적의 제품을 추천드립니다.<br />
								<span>( 신청완료 후 1일이내 방문일정협의 )</span>
								<em class="s_txt">비회원 상태에서도 간편하게 이용이 가능합니다.</em>
							</p>
						</div>
						<ul class="itemList form">		
							<li class="s_title">
								<em class="">STEP1. 상담이 필요하신 내용을 입력해주세요.</em>
							</li>
							<li>
								<em class="stit require">제품선택</em>
								<div class="cont">
									<div class="selBoxWrap half">
										<div class="selectBox selectBoxWrap">
											<select name="visitConsultGoodsNm" class="select req">
												<option value="">제품을 선택해주세요.</option>																							
												<option value="정수기" data-goodsid = "G000067991" data-goodsnm = "초소형 직수 정수기_셀프관리" data-prdtcd= "WPUJAC104SWH">정수기</option>
												<option value="비데 " data-goodsid = "G000066592" data-goodsnm = "SK매직 풀스텐 스파 비데_셀프관리" data-prdtcd= "BIDF17DR43WH">비데</option>
												<option value="공기청정기" data-goodsid = "G000067189" data-goodsnm = "16평 올클린 디아트 공기청정기_셀프" data-prdtcd= "ACL16C1ASKOB">공기청정기</option>
												<option value="기타"  data-goodsid = "G000064757" data-goodsnm = "워커힐 프레지덴셜 스위트 매트리스" data-prdtcd= "MATSM920RWBR">기타</option>											</select>
										</div>
									</div>
								</div>
							</li>
							<li><em class="stit vtop">상담필요사항 <span class="length" id="quikConsultmemoByte_visit">(0/300)</span></em>
								<div class="cont">
									<div class="textarea">
										<textarea cols="" rows="3" name="memoContent"
											onkeyup="javascript:validateGoodsInquiry.checkByte('quikConsultmemoByte_visit',this,300);"
											 placeholder="신규 렌탈 상담 진행시 참고할 점이 있다면 남겨주세요."></textarea>
									</div>
								</div>
							</li>	
							<li class="s_title">
								<em class="">STEP2. 상담에 필요한 고객정보를 입력해주세요.</em>
							</li>							
							<li>
								<em class="stit require">신청자 아이디</em>
								<div class="cont"> 
									
																		
									<input type="text" value="비회원 고객입니다." disabled="disabled">	
									<p class="desc">※ 비회원은 포인트가 적립되지 않습니다. 지금 회원가입하시고 포인트 혜택도 받아가세요!</p>								
								</div>
							</li>					
							<li><em class="stit require">신청자 이름</em>
								<div class="cont">
									<input type="text" name="apctNm" class="req" 
										onkeyup="javascript:validateGoodsInquiry.checkByte('',this,20);"
										onfocusout="javascript:validateGoodsInquiry.validateMbrNm(this);"
										placeholder="이름을 입력해주세요."> <input type="hidden"
										name="mbrTpCd">
									<p class="txtMsg">이름을 입력해 주세요.</p>							
								</div>
							</li> 
							<li><em class="stit require">연락처</em>
								<div class="cont">
									<input type="text" name="telNo" class="req" 
										onfocusout="javascript:validateGoodsInquiry.validateMobile(this);"
										placeholder="숫자만 입력해주세요." maxlength="11">
									<p class="txtMsg">연락처를 입력해 주세요.</p>									
								</div>
							</li>
							<li>
								<em class="stit require">주소</em>
								<div class="cont consultAddr">
									<span class="inputWrap">
										<input type="text" class="req"   value="" name="dispPostNo"  placeholder="우편번호" disabled style="width:300px;">
										 <a href="#layPostSearch" class="btn bk btnLayer" id="btnSearchPost"><span>우편번호 검색</span></a>
									</span>
									<span class="inputWrap">
										<input type="text" class="req" value=""  name="dispAddr" disabled>
									</span>
									<span class="inputWrap">
										<input type="text" class="req" value="" name="dispAddrDtl" placeholder="나머지 주소를 입력해주세요.">
									</span>
									<input type="hidden" name="postNo"     title="우편번호" value="" />
									<input type="hidden" name="addr"       title="지번기본주소" value="" />
									<input type="hidden" name="addrDtl"    title="지번상세주소" value="" />
									<input type="hidden" name="addrPrt"    title="구주소번지" value="" />
									<input type="hidden" name="bdCode"     title="건물관리코드" value="" />
									<input type="hidden" name="roadAddrDtl" title="도로명상세주소" value="" />
									<input type="hidden" name="instDept"   title="설치센터" value="" />
								</div>
							</li>
						</ul>
						<div class="agreeBox chk">
							<div class="agree">
								<div class="checkbox">
									<input type="checkbox" class="req" id="agreePersonalInfoConsult3" name="agreePersonalInfoConsult">
									<label for="agreePersonalInfoConsult3"><em>[필수]</em> 개인정보 수집 및 이용 동의</label>
									<a href="#layPrivacyComm" class="btns btnLayer">전문보기</a>
								</div>								
							</div>
							
							<div class="agree">
								<div class="checkbox">
									<input type="checkbox" class="req" id="agree_2" name="alAgreeChk2">
									<label for="agree_2"><em>[필수]</em>14세 이상입니다(14세 미만은 신청 제한)</label>									
								</div>								
							</div>
							
						</div>	
						<!--20230703 방문상담 문구추가 s-->
						<p class="em mt30">※ 방문상담을 통해 계약 체결시 계약 사항(렌탈가격, 사은품 등)은 SK매직몰과 다를 수 있습니다.</p>								
						<!--20230703 방문상담 문구추가 e-->											
					</div>
					<div class="btnArea">
						<a href="#" class="btn red" onclick="javascript:simpleVisitConsult();return false;">상담신청</a>
					</div>
				</div><!-- 20230314 방문상담 -->
				
				<div class="tabCont consult_safe">
					<div class="popSec">
						<div class="attention-area">	
							<p class="tit-01 mt30">
								안심OK서비스란?
							</p>						
							<p class="txt-01 mt10">
								렌탈계약 기간 종료 또는 일시불 제품 구매 후<br />
								멤버십 가입을 통해 제품 관리를 받고 싶은 고객님을 위한<br />
								SK매직만의 특별한 서비스입니다.
							</p>
							
							<div class="txt-02 logoff"> <!--logoff / logon 클래스로 비로그인/로그인문구 노출 구별-->
								로그인 후 상담 신청하시면 더 많은 혜택을 받아 보실 수 있습니다.
								<div style="margin-top: 20px;">			
									<a href="/join/indexJoin" class="btn_ghost"><span>회원가입</span></a>
									<a href="/indexLogin" class="btn_ghost"><span>로그인</span></a>
								</div>
							</div>
							
							<br/>* 기존 사용제품 문의(AS문의, 해지, 수납, 정보변경)은 <a href="#" onclick="window.open('https://service.skmagic.com', '_blank')" class="link">고객지원</a>을 통해서만 가능합니다.
						</div>
						<ul class="itemList form">					
							<li>
								<em class="stit require">신청자 아이디</em>
								<div class="cont">									
									
																		
									<input type="text" value="비회원 고객입니다." disabled="disabled">									
								</div>
							</li>					
							<li>
								<em class="stit require">신청자 이름</em>
								<div class="cont">
									<input type="text" class="req" name="apctNm" value="" placeholder="이름을 입력해주세요."
									onfocusout="javascript:validateGoodsInquiry.validateMbrNm(this);">
									<p class="txtMsg">이름을 입력해 주세요.</p>
								</div>
							</li>
							<li>
								<em class="stit require">연락처</em>
								<div class="cont">
									<input type="text" class="req" name="telNo" onfocusout="javascript:validateGoods.validateMobile(this);" value="" placeholder="숫자만 입력해주세요." maxlength="11">
									<p class="txtMsg">연락처를 입력해 주세요.</p>
								</div>
							</li>							
							<li>
								<em class="stit require">제품선택</em>
								<div class="cont">
									<div class="selBoxWrap half">
										<div class="selectBox selectBoxWrap"  style="width:100%;" >
											<select name="membershipDispClsfNo" class="select req">
												<option value="0">제품을 선택해주세요.</option>
												
												
													<option value="100000005">정수기</option>
													<option value="100000016">식기세척기</option>
													<option value="100000024">비데</option>
													<option value="100000010">공기청정기</option>
													<option value="100000002">기타</option>
												
												
											</select>
										</div>
									</div>
								</div>
							</li>
							<li>
								<em class="stit vtop">메모<span class="length" id="quikConsultmemoByte_safe">(0/300)</span></em>
								<div class="cont">
									<div class="textarea"><textarea name="memoContent" cols="" rows="3" placeholder="신규 렌탈 상담 진행시 참고할 점이 있다면 남겨주세요."
									onkeyup="javascript:validateGoodsInquiry.checkByte('quikConsultmemoByte_safe',this,300);"></textarea></div>
								</div>
							</li>
							
						</ul>
						<div class="agreeBox chk">
							<div class="agree">
								<div class="checkbox">
									<input type="checkbox" class="req" id="agree2" name="quikAgreeChk2">
									<label for="agree2"><em>[필수]</em> 개인정보 수집 및 이용 동의</label>
									<a href="#layPrivacyComm" class="btns btnLayer">전문보기</a>
								</div>								
							</div>
							
							<div class="agree">
								<div class="checkbox">
									<input type="checkbox" class="req" id="agree_3" name="alAgreeChk3">
									<label for="agree_3"><em>[필수]</em>14세 이상입니다(14세 미만은 신청 제한)</label>									
								</div>								
							</div>	
							
						</div>											
					</div>
					<div class="btnArea">
						<input type="hidden" name="psvInltDmymd">
						<a href="#" class="btn red" onclick="fn_gatag('매직_PC_공통', '상담신청', '상담신청', null); simpleSafeConsult(); return false;">상담신청</a>
					</div>
				</div>
			</div>
		</div>
		<!-- layerCont : e -->
		<a href="#" class="btnClose btnLayerClose">레이어 팝업 닫기</a>
	</div>
</div>
<!-- [방문 렌탈 상담 신청] 레이어 팝업 : e -->

<div class="icoCompare"></div>  <!-- 제품 비교하기 메시지 -->
<!-- [제품 비교] 레이어 팝업 : s -->
<div class="layerPop" id="layerCompare"></div>
<!-- [제품 비교] 레이어 팝업 : e -->















<!-- 상품상세용 상담팝업-->
<!-- 상품상세용 상담팝업-->
<!-- 상품상세용 상담팝업-->
<!-- 상품상세용 상담팝업-->
<!-- 상품상세용 상담팝업-->
<!-- 상품상세용 상담팝업-->
<!-- 상품상세용 상담팝업-->










<script type="text/javascript"> //상품 상세 상담 신청 용  (레이어 띄우는 용도)

function showSimpleConsult(){
	
		 			
			gfnOpenLayer($('#laySelectRental'), null);
		
		
	
} 

// 상품상세 - 간편(전화)렌탈 상담신청
function popSimpleConsult(){
	consultPopupDefaultSettings();
	/*  간편상담 설치요청일 */
		var options = {
		url : "/order/listInstallableDate",
 		data : { zipCode : "0000" , ordTp : "00"  },
 		done : function(data){
	 			var result = data.result; 
 			if(result.length > 0){
 				$("#laySimpleConsult input[name='psvInltDmymd']").val([result[0].CALENDAR_DATE]);
 			}
 		}
 	};
 		
	ajax.call(options);

	// 비회원/로그인회원
	if ("0" == "0") {
		$("#laySimpleConsult div.agreeBox").show();
		$("#laySimpleConsult div.agreeAllChk").show();
		gfnOpenLayer($('#laySimpleConsult'), null);
	} else {
		var options = {
		    url : "/mypage/info/memberInfo",
		    data : null,
			done : function(data){
				if(data.member != null){
					getRcmnPrmtAmt();	//SR2303-02586
					$("#laySimpleConsult input[name='mbrTpCd']").val(data.member.mbrTpCd);
				    $("#laySimpleConsult input[name='apctNm']").val(data.member.mbrNm);
					$("#laySimpleConsult input[name='telNo']").val(data.member.mobile);
					$("#laySimpleConsult input[name='hiddenMbrMobile']").val(data.member.mobile);	//SR2303-02586
					gfnOpenLayer($('#laySimpleConsult'), null);
			    } else {
			    	alert("회원 정보가 존재하지 않습니다.");
			    }
			}
		};
		ajax.call(options);
	}

}



// 상품상세 - 방문 렌탈 상담신청
function popMcSimpleConsult(){
	consultPopupDefaultSettings();
	// 비회원/로그인회원
	if ("0" == "0") {
		$("#layVisitConsult div.agreeBox").show();
		$("#layVisitConsult div.agreeAllChk").show();
		gfnOpenLayer($("#layVisitConsult"), null); 
	} else {
		var options = {
		    url : "/mypage/info/memberInfo",
		    data : null,
			done : function(data){
				if(data.member != null){
					$("#layVisitConsult input[name='mbrTpCd']").val(data.member.mbrTpCd);
				    $("#layVisitConsult input[name='apctNm']").val(data.member.mbrNm);
					$("#layVisitConsult input[name='telNo']").val(data.member.mobile);
					gfnOpenLayer($('#layVisitConsult'), null);
			    } else {
			    	alert("회원 정보가 존재하지 않습니다.");
			    }
			}
		};
		ajax.call(options);
	}
	
}

//상품상세 - 선물하기 상담신청
function popGiftConsult(){
	consultPopupDefaultSettings();
	// 비회원/로그인회원
	if ("0" == "0") {
		gfnOpenLayer($("#popGiftlayer"), null); 
	} else {
		var options = {
		    url : "/mypage/info/memberInfo",
		    data : null,
			done : function(data){
				if(data.member != null){
					$("#popGiftlayer input[name='hiddenMbrMobile']").val(data.member.mobile);
					gfnOpenLayer($("#popGiftlayer"), null); 
			    } else {
			    	alert("회원 정보가 존재하지 않습니다.");
			    }
			}
		};
		ajax.call(options);
	}
}

function getFamilyMbrInfo(mobile){ //SR2312-02356 패밀리몰 선물하기
	var resultCode;
	var options = {
		url : "/order/getFamilyMbrInfo",
		data : {"mobile" : mobile},
		loadingYn: false,
		async : false,
		done : function(data){
			resultCode = data.resultCode;
		}
	};
	ajax.call(options);
	return resultCode;
}

function getRcmnPrmtAmt(){	//SR2303-02586 추천인 적립금 프로모션 정보조회
	var options = {
			url : "/order/getRcmnPrmtInfo",
			data : {prmtKindCd : "330"},
			done : function(data){
				rcmnPointAmt = data.rcmnPrmtPoint.aplVal;
				if(rcmnPointAmt > 0){
					$("#rcmnPrmtBenfitDiv").show();
					$("#rcmnPrmtAmt").text(valid.numberWithCommas(rcmnPointAmt));
				}
			}
	};
	ajax.call(options);
}

function getRcmnMbrInfo(){	//SR2303-02586 추천인 적립금 프로모션 상대방 회원정보조회
	
	var rcmnMbrMobile = $("#rcmnMbrMobile").val();
	
	if(rcmnMbrMobile == null || rcmnMbrMobile.length < 10){
		alert("정확한 번호를 입력해주세요.");
		$("#rcmnMbrMobile").focus();
		return;
	}
	
	if(rcmnMbrMobile == $("#hiddenMbrMobile").val()){
		alert("추천인의 번호를 입력해주세요(본인 연락처 입력 불가)");
		$("#rcmnMbrMobile").val("");
		$("#rcmnMbrMobile").focus();
		return;
	}
	
	var options = {
		url : "/order/getRcmnMbrInfo",
		data : {"mobile" : rcmnMbrMobile},
		done : function(data){
			if(data.resultCode == true){
				if(confirm(data.rcmnMbrInfo.mbrNm+"님이 등록하신 추천인이 맞습니까?")){
					$("#rcmnMbrNo").val(data.rcmnMbrInfo.mbrNo);
					$("#rcmnMbrCheckYn").val("Y");
					$("#searchBtn").hide();
					$("#resetBtn").show();
					$("#rcmnMbrMobile").attr("disabled",true);
					alert("추천인이 입력되었습니다.");
				}
			}else{
				alert(data.resultMsg);
				return false;
			}
		}
	};
	ajax.call(options);
}

function resetRcmnMbrInfo(){ //SR2303-02586 추천인 입력 초기화
	$("#rcmnMbrNo").val("");
	$("#rcmnMbrCheckYn").val("N");
	$("#rcmnMbrMobile").val("");
	$("#rcmnMbrMobile").attr("disabled",false);
	$("#searchBtn").show();
	$("#resetBtn").hide();
}

/** [SR2304-03080]신제품 얼음정수기 출시기념 패밀리몰 이벤트 추가  > SK매직 구성원 추천 s */
// SK매직 임직원정보 조회
function getRcmnEmplInfo(){
	
	var rcmnEmplMobile = $("#rcmnEmplMobile").val();
	if(rcmnEmplMobile.length == null || rcmnEmplMobile.length < 10){
		alert("정확한 번호를 입력해주세요.");
		$("#rcmnEmplMobile").focus();
		return;
	}

	var options = {
		url : "/order/getRcmnEmplInfo",
		data : {"mobile" : rcmnEmplMobile},
		done : function(data){
			if(data.resultCode == true){
				if(confirm(data.result.mbrNm+"님이 등록하신 추천인이 맞습니까?")){
					alert("추천인이 입력되었습니다.");
					$("#rcmnEmplMobile").prop("disabled",true);
					$("#rcmnEmplNo").val(data.result.mbrNo);
					$("#rcmnEmplCheckYn").val("Y");
					$("#searchEmplBtn").hide();
					$("#resetEmplBtn").show();
					$("#resetEmplBtn").focus();
				}
			}else{
				alert(data.resultMsg);
				return false;
			}
		}
	};
	ajax.call(options);
}

// SK매직 임직원정보 초기화
function resetRcmnEmplInfo(){
	$("#rcmnEmplNo").val("");
	$("#rcmnEmplCheckYn").val("N");
	$("#rcmnEmplMobile").val("");
	$("#rcmnEmplMobile").attr("disabled",false);
	$("#searchEmplBtn").show();
	$("#resetEmplBtn").hide();
}
/*  [SR2304-03080]신제품 얼음정수기 출시기념 패밀리몰 이벤트 추가  > SK매직 구성원 추천 e */


		
</script>


<!-- [상담 선택] 레이어 팝업 : s -->
<div class="layerPop" id="laySelectRental">
	<div class="dim"></div>
	<div class="layerPopArea select_rental">
		<!-- layerCont : s -->
		<div class="layerCont">
			<div class="select_rental_box">
				<button class="sel_box visitrental" onclick="javascript:popMcSimpleConsult();return false;">방문렌탈 상담</button>
				<button class="sel_box callrental"  onclick="javascript:popSimpleConsult();return false;">전화렌탈 상담</button>
			</div>
			
		</div>
		<!-- layerCont : e -->
		<a href="#" class="btnClose03 btnLayerClose">레이어 팝업 닫기</a>
	</div>
</div>
<!-- [상담 선택] 레이어 팝업 : e -->

<!-- [상품상세 - 전화 상담 신청] 레이어 팝업 : s -->
<div class="layerPop" id="laySimpleConsult">
	<div class="dim"></div>
	<div class="layerPopArea Allconsult">
		<!-- layerCont : s -->
		<div class="layerCont consultApply consult_telephone_goodsDetail">
			<h2 class="popTit">전화 상담 신청</h2>		
			<div class="popSec" id="goodsDetailConsultInfoDiv">
				
				<div class="attention-area">							
					<p class="tit-01 mt30">
						전화상담 서비스란?
					</p>						
					<p class="txt-01 mt10">
						제품 전문 상담원이 고객님이 원하는 시간에 맞춰<br />
						최상의 프로모션, 최적의 제품을 전화상담드립니다.
					</p>
					
					<div class="txt-02 logoff"> <!--logoff / logon 클래스로 비로그인/로그인문구 노출 구별-->
						로그인 후 상담 신청하시면 더 많은 혜택을 받아 보실 수 있습니다.
						<div style="margin-top: 20px;">			
							<a href="/join/indexJoin" class="btn_ghost"><span>회원가입</span></a>
							<a href="/indexLogin" class="btn_ghost"><span>로그인</span></a>
						</div>
					</div>
					
				</div>
				
				<ul class="itemList form">
					
					<li>
						<em class="stit require">신청자 아이디</em>
						<div class="cont">							
							
														
							<input type="text" value="비회원 고객입니다." disabled="disabled">							
						</div>
					</li>
					
					<li><em class="stit require">신청자 이름</em>
						<div class="cont">
							<input type="text" name="apctNm" class="req"
								onkeyup="javascript:validateGoodsInquiry.checkByte('',this,20);"
								onfocusout="javascript:validateGoodsInquiry.validateMbrNm(this);"
								placeholder="이름을 입력해주세요."> <input type="hidden"
								name="mbrTpCd">
							<p class="txtMsg">이름을 입력해 주세요.</p>
							<!-- 오류 메세지 -->
						</div></li>
					<li><em class="stit require">연락처</em>
						<div class="cont">
							<input type="hidden" name="hiddenMbrMobile" id="hiddenMbrMobile" /> <!-- SR2303-02586 -->
							<input type="text" name="telNo"  class="req"
								onfocusout="javascript:validateGoodsInquiry.validateMobile(this);"
								placeholder="숫자만 입력해주세요." maxlength="11">
							<p class="txtMsg">연락처를 입력해 주세요.</p>
							<!-- 오류 메세지 -->
						</div>
					</li>

						<li>
						<em class="stit require">상담 요청시간</em>
						<div class="cont">									
							<div>
								<div class="radio">
									<input type="radio" class="req" id="rd_22" name="rd" value ="1012" data-text ="오전 10:00 ~ 12:00" >
									<label for="rd_22">오전 10:00 ~ 12:00</label>
								</div>
							</div>
							<div class="mt10">
								<div class="radio">
									<input type="radio" class="req" id="rd_23" name="rd" value ="1214" data-text ="점심 12:00 ~ 14:00" >
									<label for="rd_23">점심 12:00 ~ 14:00</label>
								</div>
							</div>
							<div class="mt10">
								<div class="radio">
									<input type="radio" class="req" id="rd_24" name="rd" value ="1418" data-text ="오후 14:00 ~ 18:00" >
									<label for="rd_24">오후 14:00 ~ 18:00</label>
								</div>
							</div>
							<div class="mt10">
								<div class="radio">
									<input type="radio" class="req" id="rd_21" name="rd" value ="0000" data-text ="선택없음(빠른상담요청)">
									<label for="rd_21">선택없음(빠른상담요청)</label>
								</div>
							</div>
							<p class="desc mt5">※ 영업일 기준 순차적 상담 전화 드릴 예정입니다! (주말/공휴일 제외)</p><!-- 20210604 추가 -->
						</div>
					</li>
					<li><em class="stit vtop">메모 <span class="length" id="quikConsultmemoByte_tel_goodsDetail">(0/300)</span></em>
						<div class="cont">
							<div class="textarea">
								<textarea cols="" rows="3" name="memoContent"
									onkeyup="javascript:validateGoodsInquiry.checkByte('quikConsultmemoByte_tel_goodsDetail',this,300);"
									placeholder="상담 진행 시 참고할 점이 있다면 남겨주세요."></textarea>
							</div>
						</div>
					</li>
					
					<!-- 20230329 추천인 추가 s SR2303-02586 -->
					
					<!-- 20230329 추천인 추가 e -->
					
					<!-- [SR2304-03080]신제품 얼음정수기 출시기념 패밀리몰 이벤트 추가  > SK매직 구성원 추천 s -->
					<input type="hidden" id="rcmnEmplCheckYn" name="rcmnEmplCheckYn" value="N"> <!-- 별도지인추천 조회여부-->
					<input type="hidden" name="rcmnEmplNo" id="rcmnEmplNo">
					
					<!-- [SR2304-03080]신제품 얼음정수기 출시기념 패밀리몰 이벤트 추가  > SK매직 구성원 추천 e -->
					
					<!-- 2023.01.20. 타사 보상 여부 항목 추가 (매직몰, 패밀리몰)-->
					 
				</ul>

				<div class="agreeBox chk">
					<div class="agree">
						<div class="checkbox">
							<input type="checkbox" class="req" id="agreePersonalInfoConsult" name="agreePersonalInfoConsult">  
							<label for="agreePersonalInfoConsult"><em>[필수]</em> 개인정보 수집 및 이용 동의</label>
						</div>
						<a href="#layPrivacyComm" class="btns btnLayer">전문보기</a>
					</div>
							
					<div class="agree">
						<div class="checkbox">
							<input type="checkbox" class="req" id="agree14" name="agree14"> 
							<label for="agree14"><em>[필수]</em> 14세 이상입니다(14세 미만은 신청 제한)</label>
						</div>						
					</div>
					
				</div>
			</div>


			<div class="btnArea">
				<input type="hidden" name="psvInltDmymd">
				<a href="#" class="btn red" onclick="javascript:simpleConsult_goodsDetail();return false;">상담신청</a>
			</div>

		</div>
		<!-- layerCont : e -->
		<a href="#" class="btnClose btnLayerClose">레이어 팝업 닫기</a>
	</div>
</div>


<!-- [상품상세 - 방문렌탈 상담 신청] 레이어 팝업 : s -->
<div class="layerPop" id="layVisitConsult">
	<div class="dim"></div>
	<div class="layerPopArea Allconsult">
		<!-- layerCont : s -->
		<div class="layerCont consultApply consult_visit_goodsDetail">
			<h2 class="popTit">방문렌탈 상담 신청</h2>		
					<div class="popSec"><!-- 20230314 방문상담 -->
						<div class="attention-area attention-area2">							
							<p class="tit-01 mt30">
								방문상담 서비스란?
							</p>						
							<p class="txt-01 mt10">
								우리동네 전문가 매직케어가<br />
								고객님께 직접 방문하여 최적의 제품을 추천드립니다.<br />
								<span>( 신청완료 후 1일이내 방문일정협의 )</span>
								<em class="s_txt">비회원 상태에서도 간편하게 이용이 가능합니다.</em>
							</p>
						</div>
						<ul class="itemList form">				
							<li class="s_title">
								<em class="">STEP1. 상담이 필요하신 내용을 입력해주세요.</em>
							</li>							
							<li>
								<em class="stit require">제품명</em>
								<div class="cont">
									<input type="text" value="초소형 직수 정수기_셀프관리	(WPUJAC104SWH)" disabled="disabled">
								</div>
							</li>		
							<li>
								<em class="stit vtop">상담필요사항<span class="length" id="quikConsultmemoByte_visit_goodsDetail">(0/300)</span></em>
								<div class="cont">
									<div class="textarea"><textarea cols="" rows="3" name="memoContent" onkeyup="javascript:validateGoodsInquiry.checkByte('quikConsultmemoByte_visit_goodsDetail',this,300);" placeholder="신규 렌탈 상담 진행 시 참고할 점이 있다면 남겨주세요."
									onkeyup="javascript:validateGoodsInquiry.checkByte('quikConsultmemoByte_visit',this,300);"
											 placeholder="신규 렌탈 상담 진행시 참고할 점이 있다면 남겨주세요."></textarea>
									</div>
								</div>
							</li>	
							<li class="s_title">
								<em class="">STEP2. 상담에 필요한 고객정보를 입력해주세요.</em>
							</li>																					
							<li>
								<em class="stit require">신청자 아이디</em>
								<div class="cont"> 
									
																
									<input type="text" value="비회원 고객입니다." disabled="disabled">
									<p class="desc">※ 비회원은 포인트가 적립되지 않습니다. 지금 회원가입하시고 포인트 혜택도 받아가세요!</p>							
								</div>
							</li> 
							<li><em class="stit require">신청자 이름</em>
								<div class="cont">
									<input type="text" name="apctNm" class="req"
										onkeyup="javascript:validateGoodsInquiry.checkByte('',this,20);"
										onfocusout="javascript:validateGoodsInquiry.validateMbrNm(this);"
										placeholder="이름을 입력해주세요."> <input type="hidden"
										name="mbrTpCd">
									<p class="txtMsg">이름을 입력해 주세요.</p>
									<!-- 오류 메세지 -->
								</div>
							</li> 
							<li><em class="stit require">연락처</em>
								<div class="cont">
									<input type="text" name="telNo" class="req"
										onfocusout="javascript:validateGoodsInquiry.validateMobile(this);"
										placeholder="숫자만 입력해주세요." maxlength="11">
									<p class="txtMsg">연락처를 입력해 주세요.</p>
									<!-- 오류 메세지 -->
								</div>
							</li>
							<li>
								<em class="stit require">주소</em>
								<div class="cont consultAddr">
									<span class="inputWrap">
										<input type="text"  value="" class="req" name="dispPostNo"  placeholder="우편번호" disabled style="width:300px;">
		 								<a href="#layPostSearch" class="btn bk btnLayer" id="btnSearchPost"><span>우편번호 검색</span></a>
									</span>
									<span class="inputWrap">
										<input type="text" class="req" value=""  name="dispAddr" disabled>
									</span>
									<span class="inputWrap">
										<input type="text" id="order_payment_dlvra_disp_road_addr_dtl" value="" name="dispAddrDtl" placeholder="나머지 주소를 입력해주세요.">
									</span>
									<input type="hidden"  name="postNo"     title="우편번호" value="" />
									<input type="hidden"  name="addr"       title="지번기본주소" value="" />
									<input type="hidden"  name="addrDtl"    title="지번상세주소" value="" />
									<input type="hidden"  name="addrPrt"    title="구주소번지" value="" />
									<input type="hidden"  name="bdCode"     title="건물관리코드" value="" />
									<input type="hidden"  name="roadAddrDtl" title="도로명상세주소" value="" />
									<input type="hidden"  name="instDept"   title="설치센터" value="" />
								</div>
							</li>
							<!-- 2023.01.20. 타사 보상 여부 항목 추가 (매직몰, 패밀리몰)-->
								
						</ul>
						<div class="agreeBox chk">
							<div class="agree">
								<div class="checkbox">
									<input type="checkbox" id="agreePersonalInfoConsult2" class="req"
										name="agreePersonalInfoConsult2">
									<label for="agreePersonalInfoConsult2"><em>[필수]</em> 개인정보 수집 및 이용 동의</label>
								</div>
								<a href="#layPrivacyComm" class="btns btnLayer">전문보기</a>
							</div>
									
							<div class="agree">
								<div class="checkbox">
									<input type="checkbox" id="agree14_" class="req"
										name="agree14_">
									<label for="agree14_"><em>[필수]</em> 14세 이상입니다(14세 미만은 신청 제한)</label>
								</div>								
							</div>
							
						</div>
						<!--20230703 방문상담 문구추가 s-->
						<p class="em mt30">※ 방문상담을 통해 계약 체결시 계약 사항(렌탈가격, 사은품 등)은 SK매직몰과 다를 수 있습니다.</p>								
						<!--20230703 방문상담 문구추가 e-->										
					</div>
					<div class="btnArea">
		 				<input type="hidden" name="psvInltDmymd">
						<a href="#" class="btn red" onclick="javascript:simpleVisitConsult_goodsDetail();return false;">상담신청</a>
					</div>
					<!-- 20230314 방문상담 -->
				<a href="#" class="btnClose btnLayerClose">레이어 팝업 닫기</a>
		</div>
	</div>
</div>

<!-- 상품상세 - 렌탈혜택 선물하기] 레이어 팝업 : s -->
<div class="layerPop" id="popGiftlayer">
	<div class="dim"></div>
	<div class="layerPopArea Allconsult">
		<!-- layerCont : s -->
		<div class="layerCont consultApply consult_gift_goodsDetail">
			<h2 class="popTit">렌탈혜택 선물하기</h2>		
					<div class="popSec">
						<div class="banner-area" style="background-color: #ffcfcf;  text-align: center;  margin-bottom: 30px; font-size: 20px;">						
							<img src="https://static.skmagic.com/image/editor/event/202404/1713230057716438.jpg" style="width: 100%;"/>
						</div>
						<ul class="itemList form">			
							<li>
								<em class="stit require" style="width: 100px;">받는분 이름</em>
								<div class="cont">
										<input type="text" name="apctNm" class="req"
										onkeyup="javascript:validateGoodsInquiry.checkByte('',this,20);"
										onfocusout="javascript:validateGoodsInquiry.validateMbrNm(this);"
										placeholder="이름을 입력해주세요.">
									<p class="txtMsg">이름을 입력해 주세요.</p>
								</div>
							</li>
							<li>
								<em class="stit require" style="width: 100px;">받는분 연락처</em>
								<div class="cont">
									<div class="cont">
									<input type="text" class="req" name="telNo" onfocusout="javascript:validateGoods.validateMobile(this);" value="" placeholder="숫자만 입력해주세요." maxlength="11">
									<p class="txtMsg">연락처를 입력해 주세요.</p>
									<input type="hidden" name="hiddenMbrMobile"/>
								</div>
								</div>
							</li>									
							<li>
								<em class="stit vtop" style="width: 100px;">메모<span class="length" id="quikConsultmemoByte_gift">(0/300)</span></em>
								<div class="cont">
									<div class="textarea"><textarea name="memoContent" cols="" rows="3" placeholder="신규 렌탈 상담 진행시 참고할 점이 있다면 남겨주세요."
									 onkeyup="javascript:validateGoodsInquiry.checkByte('quikConsultmemoByte_gift',this,300);"></textarea></div>
								</div>
							</li>										
						</ul>
						<div class="agreeBox chk">
							<div class="agree">
								<div class="checkbox">
									<input type="checkbox" class="req" id="agree_gift_id" name="">
									<label for="agree_gift_id"><em>[필수]</em> 개인정보 수집 및 이용 동의</label>
								</div>
								<a href="#layPrivacyComm" class="btns btnLayer">전문보기</a>
							</div>
							<div class="agree">
								<div class="checkbox">
									<input type="checkbox" class="req"  id="agree_gift_age" name="">
									<label for="agree_gift_age"><em>[필수]</em> 선물 받는 분이 14세 이상입니다. (14세 미만은 신청 제한)</label>
								</div>															
							</div>
						</div>		
					</div>
					<div class="btnArea">
						<input type="hidden" name="psvInltDmymd">
						<input type="radio" name="rd" value ="0000" data-text ="선택없음(빠른상담요청)" style="display: none;" checked>
						<a href="#" class="btn red" onclick="javascript:simpleGiftConsult_goodsDetail();">전화상담신청</a>
					</div>
		</div>
		<!-- layerCont : e -->
		<a href="#" class="btnClose btnLayerClose">레이어 팝업 닫기</a>
	</div>
</div>
<!-- [렌탈혜택 선물하기] 레이어 팝업 : e -->


<form id="frmConsultInfo" method="post" style="display: none;">
	
		
		
		
			<input type="hidden" name="loginId" value="">
		
	
	<input type="hidden" name="psvInltDmymd">
	<input type="hidden" name="quikApctNm" value="">
	<input type="hidden" name="quikConsultTelNo" value="">
	<input type="hidden" name="psvCallReqTime" value="">						
	<input type="hidden" name="quickMenu" value="">
	<input type="hidden" name="addr" value="">						
	<input type="hidden" name="consultGoodsNm" value="">
	<input type="hidden" name="tradeInYn" value="">				
</form>
    <!-- 퀵메뉴 : e -->
    <!-- footer : s -->
    






<script type="text/javascript">
    
/*** IE 버전 체크 ***/   
function BrowserVersionCheck() { 
    var ieName = navigator.appName; 
    // IE old version ( IE 10 or Lower ) 인 경우 세이프키 발급 막음 
    if ( ieName == "Microsoft Internet Explorer" ){ 
    	$("#safekeyBtn").hide();
    }
};
/**
 * SafeKey발급화면 오픈
 */
function fncFooterSafekeyOpen() {
	gfnOpenPopupFooterSafeKey('fncFooterSafeKeyCallBack');
}

/**
 * 렌탈키(safeKey) 셋팅 callbackFunction
 */
function fncFooterSafeKeyCallBack(result) {
}

/** 사업자 등록확인 */
function fncBizInfoOpen() {
	var bizno = "1048648203";
	var url ="http://www.ftc.go.kr/bizCommPop.do?wrkr_no="+1048648203;
	window.open(url, "bizCommPop", "width=750, height=1060");
}
</script>

<script type="text/javascript">
    /**
     * Google Analytics Tag
     */
    function fn_gatag(vCategory, vAction, vLabel, vUrl, vNewWindow){

    	
        try{gfn_gaCommonEvent( vCategory, vAction, vLabel);}catch(e){}
        

         var isNotNull = true;
         var emptyValues = [undefined, null, false, 0, '', '0'];
         for (var i = 0; i <  emptyValues.length; i++) {
             if (vUrl === emptyValues[i]) {

                 isNotNull = false;
                 break;
             }
         }

         if(isNotNull){

             if(vNewWindow){

                 var openNewWindow = window.open("about:blank");
                     openNewWindow.location.href =  vUrl;
             }else{

                 location.href = vUrl;
             }
         }

    }
    
	/*************************
	 * Safekey 동의 전체체크 토글
	 *************************/
	function toggleSafekeyAgreeAll2(){	
		if($("#safekeyAgree2All").prop("checked")==true){
			$("input[id^='safekeyAgree2_']").prop("checked",true);
		}else{
			$("input[id^='safekeyAgree2_']").prop("checked",false);
		}
	}

	/*************************
	 * Safekey 동의 체크 토글
	 *************************/
	function toggleSafekeyAgree2(obj){
		if($(obj).prop("checked")==true){
			var isAllChecked = true;
			var cb = $("input[id^='safekeyAgree2_']");
			for(var i=0; i<cb.length; i++){
				if(cb[i].checked==false){
					isAllChecked = false;
					break;
				}
			}
			if(isAllChecked==false){
				$("#safekeyAgree2All").prop("checked",false);
			}else{
				$("#safekeyAgree2All").prop("checked",true);
			}
		}else{
			$("#safekeyAgree2All").prop("checked",false);
		}
	}

	/*************************
	 * 세이프키 발급창 기본 세팅
	 *************************/
	function memberInfoSet2(){

		/*if($("#safekeyAgree2_Privacy").prop("checked")==false){
			alert("개인정보 수집/이용 안내에 동의해 주세요.");
			$("#safekeyAgree2_Privacy").focus();
			return;
		}*/
		if($("#safekeyAgree3_Credit").prop("checked")==false){
			alert("수집항목에 동의해 주세요.");
			$("#safekeyAgree3_Credit").focus();
			return;
		}

		gfnCloseLayer($("#layRentalService2"));
		// 20220311 커피머신 개발 지원으로 기존 SafeKey 데이터 update 안되어 변경작업  KGS
		gfnOpenPopupSafeKey('fncSafeKeyCallBackTyUpdate'); 
		
		
	}
	
	// 20220311 커피머신 개발 지원 KGS
	// 추출한tySafeKey update 작업
	function fncSafeKeyCallBackTyUpdate(data) {
		var mbrNo = '0';
		var strBirth = data.birth+"";
		var strName = data.name;
		var strGender = data.gender;
		var strMobile = data.phNum;
		var safeKeyNum = data.safeKeyNum;

		
		var options = {
				url : "/goods/updateMemberInfo",
				data : {
					"mbrNm" : strName
					, "birth" : strBirth
					, "mobile" : strMobile
					, "gdGbCd" : strGender
					, "mbrNo" : 0
					, "tySafeKey" : safeKeyNum
				},
				done : function(data){
							location.reload();
				}
		};
		ajax.call(options);
	}
    
</script>

<!-- footer : s -->
<div id="footer" class="footer_new">
	<div class="topsec">			
			<div class="left">
				<h1>
					<a href="/main">
						<img src="https://static.skmagic.com/pc/asset/images/main_2022/footer_logo.png" alt="">
					</a>
				</h1>					
				<div class="corpInfo">
					<p>
						<span>SK매직(주)</span>
						
						
						
						
						
						<span>대표이사 : 김완성</span>	
						
											
					</p>
					<p>
						<span>주소 : 서울특별시 종로구 청계천로 85, 18층(관철동, 삼일빌딩)</span>							
						<span>사업자등록번호 : 104-86-48203 <a href="#" onclick="fncBizInfoOpen();return false;">사업자정보확인</a></span>
					</p>
					<p>							
						<span>통신판매업신고번호 : 제 2021-서울종로-0814호</span>
					</p>
					<p>							
						<span>COPYRIGHT © SK매직(주) ALL RIGHTS RESERVED.</span>
					</p>
				</div>
				<div class="isms-area">
					<dl>
						<dt>인증범위 : </dt>
						<dd>대고객 서비스 및 통합영업관리시스템</dd>
					</dl>
					<dl>
						<dt>유효기간 : </dt>
						<dd>2023.04.05 ~ 2026.04.04</dd>
					</dl>
				</div>				
			</div>
			<div class="right">										
				<div class="familySite">
					<a href="#" onclick="fn_gatag('매직_PC_공통', '푸터', 'Family Site', null); return false;">Family Site</a>
					<div class="list">
						<ul>
							<li><a href="#" onclick="fn_gatag('매직_PC_공통', '푸터', 'SK네트웍스', 'https://www.sknetworks.co.kr/businessInfo/rental.do'); return false;">SK네트웍스</a></li>	
							<li><a href="#" onclick="fn_gatag('매직_PC_공통', '푸터', 'SK매직 홈페이지', 'https://company.skmagic.com/'); return false;">SK매직 홈페이지</a></li>	
							<li><a href="#" onclick="fn_gatag('매직_PC_공통', '푸터', 'SK매직 서비스센터', 'https://service.skmagic.com/web/main/main.do'); return false;">SK매직 서비스센터</a></li>	
 						</ul>
					</div>
				</div>
				<dl class="cscenter">
					<dt class="white">렌탈/구매/쇼핑몰이용 문의</dt>
					<dd class="white">1600-6446</dd>
					<dt>렌탈계약상담 및 문의</dt>
					<dd>1600-1661</dd>
					<dt>배송문의</dt>
					<dd>1644-7272</dd>
				</dl>				
			</div>			
	</div>
	<div class="btmsec">
		<ul class="footerMenu">
			<li><a href="#" onclick="fn_gatag('매직_PC_공통', '푸터', '회사소개', 'https://company.skmagic.com', true); return false;">회사소개</a></li>
			
				<li><a href="#" onclick="fn_gatag('매직_PC_공통', '푸터', '대량 렌탈/구매 문의', '/customer/qnaCoop'); return false;">대량 렌탈/구매 문의</a></li>
			
			<li><a href="#" onclick="fn_gatag('매직_PC_공통', '푸터', '이용약관', '/introduce/terms/termsService'); return false;">이용약관</a></li>
			<li><a href="#" onclick="fn_gatag('매직_PC_공통', '푸터', '개인정보처리방침', '/introduce/privacy/indexPrivacy?pos=FOOTER'); return false;" class="em">개인정보처리방침</a></li>
			<li><a href="#" onclick="fn_gatag('매직_PC_공통', '푸터', '계약서 안내', '/introduce/contract/indexContract'); return false;">계약서 안내</a></li>
			<li><a href="#" onclick="fn_gatag('매직_PC_공통', '푸터', '소비자분쟁해결기준', '/customer/subFeeCertify'); return false;">소비자분쟁해결기준</a></li>
			<!-- SK매직몰 또는 패밀리몰 이외는 렌탈키 발급을 사용안함. -->
			
				

					<li id ="safekeyBtn"><a href="#layRentalService2" class="btnLayer"> SafeKEY 발급</a></li>							
				
				
			
		</ul>			
			
		<div class="sns_wrap">
			<p class="tit">SNS</p>
			<ul class="list">
				<li><a href="#" onclick="fn_gatag('매직_PC_공통', '푸터', '페이스북', 'https://www.facebook.com/SKmagic.life', true); return false;" target="_blank" class="facebook">
					<img src="https://static.skmagic.com/pc/asset/images/main_2022/footer_sns01.png" alt="">
				</a></li>
				<li><a href="#" onclick="fn_gatag('매직_PC_공통', '푸터', '인스타그램', 'https://www.instagram.com/skmagic_official/', true); return false;" target="_blank" class="insta">
					<img src="https://static.skmagic.com/pc/asset/images/main_2022/footer_sns02.png" alt="">
				</a></li>
				<li><a href="#" onclick="fn_gatag('매직_PC_공통', '푸터', '유튜브', 'https://www.youtube.com/channel/UCcKmzgW07IZonw7H9MXuN7g/feed', true); return false;" target="_blank" class="youtube">
					<img src="https://static.skmagic.com/pc/asset/images/main_2022/footer_sns03.png" alt="">
				</a></li>						
				<li><a href="#" onclick="fn_gatag('매직_PC_공통', '푸터', '블로그', 'http://blog.naver.com/tymagic_magic', true); return false;" target="_blank" class="blog">
					<img src="https://static.skmagic.com/pc/asset/images/main_2022/footer_sns04.png" alt="">
				</a></li>						
			</ul>
		</div>		
	</div>
</div>
<!-- footer : e -->


<!-- Google Tag Manager (noscript) start -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KFPHN7B" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- Google Tag Manager (noscript) end -->
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MC6PTZB"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

<!-- EDN 플러스 스크립트 start -->
<iframe id="hfrADCheck" src="//adcheck.about.co.kr/mad/prd/view?shopid=magic09" scrolling="no" frameborder="0" width="0" height="0"></iframe>
<!-- EDN 플러스 스크립트 end -->

<!-- Google 리마케팅 태그 코드 start -->
<script type="text/javascript">
/* <![CDATA[ */
var google_conversion_id = 840191805;
var google_custom_params = window.google_tag_params;
var google_remarketing_only = true;
/* ]]> */
</script>
<script type="text/javascript" src="//www.googleadservices.com/pagead/conversion.js"></script>
<noscript><div style="display:inline;"><img height="1" width="1" style="border-style:none;" alt="" src="//googleads.g.doubleclick.net/pagead/viewthroughconversion/840191805/?guid=ON&amp;script=0"/></div></noscript>
<!-- Google 리마케팅 태그 코드 end -->

<!-- 다음 리마케팅 태그 코드 start -->
<script type="text/javascript">
    var roosevelt_params = {
        retargeting_id:'Rl5d3JRKtBOI1Zsdr6Azrw00',
        tag_label:'E9fXTCL2RcWyDq_-1vdMqQ'
    };
</script>
<script type="text/javascript" src="//adimg.daumcdn.net/rt/roosevelt.js" async></script>
<!-- 다음 리마케팅 태그 코드 end -->


<!-- WIDERPLANET  SCRIPT START -->
<div id="wp_tg_cts" style="display:none;"></div>
<script type="text/javascript">
var vHcuid = '';



	vHcuid = '';




var wptg_tagscript_vars = wptg_tagscript_vars || [];
wptg_tagscript_vars.push(
(function() {
	return {
		wp_hcuid : vHcuid,   /*고객넘버 등 Unique ID (ex. 로그인  ID, 고객넘버 등 )를 암호화하여 대입.
				*주의 : 로그인 하지 않은 사용자는 어떠한 값도 대입하지 않습니다.*/
		ti : "40378",	/*광고주 코드 */
		ty : "Home",	/*트래킹태그 타입 */
		device : "web"	/*디바이스 종류  (web 또는  mobile)*/

	};
}));
</script>
<script type="text/javascript" async src="//cdn-aitg.widerplanet.com/js/wp_astg_4.0.js"></script>
<!-- // WIDERPLANET  SCRIPT END -->

<!-- kakao 픽셀 스크립트 start -->
<script type="text/javascript" charset="UTF-8" src="//t1.daumcdn.net/adfit/static/kp.js"></script>
<script type="text/javascript">
      kakaoPixel('7644274910592417373').pageView();
    	//2021.02.02 추가(위더스 IMC)
      kakaoPixel('3295449034798877540').pageView('sk_visit');
</script>
<!-- kakao 픽셀 스크립트 end -->

<!-- 20221110 뷰저블 코드 start -->
<script type="text/javascript">
(function(w, d, a){
    w.__beusablerumclient__ = {
        load : function(src){
            var b = d.createElement("script");
            b.src = src; b.async=true; b.type = "text/javascript";
            d.getElementsByTagName("head")[0].appendChild(b);
        }
    };w.__beusablerumclient__.load(a + "?url=" + encodeURIComponent(d.URL));
})(window, document, "//rum.beusable.net/load/b210525e180249u298");
</script>	
<!-- 20221110 뷰저블 코드 end -->

<!-- 20221110 kakao 픽셀 스크립트 신규 start -->
<script type="text/javascript" charset="UTF-8" src="//t1.daumcdn.net/kas/static/kp.js"></script>
<script type="text/javascript">
      kakaoPixel('7644274910592417373').pageView('전체 방문자 수집_new');
</script>
<!-- kakao 픽셀 스크립트 end -->

<!-- Event snippet for 전체 페이지뷰 conversion page -->
<script>
  gtag('event', 'conversion', {'send_to': 'AW-455254603/JwunCOn1pPMBEMvEitkB'});
</script>

<!-- Naver Toast tagmanager start  -->
<script type="text/javascript" src="//static.tagmanager.toast.com/tag/view/1036"></script>
<script type="text/javascript">
	window.ne_tgm_q = window.ne_tgm_q || [];
	window.ne_tgm_q.push(
	{
		tagType: 'visit',
		device:'web'/*web, mobile, tablet*/,
		uniqValue:'',
		pageEncoding:'utf-8'
	});
</script>
<!-- Naver Toast tagmanager start  -->

<!-- 뷰저블 script -->
<script type="text/javascript">
(function(w, d, a){
    w.__beusablerumclient__ = {
        load : function(src){
            var b = d.createElement("script");
            b.src = src; b.async=true; b.type = "text/javascript";
            d.getElementsByTagName("head")[0].appendChild(b);
        }
    };w.__beusablerumclient__.load(a);
})(window, document, "//rum.beusable.net/script/b210525e180249u298/4938b0cf98");
</script>
<!-- 뷰저블 script -->

<!-- Enliple Tracker Start -->
<script type="text/javascript">
(function(a,g,e,n,t){a.enp=a.enp||function(){(a.enp.q=a.enp.q||[]).push(arguments)};n=g.createElement(e);n.async=!0;n.defer=!0;n.src="https://cdn.megadata.co.kr/dist/prod/enp_tracker_self_hosted.min.js";t=g.getElementsByTagName(e)[0];t.parentNode.insertBefore(n,t)})(window,document,"script");
enp('create', 'common', 'magic09', { device: 'W' });  // W:웹, M: 모바일, B: 반응형
enp('send', 'common', 'magic09');
</script>
<!-- Enliple Tracker End -->




 



<script type="text/javascript">
window.name ="Parent_window";
function fncSafeKeyPopupInit(_initParam) {
	
	$("#safeKeyOpenApiFrm").find("input[type=text]").keypress(function(event) {
		var keyCode = event.keyCode ? event.keyCode : event.which ? event.which : event.charCode;
		if (keyCode == 13) {		// 엔터 시 로그인 처리
			niceSafeKeyHistoryCheckAjax();
		}
	});
	
	fncSafeKeyInit(_initParam);
	
	// 렌탈키확인 팝업창 닫기
	gfnPopupClose('laySafeKeyResult');
}

function fncSafeKeyInit(_initParam){
	
	validateMsg(false, $("#safeKeyOpenApiFrm #name" ));
	validateMsg(false, $("#safeKeyOpenApiFrm #birth"));
	validateMsg(false, $("#safeKeyOpenApiFrm #phNum"));
	
	if(_initParam == 'FreeMbrsh'){
		var layerTopMsg = '<p class="top">일시불케어 주문 인증키 발급</p><p>일시불케어 주문 관리를 위해 필요한 SafeKEY를 발급합니다.<br/>발급된 SafeKEY는 일시불케어 주문용 인증키로만 사용됩니다.</p>';
		$("#safeKeyOpenApiFrm #layerTopMsg").html(layerTopMsg);
	}else{
		var layerTopMsg = '<p class="top">렌탈인증키(SafeKEY) 발급/조회</p><p>실명확인에 필요한 정보를 입력해 주세요.</p>';
		$("#safeKeyOpenApiFrm #layerTopMsg").html(layerTopMsg);
	}
	
	if(_initParam=='FOOTER') {
		$("#safeKeyOpenApiFrm #workType").val("TY");
		$("#safeKeyOpenApiFrm #psvMenuGbn").val("MALL_SELE");
		$("#safeKeyOpenApiFrm #authParamR2").val("TY");
		
		$("#safeKeyOpenApiFrm #name" ).removeAttr("disabled");
		$("#safeKeyOpenApiFrm #birth").removeAttr("disabled");
		$("#safeKeyOpenApiFrm #phNum").removeAttr("disabled");
		$("#safeKeyOpenApiFrm input[name=gender]").removeAttr("disabled");
		

		$("#safeKeyOpenApiFrm #name" ).val("");
		$("#safeKeyOpenApiFrm #birth").val("");
		$("#safeKeyOpenApiFrm #phNum").val("")
		$("#safeKeyOpenApiFrm #safeKeyRadioCheckMan").attr("checked", true);
	} else if(_initParam == 'FAQ') {
		$("#safeKeyOpenApiFrm #workType").val("MS");
		$("#safeKeyOpenApiFrm #psvMenuGbn").val("MALL_MS");
		$("#safeKeyOpenApiFrm #authParamR2").val("MS");
		
		//$("#safeKeyOpenApiFrm #name" ).removeAttr("disabled");
		$("#safeKeyOpenApiFrm #birth").removeAttr("disabled");
		$("#safeKeyOpenApiFrm #phNum").removeAttr("disabled");
		$("#safeKeyOpenApiFrm input[name=gender]").removeAttr("disabled");
		

		//$("#safeKeyOpenApiFrm #name" ).val("");
		$("#safeKeyOpenApiFrm #birth").val("");
		$("#safeKeyOpenApiFrm #phNum").val("")
		$("#safeKeyOpenApiFrm #safeKeyRadioCheckMan").attr("checked", true);
		
		
			
				$("#safeKeyOpenApiFrm #name").removeAttr("disabled");
				$("#safeKeyOpenApiFrm #name").val("");
			
			
		
	} else if(_initParam == 'FreeMbrsh'){
		$("#safeKeyOpenApiFrm #workType").val("TY");
		$("#safeKeyOpenApiFrm #psvMenuGbn").val("MALL_SELE");
		$("#safeKeyOpenApiFrm #authParamR2").val("TY");
		
		$("#safeKeyOpenApiFrm #name").attr("disabled", "disabled");
		$("#safeKeyOpenApiFrm #name").val("GUEST");
		$("#safeKeyOpenApiFrm #birth").removeAttr("disabled");
		$("#safeKeyOpenApiFrm #phNum").removeAttr("disabled");
		$("#safeKeyOpenApiFrm input[name=gender]").removeAttr("disabled");
		
		$("#safeKeyOpenApiFrm #birth").val("");
		$("#safeKeyOpenApiFrm #phNum").val("")
		$("#safeKeyOpenApiFrm #safeKeyRadioCheckMan").attr("checked", true);
	} else {
		
		$("#safeKeyOpenApiFrm #workType").val($("#safeKeyOpenApiFrm #workType").attr("data-value"));
		$("#safeKeyOpenApiFrm #psvMenuGbn").val($("#safeKeyOpenApiFrm #psvMenuGbn").attr("data-value"));
		$("#safeKeyOpenApiFrm #authParamR2").val($("#safeKeyOpenApiFrm #workType").attr("data-value"));
		
		
			
				$("#safeKeyOpenApiFrm #name").removeAttr("disabled");
				$("#safeKeyOpenApiFrm #name").val("");
			
			
		
	}
}

function validateSafeKeyForm(){
	var name   = $("#safeKeyOpenApiFrm #name");
	var birth  = $("#safeKeyOpenApiFrm #birth");
	var phNum  = $("#safeKeyOpenApiFrm #phNum");
	var gender = $("#safeKeyOpenApiFrm input[name=gender]:checked");

	if(name.val() == ""){
		//alert("이름을 입력하세요.");
		validateMsg(true, name, '이름을 입력하세요.');
		validateMsg(false, $("#safeKeyOpenApiFrm #birth"));
		validateMsg(false, $("#safeKeyOpenApiFrm #phNum"));
		return false;
	}
	validateMsg(false, name);
	
	if(birth.val() == ""){
		//alert("생년월일을 입력하세요.");
		validateMsg(true, birth, '생년월일을 입력하세요.');
		validateMsg(false, $("#safeKeyOpenApiFrm #name" ));
		validateMsg(false, $("#safeKeyOpenApiFrm #phNum"));
		return false;
	}
	if(!valid.onlyNum.test(birth.val().trim())){
		//alert("올바른 생년월일을 입력하세요.(YYYYMMDD)");
		validateMsg(true, birth, '올바른 생년월일을 입력하세요.(YYYYMMDD)');
		validateMsg(false, $("#safeKeyOpenApiFrm #name" ));
		validateMsg(false, $("#safeKeyOpenApiFrm #phNum"));
		return false;
	}
	if(!valid.yyyyMMddFormat.test(birth.val().trim())){
		//alert("올바른 생년월일을 입력하세요.(YYYYMMDD)");
		validateMsg(true, birth, '올바른 생년월일을 입력하세요.(YYYYMMDD)');
		validateMsg(false, $("#safeKeyOpenApiFrm #name" ));
		validateMsg(false, $("#safeKeyOpenApiFrm #phNum"));
		return false;
	}
	validateMsg(false, birth);
	
	if(gender.val() == ""){
		//alert("성별을 입력하세요.");
		validateMsg(true, gender, '성별을 선택하세요.');
		return false;
	}
	
	if(phNum.val() == ""){
		//alert("휴대폰 번호를 입력하세요.");
		validateMsg(true, phNum, '휴대폰 번호를 입력하세요.');
		validateMsg(false, $("#safeKeyOpenApiFrm #name" ));
		validateMsg(false, $("#safeKeyOpenApiFrm #birth"));
		return false;
	}
	if(!valid.mobile.test(phNum.val().trim())){
		//alert("올바른 휴대폰번호를 입력하세요.");
		validateMsg(true, phNum, '올바른 휴대폰번호를 입력하세요.');
		validateMsg(false, $("#safeKeyOpenApiFrm #name" ));
		validateMsg(false, $("#safeKeyOpenApiFrm #birth"));
		return false;
	}
	validateMsg(false, phNum);
	
	return true;
}

// 2018.11.29 pdh 렌탈키 이력조회: 키 발급이력일자가 1년 이내여야 접수가 가능
function niceSafeKeyHistoryCheckAjax() {
	
	//오픈팝업 콜백함수명 가져오기(다이렉트렌탈/FOOTER  세이프키 발급 구분)	
	var _callbackfunctionName = $("#laySafeKey").attr("_callbackfunctionName");
	
	if(!validateSafeKeyForm()) {
		return;
	}

	var options = {
			  url  : "/common/getNiceSafeKeyHistoryCheckAjax"
			, data : $("#safeKeyOpenApiFrm").serializeJson()
			, done : function(args){
				if(args == null || args.vo == null) {
					//rtSafeKeyIssueAjax();
					// 2019.01.11 PDH. 상담접수 (매직몰에서 SAFEKEY 주민번호 입력 발급안함)
					// 1. 다이렉트 렌탈 주문
					if('callBackSafeKey' == _callbackfunctionName)		
					{
						// 2019.01.11 PDH. 상담접수 (매직몰에서 SAFEKEY 주민번호 입력 발급안함)
						safeKeyIssueTryCount++;
						if( safeKeyIssueTryCount >= "3" ) {
							fncSafeKeyViewCallBack(args.vo.nhSafeKey, "9999", "");	// 발급실패 창	
						} else {
							alert("입력하신 정보가 올바르지 않습니다.\n정보를 다시 확인해 주시거나, 고객센터(1600-1661)로 문의해주세요.");
						}
					}
					// 2. 다이렉트 렌탈이 아닌 경우 (FOOTER. 세이프키 발급)
					else {
						// rtSafeKeyIssueAjax();		// 신규발급 창
						alert("입력하신 정보가 올바르지 않습니다.\n정확한 정보를 입력하였으나 오류가 발생되는 경우, 나이스아이디(SK매직몰 본인인증 및 실명확인 대행업체)에 정보 수정 등록이 필요합니다.\nwww.niceid.co.kr (나이스아이디 고객센터 : 1600-1522)");
					}						

					
				} else {
					// 정상발급인 경우 
					if( args.vo.nhResultCode == "P000" || args.vo.nhResultCode == "0000") {			
						fncSafeKeyViewCallBack(args.vo.nhSafeKey, "0000", "");	// 발급완료 창					
					} 					
					// 발급실패인 경우 - 발급하지 않고 상담접수
					else 
					{
						// 1. 다이렉트 렌탈 주문
						if('callBackSafeKey' == _callbackfunctionName)		
						{
							// 2019.01.11 PDH. 상담접수 (매직몰에서 SAFEKEY 주민번호 입력 발급안함)
							safeKeyIssueTryCount++;
							if( safeKeyIssueTryCount >= "3" ) {
								fncSafeKeyViewCallBack(args.vo.nhSafeKey, "9999", "");	// 발급실패 창	
							} else {
								alert("입력하신 정보가 올바르지 않습니다.\n정보를 다시 확인해 주시거나, 고객센터(1600-1661)로 문의해주세요.");
							}
						}
						
						// 2. 다이렉트 렌탈이 아닌 경우 (FOOTER. 세이프키 발급)
						else {
							//rtSafeKeyIssueAjax();		// 신규발급 창
							alert("입력하신 정보가 올바르지 않습니다.\n정확한 정보를 입력하였으나 오류가 발생되는 경우, 나이스아이디(SK매직몰 본인인증 및 실명확인 대행업체)에 정보 수정 등록이 필요합니다.\nwww.niceid.co.kr (나이스아이디 고객센터 : 1600-1522)");
						}						
					}					
				}
			}
		};
	
		ajax.call(options);
}

//렌탈키 조회
function rtSafeKeyIssueAjax() {
	
	if(!validateSafeKeyForm()) {
		return;
	}
	
	var options = {
		  url  : "/common/rtSafeKeyIssueAjax"
		, data : $("#safeKeyOpenApiFrm").serializeJson()
		, done : function(args){
			if (args.openApiVO.resultCode != "0" || args.openApiVO.encData == "") {
				alert("발급오류! 고객센터로 문의 해 주시기 바랍니다.[ECODE:"+args.openApiVO.resultCode+"]");
				return;
			}
			niceSafekeyOpenPopup(args);
		}
	};

	ajax.call(options);
}

// 렌탈키 layer 오픈 및 view 셋팅
function fncSafeKeyViewCallBack(safekeyNum, code, msg) {
	var _callbackfunctionName = $("#laySafeKey").attr("_callbackfunctionName");
	
	var addHtml = "";
	if(code != '0000') {
		addHtml += '<div class="popMsgBox"> ';
		addHtml += '	<p class="top">GUEST 고객님! 렌탈 상담이 필요합니다.</p>';
		addHtml += '	<p>SAFEKEY 확인필요로 인해 다이렉트 렌탈이 불가능합니다.</p>';
		addHtml += '	<p>선택하신 제품과 지금까지 작성해 주신 주문 정보를 담아 상담센터에 접수해 드릴까요?</p>';
		addHtml += '	<p>전문 상담원이 정보 확인 이후 전화 드릴 예정이니 조금만 기다려주세요.</p>';
		addHtml += '</div>';
		addHtml += '<div class="btnArea">';
		addHtml += '	<a href="#" class="btn btnLayerClose">취소</a>';
		addHtml += '	<a href="#" class="btn bk btnLayerClose" onclick="fncSafeKeyConfirm();">접수</a>';
		addHtml += '</div>';
	} else {
		addHtml += '<div class="popMsgBox"> ';
		if('callBackSafeKeyFreeMbrsh' == _callbackfunctionName ){
			addHtml += '	<p class="top">일시불케어 주문 인증키 발급</p> ';
			addHtml += '	<p>발급이 완료되었습니다.<br>발급 절차를 정상적으로 마치기 위해 아래의 [확인] 버튼을 꼭 눌러 주세요!</p> ';
			addHtml += '	<div class="infoBox"> ';
			addHtml += '		<span class="safekeyNum">주문 인증키 <em id="tmpSafeKey">'+safekeyNum+'</em></span> ';
			addHtml += '	</div> ';
		}else{
			addHtml += '	<p class="top">렌탈인증키(SafeKEY) 발급/조회</p> ';
			addHtml += '	<p>발급이 완료되었습니다.<br>발급 절차를 정상적으로 마치기 위해 아래의 [확인] 버튼을 꼭 눌러 주세요!</p> ';
			addHtml += '	<div class="infoBox"> ';
			addHtml += '		<span class="safekeyNum">렌탈 인증키 <em id="tmpSafeKey">'+safekeyNum+'</em></span> ';
			addHtml += '	</div> ';
		}
		addHtml += '</div>  ';
		addHtml += '<div class="btnArea"> ';
		addHtml += '	<a href="#" class="btn bk btnLayerClose" onclick="fncSafeKeyConfirm();">확인</a> ';
		addHtml += '</div> ';
		
		$("#safeKeyOpenApiFrm #tmpsafekeynum").val(safekeyNum);
	}
	$("#laySafeKeyRtnMsgBox").html(addHtml);
	
	
	// 렌탈인증키발급 Form 팝업닫기
	gfnPopupClose('laySafeKey');
	
	gfnOpenLayer($('#laySafeKeyResult'), $(this));
}

// 부모창 렌탈키값 셋팅
function fncSafeKeyConfirm() {
	// 팝업창닫기
	gfnPopupClose('laySafeKeyResult');
	
	var result = new Object();
	result.safeKeyNum = $("#safeKeyOpenApiFrm #tmpsafekeynum").val();
	result.name       = $("#safeKeyOpenApiFrm #name").val();
	result.birth      = $("#safeKeyOpenApiFrm #birth").val();
	result.gender     = $("#safeKeyOpenApiFrm input[name=gender]:checked").val();
	result.phNum      = $("#safeKeyOpenApiFrm #phNum").val();
	
	// 폼초기화
	if($("#safeKeyOpenApiFrm")) {
		$("#safeKeyOpenApiFrm").each(function(){
		     this.reset();
		});
	}
	
	//오픈팝업 콜백함수명 가져오기
	var _callbackfunctionName = $("#laySafeKey").attr("_callbackfunctionName");
	//오픈팝업 콜백함수실행
	gfnCallCallbackFn(_callbackfunctionName, result);
}

//체크레이어 추가
function validateMsg(bool, validObj, msg) {
	if(bool) {
		$(validObj).parent().parent().addClass("validate");
		$(validObj).next("p").html(msg);
		$(validObj).focus();
	} else {
		$(validObj).parent().parent().removeClass("validate");
	}
}
</script>

<form name="safeKeyOpenApiFrm" id="safeKeyOpenApiFrm">
<input type="hidden" name="m" value="safekeyService">	
<input type="hidden" name="EncodeData" id="authEncodeData" 	value="">	
<input type="hidden" name="param_r1"   id="authParamR1" 	value="">
<input type="hidden" name="param_r2"   id="authParamR2" 	value="">
<input type="hidden" name="param_r3"   id="authParamR3" 	value="">
<input type="hidden" name="pGbn"       id="pGbn"			value="FRONT"><!-- Admin, Front 구분자 -->
<input type="hidden" name="returnUrl"><!-- JSP경로 예) /system/rtSafeKeyIssueRltViewPop -->
<input type="hidden" name="workType"   id="workType"   		value="MS" data-value="MS">
<input type="hidden" name="psvFlowGbn" id="psvFlowGbn" 		value="RD"><!-- 유통경로 -->
<input type="hidden" name="psvCustGbn" id="psvCustGbn" 		value="RD8"><!-- 고객그룹사 -->
<input type="hidden" name="psvMenuGbn" id="psvMenuGbn" 		value="MALL_GOODS"  data-value="MALL_GOODS"><!-- 인입경로 -->
<input type="hidden" name="psvUserId"  id="psvUserId"		value=""><!-- 사용자ID -->
<input type="hidden" name="tmpsafekeynum" id="tmpsafekeynum" />


<!-- [렌탈인증키 발급/조회] 레이어 팝업 : s -->
<div class="layerPop" id="laySafeKey">
	<div class="dim"></div>
	<div class="layerPopArea msg">
		<!-- layerCont : s -->
		<div class="layerCont">
			<div class="popMsgBox" id="layerTopMsg">
				<p class="top">렌탈인증키(SafeKEY) 발급/조회</p>
				<p>실명확인에 필요한 정보를 입력해 주세요.</p>
			</div>
			<div class="secCont">
				<ul class="itemList form">
					<li>
						<em class="stit">이름</em>
						<div class="cont">
							<input type="text" id="name"  name="name" value="" maxlength="40">
							<p class="txtMsg"></p>
						</div>
					</li>
					<li>
						<em class="stit">생년월일</em>
						<div class="cont">
							<input type="text" value="" placeholder="YYYYMMDD" id="birth" name="birth" maxlength="8" class="numberic" style="ime-mode:disabled">
							<p class="txtMsg"></p>
						</div>
					</li>
					<li>
						<em class="stit">성별</em>
						<div class="cont">
							<span class="inputWrap radio">
								<span class="radio">
									<input type="radio" id="safeKeyRadioCheckMan" name="gender" value="1" checked="checked">
									<label for="safeKeyRadioCheckMan">남</label>
								</span>
								<span class="radio">
									<input type="radio" id="safeKeyRadioCheckWoman" name="gender" value="0">
									<label for="safeKeyRadioCheckWoman">여</label>
								</span>
							</span>
							<p class="txtMsg"></p>
						</div>
					</li>
					<li>
						<em class="stit">휴대폰 번호</em>
						<div class="cont">
							<input type="text" placeholder="- 없이 숫자만 입력해주세요." id="phNum" name="phNum" maxlength="11" class="numberic" style="ime-mode:disabled">
							<p class="txtMsg"></p>
						</div>
					</li>
				</ul>
			</div>
			<p class="txtBtm">입력한 정보는 최신 회원 정보로 업데이트됩니다.</p>
			<div class="btnArea">
				<a href="#" class="btn btnLayerClose">취소</a>
				<a href="#" class="btn bk" onclick="niceSafeKeyHistoryCheckAjax();return false;">다음</a>
			</div>
		</div>
		<!-- layerCont : e -->
		<a href="#" class="btnClose02 btnLayerClose">레이어 팝업 닫기</a>
	</div>
</div>
<!-- [렌탈인증키 발급/조회] 레이어 팝업 : e -->

<!-- [렌탈인증키 발급/조회] 레이어 팝업 : s -->
<div class="layerPop" id="laySafeKeyResult">
	<div class="dim"></div>
	<div class="layerPopArea msg">
		<!-- layerCont : s -->
		<div class="layerCont" id="laySafeKeyRtnMsgBox">
			<div class="popMsgBox">
				<p class="top">렌탈인증키(SafeKEY) 발급/조회</p>
				<p>발급이 완료되었습니다.<br>발급 절차를 정상적으로 마치기 위해 아래의 [확인] 버튼을 꼭 눌러 주세요!</p>
				<div class="infoBox">
					<span class="safekeyNum">렌탈 인증키 <em id="tmpSafeKey"></em></span>
				</div>
			</div>
			<div class="btnArea">
				<a href="#" class="btn bk" onclick="fncSafeKeyConfirm();">확인</a>
			</div>
		</div>
		<!-- layerCont : e -->
		<a href="#" class="btnClose02 btnLayerClose">레이어 팝업 닫기</a>
	</div>
</div>
<!-- [렌탈인증키 발급/조회] 레이어 팝업 : e -->

<!-- Nice사 렌탈 발급/조회 팝업 Iframe -->
<div class="layerPop" id="laySafeKeyAuthPop">
	<div class="dim"></div>
	<div class="layerPopArea" style="width:680px;">
		<div class="layerCont" style="top:10px; margin-bottom:0px; width:600px;">
			<div class="popMsgBox" style="width:555px;">
				<p class="top">렌탈키(SafeKey) 고객인증 요청</p>
				<div class="infoBox">
					<span><iframe name="theFrame" style="top:0;left:0;width:100%;height:610px;z-index:99999"></iframe></span>
				</div>
			</div>
		</div>
		<a href="#" class="btnClose02 btnLayerClose">팝업 닫기</a>
	</div>
</div>

<!-- [NH_TERM 값이 12(개월)을 초과한 경우 접수불가] 레이어 팝업 : s -->
<div class="layerPop" id="laySafeKey12Term">
	<div class="dim"></div>
	<div class="layerPopArea msg">
		<!-- layerCont : s -->
		<div class="layerCont" id="laySafeKeyRtnMsgBox">
			<div class="popMsgBox">
				<p class="top">렌탈인증키(SafeKEY) 발급/조회</p>
				<p>세이프키 인증기간이 만료 되었습니다.<br>(동일 전화번호+세이프키로 1년 이내 발급이력 필요)<br>기존계약고객에 대해 다시한번 세이프키 발급 후 접수진행하여 주시기 바랍니다.</p>
			</div>
			<div class="btnArea">
				<a href="#" class="btn bk btnLayerClose">확인</a>				
			</div>
		</div>
		<!-- layerCont : e -->
		<a href="#" class="btnClose02 btnLayerClose">레이어 팝업 닫기</a>
	</div>
</div>
<!-- [NH_TERM 값이 12(개월)을 초과한 경우 접수불가] 레이어 팝업 : e -->

<!-- [세이프키  발급이력없음] 레이어 팝업 : s -->
<div class="layerPop" id="laySafeKeyNoHistory">
	<div class="dim"></div>
	<div class="layerPopArea msg">
		<!-- layerCont : s -->
		<div class="layerCont" id="laySafeKeyRtnMsgBox">
			<div class="popMsgBox">
				<p class="top">렌탈인증키(SafeKEY) 발급/조회</p>
				<p>세이프키 인증 받은 이력이 없습니다.<br>(동일 전화번호+세이프키로 1년 이내 발급이력 필요)<br>기존계약고객에 대해 다시한번 세이프키 발급 후 접수진행하여 주시기 바랍니다.</p>
			</div>
			<div class="btnArea">
				<a href="#" class="btn bk btnLayerClose">확인</a>
			</div>
		</div>
		<!-- layerCont : e -->
		<a href="#" class="btnClose02 btnLayerClose">레이어 팝업 닫기</a>
	</div>
</div>
<!-- [세이프키  발급이력없음] 레이어 팝업 : e -->

</form>
<!-- [렌탈서비스 이용가능 여부] 레이어 팝업 : s -->
<div class="layerPop" id="layRentalService2">
	<div class="dim"></div>
	<div class="layerPopArea">
		<!-- layerCont : s -->
		<div class="layerCont">
			<h2 class="popTit">렌탈 서비스 이용 가능 여부 조회</h2>
			<p class="popTxt2">렌탈 인증키를 통해 고객님의 서비스 이용 가능 여부를 조회할 예정입니다.<br>누락된 정보가 있거나 이용 동의 및 신용조회 동의를 하지 않으실 경우<br>렌탈 서비스를 이용하실 수 없으며, 타인 명의 도용 시 법적 불이익을 받을 수 있습니다.</p>
			 <div class="termsArea">
				<p class="tableTit">신용정보 조회 · 제공 동의(필수)</p>
				<div class="tblBox">
					<table class="tblCont col line">
						<caption></caption>
						<colgroup>
							<col style="width:20%;">
							<col style="width:40%;">
							<col style="width:*;">
						</colgroup>
						<thead>
						<tr>
							<th scope="col">구분</th>
							<th scope="col">신용정보조회 동의</th>
							<th scope="col">신용정보제공 동의</th>
						</tr>
						</thead>
						<tbody>
						<tr>
							<th scope="col">기관명</th>
							<td colspan="2"><span class="txtBlue">NICE평가정보㈜</span> <span class="txtRed">(신용조회회사)</span></td>
						</tr>
						<tr>
							<th scope="col">목적</th>
							<td><span class="txtBlue">상거래 설정/유지 및 채권추심을 위한 신용정보 조회</span></td>
							<td><span class="txtBlue">신용조회회사 관련 신용도 평가, 실명확인, 주민번호 대체키 발급, 렌탈거래실적 등록, 채무불이행 등록 등, 채권추심 등</span></td>
						</tr>
						<tr>
							<th scope="col">대상정보</th>
							<td><span class="txtBlue">개인식별정보(성명, 주소, 연락처, E-mail 등), 신용개설정보(대출/카드개설/신용거래개설 등), 연체정보 등 신용도판단정보, 신용등급 등</span></td>
							<td>개인식별정보(성명, 생년월일, 연락처, E-mail, 성별, 국적), 신용거래정보<span class="txtBlue">(본 거래 이전 및 이후의 실적을 포함한 거래내용), 연체정보 등 신용도판단정보</span></td>
						</tr>
						<tr>
							<th scope="col">보유 및 제공기간</th>
							<td><span class="txtBlue">동의서 제출 시부터 상거래 관계가 종료되는 시점까지</span></td>
							<td><span class="txtRed">채권의 소멸시효 만료일까지</span></td>
						</tr>
						</tbody>
					</table>
				</div>
				<p class="caution">※ 본 계약에 따른 신용정보조회는 신용등급에 영향을 주지 않으나, 연체로 인한 채무불이행 등록시에는 본인의 신용등급이 변동될 수 있습니다.</p>
			</div>
				<div class="agreeAllChk">
					<div class="checkbox">
						<input type="checkbox" id="safekeyAgree3_Credit" name="safekeyAgree3_Credit">
						<label for="safekeyAgree3_Credit">수집 항목에 동의합니다.</label>
					</div>
				</div>
			<div class="agreeBoxWrap">
				<p class="txtNotice">
					<strong>렌탈 인증키가 무엇인가요?</strong>
					<span class="txt dblock">고객님의 렌탈 서비스 이용 가능 여부 조회 및 렌탈 내역 관리를 위해 발급하는 <br>SK매직 고객 번호입니다.</span>
				</p>
			</div>
			<div class="btnArea">
				<a href="#" class="btn btnLayerClose">취소</a>
				<a href="#" class="btn bk" onclick="javascript:memberInfoSet2();return false;">동의</a>
			</div>
		</div>
		<!-- layerCont : e -->
		<a href="#" class="btnClose02 btnLayerClose">레이어 팝업 닫기</a>
	</div>
</div>
<!-- [렌탈서비스 이용가능 여부] 레이어 팝업 : e -->
    <!-- footer : e -->
</div>
<!-- wrap : e -->


 



<script type="text/javascript">
/** 
 * 화면 초기화
 */
function fncPostPopupInit() {
	$("#postResultList").find(">li").remove();
	$("#noDataFoundMsgDiv").hide();
	$("#postResultListDiv").show();
	$("#pageApi").hide();
	
	// form 초기화
	$(".postForm").each(function() {  
		this.reset();  
	});
	
	
	$("#keyword").focus();
}

/**
 * 수지원넷 검색처리
 */
function btnDoroSearch(){	
	if( $("#keyword").val() == "" ){
		//검색어를 입력해주세요.
		alert("검색어를 입력해주세요.");
		$("#keyword").focus();
		return;
	}
	
	var paramWord = $("#keyword").val();
	var paramPgNm = $("#currentPage").val();
	
	$("#paramWord").val(paramWord);
	$("#paramPgNm").val(paramPgNm);
	
	// 목록삭제
	$("#postResultList").find(">li").remove();
	// 조회 중 입니다. 잠시만 기다려주세요.
	//displayAlertMessage(true, "조회 중 입니다.<br/>잠시만 기다려주세요.");
	var options = {
		  url  : "/post/rfnCustCommonSearchAddrAjax"
		, data : $("#HiddenSrchAtForm").serializeJson()
		, done : function(args){
			try {
				if(args != null && args.vo.length != 0) {
					var param1 = args.vo.reCode;
					var param2 = JSON.stringify(eval(args.vo.retData));
					var param3 = parseInt(args.vo.totalCnt);
					var param4 = args.vo.pageLastNum;
					
					if(param1 == "0") {
						setSrchData(param1, "", param3, param4);
					} else {
						setSrchData(param1, param2, param3, param4);
					}
				} else {
					displayAlertMessage(true);
				}
			} catch (e) {
				
			}
		}
	};
	ajax.call(options);
}

/**
 * 수지원넷검색엔진 버튼 클릭이벤트
 */
function btnSearchEngin(){
	jQuery("#currentPage").val("1");
	btnDoroSearch();
}

/**
 * 수지원넷검색엔진 조회 엔터이벤트
 */
function enterSearch() {
	var evt_code = (window.netscape) ? ev.which : event.keyCode;
	if (evt_code == 13) {    
		event.keyCode = 0;  
		jQuery("#currentPage").val("1");
		$("#btnSearch").focus();
	} 
}

/**
 * 수지원넷검색엔진 조회 후 분기처리
 */
function setSrchData(resultCode, data, totalCount,lastPageNum){		
	if( resultCode == '0' ){
		//행자부API조회
		makeMoiLog();
	} else {	
		var pageNum = $("#currentPage").val();
		makeList(data, totalCount);
		
		if( totalCount < 1000 ){ 
			pageMake(lastPageNum, pageNum);
 		}
		
	}
}

/**
 * 수지원넷검색엔진 조회결과 리스트 생성
 */
function makeList(data, totalCnt){
	
	var htmlStr = "";
	var k = 1;
	var doroNm ="";
	var jibunNm ="";
	var zipSub = "";
	var dataList = JSON.parse(data);
	
	// 총건수가 1000개 이상이면 재입력을 요청한다.
	if( totalCnt >= 1000 ){
		//주소를 상세히 입력해 주세요.
		displayAlertMessage(true, "검색결과가 너무 많습니다<br>상세한 주소정보를 입력해주세요.");
		var alertMsg = "검색결과가 너무 많습니다<br>상세한 주소정보를 입력해주세요.".replace(/<br>/gi,"\n");
		alert(alertMsg);
		$("#keyword").focus();
		return;
	} else {
		
		if(dataList.length > 0){
			
			displayAlertMessage(false);
			
			//리스트화면 및 페이징처리 화면노출
			for(var i=0; i <dataList.length; i++){
				jibunNm   = dataList[i].ADR1+" "+dataList[i].RI+" "+dataList[i].BUNJI+" "+dataList[i].BLD;
				doroNm    = dataList[i].NADR1+" "+dataList[i].NADR3+" "+dataList[i].BLD;
				jibunAddr = dataList[i].ADR1+" "+dataList[i].RI;	
				jubunAddrDetail = dataList[i].BUNJI;
				doroAddr  = dataList[i].NADR1;
				doroAddrDetail = dataList[i].NADR3;
				bdlNm     = dataList[i].BLD;
				
				htmlStr += "<li>";                                                            												
				htmlStr += "	<div class='radio only'>";                                                     				
				htmlStr += "		<input type='radio' id='post_"+k+"' name='post' zip_no='"+dataList[i].ZIP+"' zip_nos='"+dataList[i].ZIPSEQJ+"' jibun_addr='"+jibunNm+"' road_addr='"+doroNm+"' bjc='"+dataList[i].BJC+"' nnmr='"+dataList[i].NNMR+"' nnmb='"+dataList[i].NNMB+"' jibun_addr1='"+jibunAddr+"' jibun_addrDetail='"+jubunAddrDetail+"' doro_addr1='"+doroAddr+"' doro_addrDeatil='"+doroAddrDetail+"' bld_Nm='"+bdlNm+"' onclick='selectPost(this);'>";
				htmlStr += "		<label for='post_"+k+"'>우편번호 선택</label>";
				htmlStr += "	</div>";
				htmlStr += "	<div class='num'>"+dataList[i].ZIP+"</div>";
				htmlStr += "	<div class='info'>";
				htmlStr += "		<span class='txt'><span class='flag'>도로명</span>"+doroNm+"</span>";
				htmlStr += "		<span class='txt'><span class='flag'>지번</span>"+jibunNm+"</span>";
				htmlStr += "	</div>";
				htmlStr += "</li>";
				
				k++;
			}
			
			
			
			//결과생성
			$("#postResultList").append(htmlStr);
		} else {
			//리스트화면 및 페이징처리 화면노출
			//displayAlertMessage(true);
			//읍면동검색
			btnDongSearch();
		}
	}
	// 스크롤 Refresh();
	designScroll();
}

/**
 * 수지원넷검색엔진 페이지 처리.
 */
function pageMake(lastPageNum, pageNum){	
	
	var paggingStr = "";
	
	paggingStr += "<div class='paging' id='pageApi'>";
	paggingStr += "<a href='javascript:goPage(1);' class='btnPaging btnFirst'>first</a>";
	paggingStr += "<a href='javascript:goPrevPage("+pageNum+")' class='btnPaging btnPrev'>prev</a>";
	paggingStr += "<div class='number'>";

	for( i=1; i<=lastPageNum; i++ ){
		if( pageNum == i ){
			paggingStr += "<a href='javascript:goPage("+i+");' class='on'>" + i + "</a>";
		}else{
			paggingStr += "<a href='javascript:goPage("+i+");'>" + i + "</a>";
		}
	}
	
	paggingStr += "	</div>";
	paggingStr += "	<a href='javascript:goNextPage("+lastPageNum+")' class='btnPaging btnNext'>next</a>";
	paggingStr += "	<a href='javascript:goPage("+lastPageNum+");' class='btnPaging btnLast'>last</a>";
	paggingStr += "</div>";
			
	$("#pageApi").html(paggingStr);
}

/**
 * 페이지 이동
 */
function goPage(_curPage){
	if($("#currentPage").val() == _curPage) return;
	$("#currentPage").val(_curPage);
	btnDoroSearch();
}

/**
 * 이전페이지이동
 */
function goPrevPage(_curPage) {
	if(_curPage > 1) {
		$("#currentPage").val(parseInt(_curPage) - 1 );
		btnDoroSearch();
	}
}

/**
 * 다음페이지이동
 */
function goNextPage(_lastPage) {
	var currentPage = $("#currentPage").val();
	if(currentPage < _lastPage) {
		$("#currentPage").val(parseInt(currentPage) + 1 );
		btnDoroSearch();
	}
}

/**
 * 우편번호 리스트 선택 후 셋팅 및 상세정보입력 이벤트.
 */
function selectPost(_object) {
	$("#addrZip").val( $(_object).attr("zip_no") );					//moi 우편번호 , suji 우편번호
	$("#addrZipS").val( $(_object).attr("zip_nos") );				//suji 우편일련번호
	$("#addr").val( $(_object).attr("road_addr") );					//moi 도로명풀주소 , suji 도로명풀주소
	$("#ji_addr").val( $(_object).attr("jibun_addr") );				//moi 지번풀주소 , suji 지번풀주소
	$("#bjc").val($(_object).attr("bjc"));							//moi 법정동코드 , suji 법정동코드
	$("#nnmr").val($(_object).attr("nnmr"));						//moi 도로명코드, suji 도로명코드
	$("#nnmb").val($(_object).attr("nnmb"));						//moi 건물관리번호, suji 건물관리번호
	$("#jibunAddr1").val($(_object).attr("jibun_addr1"));			//suji 지번+리
	$("#jibunAddrDeatil").val($(_object).attr("jibun_addrDetail"));	//suji 지번번지
	$("#doroAddr1").val($(_object).attr("doro_addr1"));				//suji 도로명
	$("#doroAddrDeatil").val($(_object).attr("doro_addrDeatil"));	//suji 도로명번지
	$("#bldNm").val($(_object).attr("bld_Nm"));						//moi 건물명, suji 건물명
	
	//화면노출주소변수 추가
	var dispaddr = getNodeValue($(_object).attr("road_addr")) == "" ? $(_object).attr("jibun_addr") : $(_object).attr("road_addr");
	
	//[SR2303-02858(회원배송지정보오류수정)]우편번호 선택시 기본주소에 도로명 추가
	dispaddr += getNodeValue($(_object).attr("bdNm")) == "" ? "" : " " + $(_object).attr("bdNm");
	
	$("#dispaddr").val(dispaddr);
	
	//상세 입력주소...
	$("#addrDtl").val("");																		
	$("#addrDtl").focus();
}

/**
 * 행자부 api 조회 전 로그생성
 */
function makeMoiLog() {
	var options = {
		  url  : "/post/insertPostSearchLogAjax"
		, data : { kwd:$("#keyword").val(), srchGbCd:"20" }
		, done : function(args){
			//행자부API조회
			makeErrorList();
		}
	};
	ajax.call(options);
}

/**
 * 수지원넷검색엔진 조회실패시, 행자부 api 조회.
 */
function makeErrorList(){
	// 조회 중 입니다. 잠시만 기다려주세요.
	//displayAlertMessage(true, "조회 중 입니다.<br/>잠시만 기다려주세요.");
	$.ajax({
		 url :"https://www.juso.go.kr/addrlink/addrLinkApiJsonp.do"  //인터넷망
		,type:"post"
		,data:$("#searchFrm").serialize()
		,dataType:"jsonp"
		,crossDomain:true
		,success:function(xmlStr){
			if( navigator.appName.indexOf("Microsoft") > -1 ) {
				var xmlData = new ActiveXObject("Microsoft.XMLDOM");
				xmlData.loadXML(xmlStr.returnXml)
			}else{
				var xmlData = xmlStr.returnXml;
			}
			
			var errCode = $(xmlData).find("errorCode").text();
			var errDesc = $(xmlData).find("errorMessage").text();		
			if(errCode != "0"){
				//읍면동검색
				btnDongSearch();
			}else{
				if(xmlStr != null){
					makeListMoi(xmlData);
					
					pageMakeMoi(xmlData);
					 
				}
			}
		}
	    ,error: function(xhr,status, error){
	    	//처리중 에러가 발생하였습니다.
	    	alert("처리중 에러가 발생하였습니다.");
	    }
	});
}

/**
 * 행자부API조회 리스트생성
 */
function makeListMoi(data){
	var htmlStr = "";
	var i = 1;
	var totalCnt = $(data).find("totalCount").text();
	if( totalCnt == '0' ){
		// 검색결과가 없습니다.
		// 읍면동 API 조회
		btnDongSearch();
		return;
	} else {
		
		//리스트화면 및 페이징처리 화면노출
		displayAlertMessage(false);
		
		$(data).find("juso").each(function(){
			htmlStr += "<li>";                                                            												
			htmlStr += "	<div class='radio only'>";                                                     				
			
			////[SR2303-02858(회원배송지정보오류수정)]우편번호 선택시 기본주소에 도로명 추가
			//htmlStr += "		<input type='radio' id='post_"+i+"' name='post' zip_no='"+$(this).find('zipNo').text()+"' jibun_addr='"+$(this).find('jibunAddr').text()+"' road_addr='"+$(this).find('roadAddrPart1').text()+"' bld_Nm='"+$(this).find('detBdNmList').text()+"' nnmb='"+$(this).find('bdMgtSn').text()+"' bjc='"+$(this).find('admCd').text()+"' nnmr='"+$(this).find('rnMgtSn').text()+"' onclick='selectPost(this);'>";
			htmlStr += " 		<input type='radio' id='post_"+i+"' name='post' zip_no='"+$(this).find('zipNo').text()+"' jibun_addr='"+$(this).find('jibunAddr').text()+"' road_addr='"+$(this).find('roadAddrPart1').text()+"' bld_Nm='"+$(this).find('detBdNmList').text()+"' nnmb='"+$(this).find('bdMgtSn').text()+"' bjc='"+$(this).find('admCd').text()+"' bdNm='"+$(this).find('bdNm').text()+"' nnmr='"+$(this).find('rnMgtSn').text()+"' onclick='selectPost(this);'>";
			
			htmlStr += "		<label for='post_"+i+"'>우편번호 선택</label>";
			htmlStr += "	</div>";
			htmlStr += "	<div class='num'>"+$(this).find('zipNo').text()+"</div>";
			htmlStr += "	<div class='info'>";
			htmlStr += "		<span class='txt'><span class='flag'>도로명</span>"+$(this).find('roadAddr').text()+"</span>";
			htmlStr += "		<span class='txt'><span class='flag'>지번</span>"+$(this).find('jibunAddr').text()+"</span>";
			htmlStr += "	</div>";
			htmlStr += "</li>";
			i++;
		});
		
		
		$("#postResultList").append(htmlStr);
	}
	
	// 스크롤 Refresh();
	designScroll();
}


/**
 * 행자부 리스트 페이징처리
 */
function pageMakeMoi(xmlStr){
	
	var total = $(xmlStr).find("totalCount").text(); // 총건수
	total = Number(total);
	var pageNum = $("#searchFrm input[name=currentPage]").val()// 현재페이지
	pageNum = Number(pageNum);
	var paggingStr = "";
	if(total < 1){
		return;
	}else{
		var PAGEBLOCK="10";
		PAGEBLOCK = Number(PAGEBLOCK);
		var pageSize=$("#searchFrm input[name=countPerPage]").val();
		pageSize = Number(pageSize);
		var totalPages = Math.floor((total-1)/pageSize) + 1;
		tatalPages = Number(totalPages);
		var firstPage = Math.floor((pageNum-1)/PAGEBLOCK) * PAGEBLOCK + 1;
		firstPage = Number(firstPage);
		if( firstPage <= 0 ) firstPage = 1;
		firstPage = Number(firstPage);
		var lastPage = firstPage-1 + PAGEBLOCK;
		lastPage = Number(lastPage);
		if( lastPage > totalPages ) lastPage = totalPages;		
		var nextPage = lastPage+1 ;
		lastPage = Number(lastPage);
		var prePage = firstPage-1 ;	
		prePage = Number(prePage);

		// 페이징처리 
		paggingStr += "<div class='paging' id='pageApi'>";
		paggingStr += "<a href='javascript:goPage(1);' class='btnPaging btnFirst'>first</a>";
		paggingStr += "<a href='javascript:goPrevPage("+pageNum+")' class='btnPaging btnPrev'>prev</a>";
		paggingStr += "<div class='number'>";

		for( i=1; i<=lastPage; i++ ){
			if( pageNum == i ){
				paggingStr += "<a href='javascript:goPage("+i+");' class='on'>" + i + "</a>";
			}else{
				paggingStr += "<a href='javascript:goPage("+i+");'>" + i + "</a>";
			}
		}
		
		paggingStr += "	</div>";
		paggingStr += "	<a href='javascript:goNextPage("+lastPage+")' class='btnPaging btnNext'>next</a>";
		paggingStr += "	<a href='javascript:goPage("+lastPage+");' class='btnPaging btnLast'>last</a>";
		paggingStr += "</div>";
				
		$("#pageApi").html(paggingStr);
	}
}

/**
 * 읍면동검색 버튼 이벤트.
 */
function btnDongSearch(){
	
	if( $("#keyword").val() == "" ){
		//검색어를 입력해주세요.
		alert("검색어를 입력해주세요.");
		$("#keyword").focus();
		return;
	}
	
	var currentPage = $("#currentPage").val() == "" || $("#currentPage").val() == undefined ? 1 : $("#currentPage").val();
	var options = {
		  url  : "/post/pageTyIntAddressZipListAjax"
		, data : { psvDong:$("#keyword").val(), rows:"100", page:currentPage }
		, done : function(args){
			makeListDongSearch(args.vo, args.totalCnt);
		}
	};
	ajax.call(options);
}

/**
 * 읍면동 리스트생성
 */
function makeListDongSearch(data, totalCnt){
	var htmlStr = "";
	var k = 1;
	var doroNm ="";
	var jibunNm ="";
	var zipSub = "";
	var dataList = data;
	
	if( totalCnt >= 1000 ){
		//주소를 상세히 입력해 주세요.
		displayAlertMessage(true, "검색결과가 너무 많습니다<br>상세한 주소정보를 입력해주세요.");
		alert("검색결과가 너무 많습니다<br>상세한 주소정보를 입력해주세요.");
		$("#keyword").focus();
		return;
	} else {
		
		if(dataList.length > 0){
			
			//리스트화면 및 페이징처리 화면노출
			displayAlertMessage(false);
			
			for(var i=0; i <dataList.length; i++){
				zipNoSub  = dataList[i].zip.substring(0,5);
				jibunAddr = getNodeValue(dataList[i].addr1) + " " + getNodeValue(dataList[i].addr2) + " " + getNodeValue(dataList[i].addr3);
				jibunAddrDetail = getNodeValue(dataList[i].addr4) + "&nbsp;" + getNodeValue(dataList[i].addr5);
				
				htmlStr += "<li>";                                                            												
				htmlStr += "	<div class='radio only'>";                                                     				
				htmlStr += "		<input type='radio' id='post_"+k+"' name='post' zip_no='"+dataList[i].zip+"' jibun_addr='"+jibunAddr+"' jibun_detail='"+dataList[i].addr4+"' bjc='"+dataList[i].bjc+"' onclick='selectPost(this);'>";
				htmlStr += "		<label for='post_"+k+"'>우편번호 선택</label>";
				htmlStr += "	</div>";
				htmlStr += "	<div class='num'>"+zipNoSub+"</div>";
				htmlStr += "	<div class='info'>";
				htmlStr += "		<span class='txt'><span class='flag'>도로명</span>"+jibunAddrDetail+"</span>";
				htmlStr += "		<span class='txt'><span class='flag'>지번</span>"+jibunAddr+"</span>";
				htmlStr += "	</div>";
				htmlStr += "</li>";
				
				k++;
			}
			
			$("#postResultList").append(htmlStr);
			
			//페이징생성
			pageMakeDongSearch(totalCnt);
			
		}else {
			//리스트화면 및 페이징화면숨기기
			displayAlertMessage(true);
		}
	}
	// 스크롤 Refresh();
	designScroll();
}

/**
 * 읍면동검색 페이지처리  
 */
function pageMakeDongSearch(totalCount){
	
	var total = totalCount == "" || totalCount == 'undefined' ? 0 : parseInt(totalCount); // 총건수
	total = Number(total);
	var pageNum = $("#searchFrm input[name=currentPage]").val();// 현재페이지
	pageNum = Number(pageNum);
	var paggingStr = "";
	if(total < 1){
		return;
	}else{
		var PAGEBLOCK='10';
		PAGEBLOCK = Number(PAGEBLOCK);
		var pageSize=$("#searchFrm input[name=countPerPage]").val();
		pageSize = Number(pageSize);
		var totalPages = Math.floor((total-1)/pageSize) + 1;
		tatalPages = Number(totalPages);
		var firstPage = Math.floor((pageNum-1)/PAGEBLOCK) * PAGEBLOCK + 1;
		firstPage = Number(firstPage);
		if( firstPage <= 0 ) firstPage = 1;
		firstPage = Number(firstPage);
		var lastPage = firstPage-1 + PAGEBLOCK;
		lastPage = Number(lastPage);
		if( lastPage > totalPages ) lastPage = totalPages;		
		var nextPage = lastPage+1 ;
		lastPage = Number(lastPage);
		var prePage = firstPage-1 ;	
		prePage = Number(prePage);

		// 페이징처리 
		paggingStr += "<div class='paging' id='pageApi'>";
		paggingStr += "<a href='javascript:goPage(1);' class='btnPaging btnFirst'>first</a>";
		paggingStr += "<a href='javascript:goPrevPage("+pageNum+")' class='btnPaging btnPrev'>prev</a>";
		paggingStr += "<div class='number'>";

		for( i=1; i<=lastPage; i++ ){
			if( pageNum == i ){
				paggingStr += "<a href='javascript:goPage("+i+");' class='on'>" + i + "</a>";
			}else{
				paggingStr += "<a href='javascript:goPage("+i+");'>" + i + "</a>";
			}
		}
		
		paggingStr += "	</div>";
		paggingStr += "	<a href='javascript:goNextPage("+lastPage+")' class='btnPaging btnNext'>next</a>";
		paggingStr += "	<a href='javascript:goPage("+lastPage+");' class='btnPaging btnLast'>last</a>";
		paggingStr += "</div>";
				
		$("#pageApi").html(paggingStr);
	}
}

/**
 * 확인 엔터키 적용.
 */
function enterReturnSearch() {
	var evt_code = (window.netscape) ? ev.which : event.keyCode;
	if (evt_code == 13) {    
		event.keyCode = 0;  
		btnSearchAddrEngin(); 
	} 
}

/**
 * 확인 버튼클릭 이벤트
 */
function btnSearchAddrEngin(){
	btnSearchAddr();
}


function checkUnInstallArea(zipCode){
	var options = {
		url : "/order/checkUnInstallArea",
		data : { "zipCode"  : zipCode },
		async: false,
		done : function(data){ 
				if(data.data == 'N'){  
					$("#checkUnInstallArea").val("N");
 				}else{
					$("#checkUnInstallArea").val("Y");
				}
			}
	};
	ajax.call(options);
}

/**
 * 확인 버튼 이벤트
 */
function btnSearchAddr(){
	if($("#addrZip").val() == ""){
		//주소를 선택해주세요.
		alert("주소를 선택해 주세요.");
		return false;
	}
	if($("#addrDtl").val() == ""){
		//상세주소를 입력해주세요.
		alert("상세주소를 입력해 주세요.");
		return false;
	}
	
	var paramZip = $("#addrZip").val();
	var paramZipS = $("#addrZipS").val();
	var paramDoroNm = $("#addr").val();
	var paramJibunNm = getNodeValue($("#ji_addr").val());
	var paramDoroNmDetail = $("#addrDtl").val();
	var paramBjc = $("#bjc").val();
	var paramNnmr = $("#nnmr").val();
	var paramNnmb = $("#nnmb").val();
	var paramDongBJC = $("#dongBJC").val();
	var paramjibunAddr1 = $("#jibunAddr1").val();
	var paramjibunAddrDeatil = $("#jibunAddrDeatil").val();
	var paramdoroAddr1 = $("#doroAddr1").val();
	var paramdoroAddrDeatil = $("#doroAddrDeatil").val();
	var parambldNm = $("#bldNm").val();

	checkUnInstallArea(paramZip);
	if($("#checkUnInstallArea").val()=="N"){
		alert("선택하신 주소지는 설치불가지역으로 주문이 어렵습니다.\n불편을 드려 죄송합니다. 더 좋은 제품과 서비스로 보답드리겠습니다.");
		return false;
	}

	if(paramDoroNmDetail.indexOf("#") != -1 || paramDoroNmDetail.indexOf(",") != -1 || paramDoroNmDetail.indexOf("&") != -1){
		alert("특수문자는 #,콤마(,),& 를 입력하실 수 없습니다.");
		$("#addrDtl").val("");
		$("#addrDtl").focus();
		return false;
	}
	
	$("#HiddenAtForm input[name=paramZip]").val(paramZip);
	$("#HiddenAtForm input[name=paramZipS]").val(paramZipS);
	$("#HiddenAtForm input[name=paramDoroNm]").val(paramDoroNm);
	$("#HiddenAtForm input[name=paramDoroNmDetail]").val(paramDoroNmDetail);
	$("#HiddenAtForm input[name=paramJibunNm]").val(paramJibunNm);
	$("#HiddenAtForm input[name=paramBjc]").val(paramBjc);
	$("#HiddenAtForm input[name=paramNnmr]").val(paramNnmr);
	$("#HiddenAtForm input[name=paramNnmb]").val(paramNnmb);
	$("#HiddenAtForm input[name=paramDongBJC]").val(paramDongBJC);
	$("#HiddenAtForm input[name=paramjibunAddr1]").val(paramjibunAddr1);
	$("#HiddenAtForm input[name=paramjibunAddrDeatil]").val(paramjibunAddrDeatil);
	$("#HiddenAtForm input[name=paramdoroAddr1]").val(paramdoroAddr1);
	$("#HiddenAtForm input[name=paramdoroAddrDeatil]").val(paramdoroAddrDeatil);
	$("#HiddenAtForm input[name=parambldNm]").val(parambldNm);
	
	var options = {
		  url  : "/post/rrfnCustCommonAddrListAjax"
		, data :  $("#HiddenAtForm").serializeJson()
		, done : function(args){
			try {
				btnSearchAddrCallback(args);
			}catch(e) {
				//최신 주소가 업데이트 되지 않았습니다.<br/>다시 검색하세요.
				displayAlertMessage(true, "최신 주소가 업데이트 되지 않았습니다.<br/>다시 검색하세요.");
				$("#keyword").focus();
			}
		}
	};
	ajax.call(options);
}

/**
 * [수지원넷]주소정제인스턴스 조회 후 처리
 */
function btnSearchAddrCallback(args) {
	var zprn    = getNodeValue(args.vo.paramZPRN)+""+ getNodeValue(args.vo.paramZPRNSJB);	//우편번호+우편일련번호
	var zprnsjb = args.vo.paramZPRNSJB;					//우편일련번호
	var addrb   = getNodeValue(args.vo.paramADDRB);		//구주소
	var bkft 	= getNodeValue(args.vo.paramBKFT); 		//구주소 번지
	var nadr 	= getNodeValue(args.vo.paramNADR1);		//신주소
	var nbka 	= getNodeValue(args.vo.paramNBKA); 		//신주소 번지
	var nabldNm = args.vo.paramDTLBLD; 					//건물명
	var doroCode= getNodeValue(args.vo.paramNNMR);		//법정동코드
	var nnmb 	= getNodeValue(args.vo.paramNNMB);		//건물관리번호
	var nadr3s 	= args.vo.paramNADR3S;					//도로명상세
	var pzprn 	= getNodeValue(args.vo.paramZPRN); 		//우편번호

	if(nabldNm == "" || nabldNm == null){
		nabldNm = "";
	}else{
		//건물명 , # & 값 replace하기..
		nabldNm = nabldNm.replace(/&/gi, "n");
		nabldNm = nabldNm.replace(/,/gi, ".");
		nabldNm = nabldNm.replace(/#/gi, ".");
	}

	if( nadr3s == "" || nadr3s == null ) {
		nadr3s = ".";
	} else {
		//상세주소 , # & 값 replace하기..
		nadr3s = nadr3s.replace(/&/gi, "n");
		nadr3s = nadr3s.replace(/,/gi, ".");
		nadr3s = nadr3s.replace(/#/gi, ".");
	}
	
	searchTyIntAddressBdcode(args.vo);
	/*
	2020.11.09 렌탈은 우편일련번호 zprnsjb 가 없고 GISX/GISY(위도, 경도)가 없을때 건물관리번호를 통한 주소정보검색(searchTyIntAddressBdcode)을 실행한다
	매직은 우편일련번호와 상관없이 주소정보검색을 실행한다
	
	if( zprnsjb == "" || zprnsjb == null ) {
		if(GISX == "" || GISX == null ||GISY == "" || GISY == null){ //ksa 좌표는 읍면동 상세주소 검증시 필요. 도로명은 거의다 있다고 함.
			//건물관리번호를 통한 주소정보검색
			searchTyIntAddressBdcode(args.vo);
		}
		else{
			setData(zprn, addrb, bkft, nadr, nbka, nabldNm, doroCode, nnmb, nadr3s);
		}
	} else {
		//성공
		setData(zprn, addrb, bkft, nadr, nbka, nabldNm, doroCode, nnmb, nadr3s);
	}
	*/
}

/**
 * 건물관리번호를 통한 주소정보검색
 */
function searchTyIntAddressBdcode(defaultData) {
	var options = {
		  url  : "/post/getTyIntAddressBdcodeAjax"
		, data :  { psvBdcode : defaultData.paramNNMB }
		, done : function(args){
			try {
				searchTyIntAddressBdcodeCallback(args, defaultData);
			}catch(e) {
				//최신 주소가 업데이트 되지 않았습니다.<br/>다시 검색하세요.
				displayAlertMessage(true, "최신 주소가 업데이트 되지 않았습니다.<br/>다시 검색하세요.");
				$("#keyword").focus();
			}
		}
	};
	ajax.call(options);
}

/**
 * 건물관리번호를 통한 주소정보검색 callback
 */
function searchTyIntAddressBdcodeCallback(args, defaultData) {

	if(args == null || args == undefined || args.vo == null || args.vo == undefined) {
		//최신 주소가 업데이트 되지 않았습니다.<br/>다시 검색하세요.
		displayAlertMessage(true, "최신 주소가 업데이트 되지 않았습니다.<br/>다시 검색하세요.");
		$("#keyword").focus();
		return;
	}
	
	var total2 	  = args.vo.length;
	var zprn2 	  = "";	//우편번호+우편일련번호
	var zprnsjb2  = "";	//우편일련번호
	var addrb2 	  = "";	//구주소
	var bkft2 	  = ""; //구주소 번지
	var nadr2	  = "";	//신주소
	var nbka2 	  = ""; //신주소 번지
	var nabldNm2  = ""; //건물명
	var doroCode2 = "";	//법정동코드
	var nnmb2 	  = "";	//건물관리번호
	var nadr3s2   = "";	//도로명상세
	
	if( total2 == 0 ){
		displayAlertMessage(true, "고객님의 보다 정확한 주소 검색을 위해 구주소(읍,면,동)로 입력하여 주세요.");
		alert('고객님의 보다 정확한 주소 검색을 위해 구주소(읍,면,동)로 입력하여 주세요.');
		$("#keyword").val('');
		$("#addrZip").val('');
		$("#dispaddr").val('');
		$("#addrDtl").val('');
		$("#keyword").focus();
		return;			
		//주소 검색이 되지 않았습니다. \n 그래도 사용하시겠습니까?
		/*
		if (confirm('주소 검색이 되지 않았습니다.\n그래도 사용하시겠습니까?')) {
			searchTyIntAddressZipFailList(defaultData);
		}
		*/
	} else {
		
		for( var i=0; i<total2; i++ ){
			//건물명 , # & 값 replace하기..
			//상세주소 , # & 값 replace하기..	
			zprn2    = args.vo[i].svcZip;
			addrb2   = args.vo[i].address;
			bkft2    = args.vo[i].oldBunji;
			nadr2    = args.vo[i].newAddress;
			nbka2    = args.vo[i].newBunji;
			nabldNm2 = args.vo[i].bdName;
			if(nabldNm2 == "" || nabldNm2 == null){
				if(defaultData.paramDTLBLD != "" && defaultData.paramDTLBLD != null){
					if(defaultData.paramDTLBLD.indexOf(",") < 0){
						nabldNm2 = defaultData.paramDTLBLD;	
					}
				}
				else{
					nabldNm2 = "";
				}
			} else {
				nabldNm2 = nabldNm2.replace(/&/gi, "n");
				nabldNm2 = nabldNm2.replace(/,/gi, ".");
				nabldNm2 = nabldNm2.replace(/#/gi, ".");
			}

			doroCode2 = args.vo[i].lawCode;
			nnmb2    = args.vo[i].bdCode;
			nadr3s2  = defaultData.paramNADR3S;
			if(nadr3s2 != "" && nadr3s2 != null) {
				nadr3s2  = nadr3s2.replace(/&/gi, "n");
				nadr3s2  = nadr3s2.replace(/,/gi, ".");
				nadr3s2  = nadr3s2.replace(/#/gi, ".");
			}
		}
		setData(zprn2, addrb2,bkft2,nadr2,nbka2,nabldNm2,doroCode2,nnmb2,nadr3s2);
	}
}

/**
 * 우편번호 및 법정동코드 통한 주소정보검색
 */
function searchTyIntAddressZipFailList(defaultData) {
	var options = {
		  url  : "/post/getTyIntAddressZipFailListAjax"
		, data :  { psvZip:defaultData.paramZPRN, psvBjc:defaultData.paramNNMR }
		, done : function(args){
			try {
				searchgTyIntAddressZipFailListCallback(args, defaultData);
			}catch(e) {
				//최신 주소가 업데이트 되지 않았습니다.<br/>다시 검색하세요.
				displayAlertMessage(true, "최신 주소가 업데이트 되지 않았습니다.<br/>다시 검색하세요.");
				$("#keyword").focus();
			}
		}
	};
	ajax.call(options);
}

/**
 * 우편번호 및 법정동코드 통한 주소정보조회 callback
 */
function searchgTyIntAddressZipFailListCallback(args, defaultData) {
	var total = args.vo.length;
	var zprn1 = "";						//우편번호+우편일련번호

	for( var i=0; i<total; i++ ){
		zprn1 = args.vo[i].zip;
	}
	if(zprn1 == "" || zprn1 == null){
		//우편일련번호가 없습니다. 다시 검색해주세요.
		displayAlertMessage(true, "우편일련번호가 없습니다. 다시 검색해주세요.");
		return;
	}else{
		var addrb1 = defaultData.paramADDRB;		//구주소
		var bkft1 = defaultData.paramBKFT; 			//구주소 번지
		var nadr1 = defaultData.paramNADR1;			//신주소
		var nbka1 = defaultData.paramNBKA; 			//신주소 번지
		var nabldNm1 = defaultData.paramDTLBLD; 	//건물명
		var doroCode1 = defaultData.paramNNMR;		//법정동코드
		var nnmb1 = defaultData.paramNNMB;			//건물관리번호
		var nadr3s1 = defaultData.paramNADR3S;		//도로명상세

		if(nabldNm1 == "" || nabldNm1 == null){
			nabldNm1 = "";
		}else{
			//건물명 , # & 값 replace하기..
			nabldNm1 = nabldNm1.replace(/&/gi, "n");
			nabldNm1 = nabldNm1.replace(/,/gi, ".");
			nabldNm1 = nabldNm1.replace(/#/gi, ".");
		}

		if(nadr3s1 == "" || nadr3s1 == null){
			nadr3s1 = ".";
		}else{
			//상세주소 , # & 값 replace하기..
			nadr3s1 = nadr3s1.replace(/&/gi, "n");
			nadr3s1 = nadr3s1.replace(/,/gi, ".");
			nadr3s1 = nadr3s1.replace(/#/gi, ".");
		}

		if(nnmb1 == "" || nnmb1 == null){
			nnmb1 = "9999999999999999999999999";
		}

		setData(zprn1, addrb1,bkft1,nadr1,nbka1,nabldNm1,doroCode1,nnmb1,nadr3s1);
	}	
}

/**
 * 확인 후 부모창 처리 데이터 셋팅
 */
function setData(param1,param2,param3,param4,param5,param6,param7,param8,param9) {		
	var result = new Object();
	result.param1 	= param1;	//우편번호+우편일련번호
	result.param2 	= param2;	//구주소
	result.param3 	= param3;	//구주소 번지
	result.param4 	= param4;	//신주소
	result.param5 	= param5;	//신주소 번지
	result.param6 	= param6;	//건물명
	result.param7 	= param7;	//법정동코드
	result.param8 	= param8;	//건물관리번호
	result.param9 	= param9;	//도로명상세
	
	//우편번호를 통한 관할부서정보 조회
	searchTyIntAddressZipDeptList(result);
}

/**
 * 우편번호를 통한 관할부서정보조회
 */
function searchTyIntAddressZipDeptList(result) {
	var options = {
		  url  : "/post/getTyIntAddressZipDeptListAjax"
		, data : { psvZip:result.param1 }
		, done : function(args){
			try {
				searchTyIntAddressZipDeptListCallback(args, result);
			} catch(e) {
				//최신 주소가 업데이트 되지 않았습니다.<br/>다시 검색하세요.
				displayAlertMessage(true, "최신 주소가 업데이트 되지 않았습니다.<br/>다시 검색하세요.");
				$("#keyword").focus();
			}
		}
	};
	ajax.call(options);
}

/**
 * 우편번호를 통한 관할부서정보조회 callback
 */
function searchTyIntAddressZipDeptListCallback(args, result) {
	var _deptCd = "";
	var _instDept = ""; //설치센터
	if(args != null && args != undefined && args.vo != null && args.vo.length > 0) {
		_deptCd = args.vo[0].deptCd;
		_instDept = args.vo[0].instDept;
	}
	
	result.deptCd = _deptCd;
	result.instDept = _instDept;
	postConfirmCallback(result);
}

/**
 * 부모창 결과값 반환
 */
function postConfirmCallback(result) {
	/* 
	result.param1 	= param1;	//우편번호+우편일련번호
	result.param2 	= param2;	//구주소
	result.param3 	= param3;	//구주소 번지
	result.param4 	= param4;	//신주소
	result.param5 	= param5;	//신주소 번지
	result.param6 	= param6;	//건물명
	result.param7 	= param7;	//법정동코드
	result.param8 	= param8;	//건물관리번호
	result.param9 	= param9;	//도로명상세
	 */
	var returnData = new Object();
	/* DB저장필드 START ************/
	returnData.postNo 	= result.param1;					//우편번호+우편일련번호
	returnData.addr 	= result.param2;					//구주소
	returnData.addrPrt 	= result.param3;					//구주소 번지
	// 접수번호 :276 상세주소 처리 khs
	var detailAddress = getNodeValue(result.param9) == "" ?  $("#addrDtl").val() : result.param9;

	returnData.addrDtl 	= getNodeValue(result.param6)=="" ? detailAddress : result.param6+" "+ detailAddress;	//주소건물명 + 상세주소
	returnData.bdCode 	= result.param8;					//코드건물관리번호
	returnData.bdName 	= result.param6;					//주소건물명
	returnData.roadAddrDtl = detailAddress;					//상세주소
	
	/* DB저장필드 E N D ************/
	
	/* display필드 START ************/
	var dispPostNo = result.param1;
	var dispAddr   = "";
	if(result.param4 != null && result.param4 != "") {
		//신주소(신주소 + 신주소번지 + 건물명)
		dispAddr = result.param4 + " " + result.param5 + " " + result.param6;		
	} else {
		//구주소(구주소 + 구주소번지 + 건물명)
		dispAddr = result.param2 + " " + result.param3 + " " + result.param6;
	}
	//var dispAddrDtl = result.param9;	//상세주소
	returnData.dispPostNo = dispPostNo;		// 우편주소
	returnData.dispAddr = dispAddr;			// 주소
	returnData.dispAddrDtl = detailAddress;	//상세주소
	/* display필드 E N D ************/
	
	if(result.instDept != null && result.instDept != "") {
		returnData.instDept = result.instDept;                  //설치센터
	}
	//우편일련번호는 반드시 존재해야한다.
	if( returnData.postNo != "undefined" && returnData.postNo !=null && returnData.postNo !="" ) {
		//오픈팝업 콜백함수명 가져오기
		var _callbackFncName = $("#layPostSearch").attr("_callbackfunctionName");
		//오픈팝업 콜백함수실행
		gfnCallCallbackFn(_callbackFncName, returnData);
	}
	
	// 팝업창닫기
	gfnPopupClose('layPostSearch');	
}

/**
 * 메세지 출력
 */
function displayAlertMessage(_boolean, _message) {
	if(_boolean) {
		if(_message == null || _message == 'undefined') {
			//검색 결과가 없습니다.
			_message = "검색 결과가 없습니다.<br>검색어를 다시 한번 확인해 주세요";
		}
		$("#noDataFoundMsg").html(_message);
		$("#noDataFoundMsgDiv").show();
		$("#postResultListDiv").hide();
		$("#pageApi").hide();
	} else {
		$("#noDataFoundMsgDiv").hide();
		$("#postResultListDiv").show();
		$("#pageApi").show();
	}
}

/**
 * 노드값 Null처리
 */
function getNodeValue(_node) {
	if(_node == null || _node == "undefined") return "";
	return _node;
}

/**
 * 문자길이체크
 */
function inputLengthCheck(eventInput){
	var inputText = $("#keyword").val();
	var inputMaxLength = $("#keyword").prop("maxlength");
	var j = 0;
	var count = 0;
	for( var i=0; i<inputText.length; i++ ) { 
		val = escape(inputText.charAt(i)).length; 
		if(val == 6){
			j++;
		}
		j++;
		if(j <= inputMaxLength){
			count++;
		}
	}
	if(j > inputMaxLength){
		$("#keyword").val(inputText.substr(0, count));
	}
}
</script> 

<!-- [우편번호 검색] 레이어 팝업 : s -->
<div class="layerPop" id="layPostSearch">
	<div class="dim"></div>
	<div class="layerPopArea">
		<!-- layerCont : s -->
		<div class="layerCont post">
			<h2 class="popTit">우편번호 찾기</h2>
			<p class="popTxt2">지번주소(동/읍/면/리), 도로명 또는 건물명(아파트)을 입력해주세요.</p>
			
			<form  id="searchFrm" name="searchFrm" class="postForm">
			<input type="hidden" name="currentPage" id="currentPage" value="1"/> <!-- 요청 변수 설정 (현재 페이지) -->
			<input type="hidden" name="countPerPage" value="100"/><!-- 요청 변수 설정 (페이지당 출력 개수) --> 
			<input type="hidden" name="confmKey" value="U01TX0FVVEgyMDE2MTIxMjE1MzE0NDE3Mjk1"/><!-- 요청 변수 설정 (승인키) -->
			<input type="hidden" name="lastPage" id="lastPage" value="1"/> <!-- 요청 변수 설정 (마지막페이지 페이지) -->
			
<!-- 180402 수정 -->
			<div class="postSearch">
				<span class="inputWrap">
 					<input type="text" id="keyword" name="keyword" value="" placeholder="예) 통일로 10 / 방배동 / 신정동 1276" style="width:365px;" maxlength="100" onblur="inputLengthCheck(this);" onkeydown="enterSearch();">	
  					<button type="button" class="btn bk btnLayer" id="btnSearch" onclick="btnSearchEngin();"><span>검색</span></button>
				</span>
			</div>
			</form>


			<!-- 검색결과 있는 경우 -->
			<div class="postResultWrap">
				<!-- 검색결과 없는 경우 -->
				<div class="icoMsg nothing" id="noDataFoundMsgDiv">
					<p id="noDataFoundMsg">검색 결과가 없습니다.</p>
				</div>
				<!-- //검색결과 없는 경우 -->
			
				<div class="list scrollbar" id="postResultListDiv">
					<ul class="postResultList" id="postResultList"></ul>
				</div>
				
				<!--paging : s -->
				<div class="paging" id="pageApi">
					<a href="#" class="btnPaging btnFirst">first</a>
					<a href="#" class="btnPaging btnPrev">prev</a>
					<div class="number">
						<a href="#" class="on">1</a>
					</div>
					<a href="#" class="btnPaging btnNext">next</a>
					<a href="#" class="btnPaging btnLast">last</a>
				</div>
				<!--paging : e -->
				
				<form  id="jusoSearchFrm" name="jusoSearchFrm" class="postForm">
				<input type="hidden" id="addrZipS" name="addrZipS" value="" />
				<input type="hidden" id="bjc" name="bjc" value="" />
				<input type="hidden" id="nnmr" name="nnmr" value="" />
				<input type="hidden" id="nnmb" name="nnmb" value="" />
				<input type="hidden" id="dongBJC" name="dongBJC" value="" />
				<input type="hidden" id="jibunAddr1" name="jibunAddr1" value="" />
				<input type="hidden" id="jibunAddrDeatil" name="jibunAddrDeatil" value="" />
				<input type="hidden" id="doroAddr1" name="doroAddr1" value="" />
				<input type="hidden" id="doroAddrDeatil" name="doroAddrDeatil" value="" />
				<input type="hidden" id="bldNm" name="bldNm" value="" />
				<input type="hidden" id="ji_addr" name="ji_addr" value="" /><!-- 기본주소 -->
				<input type="hidden" id="addr" name="addr" value="" /><!-- 도로명주소 -->
				 <input type="hidden" id="checkUnInstallArea" name="checkUnInstallArea" value="Y"> <!-- 설치불가능지역 체크 -->
				<div class="addrInfo">
					<p>상세주소를 모두 입력하신 후 "확인" 버튼을 눌러주세요.</p>
					<ul class="itemList form">
						<li>
							<em class="stit">기본 주소</em>
							<div class="cont">
								<span class="inputWrap">
									<input type="text" id="addrZip" name="addrZip" value="" style="width:69px;" disabled="disabled">
									<input type="text" id="dispaddr" name="dispaddr" value="" style="width:450px;" disabled="disabled">
								</span>
							</div>
						</li>
						<li>
							<em class="stit require">상세 주소</em>
							<div class="cont">
								<span class="inputWrap">
									<input type="text" value="" id="addrDtl" name="addrDtl" onkeydown="enterReturnSearch();">
								</span>
							</div>
						</li>
					</ul>
				</div>
				</form>
				
			</div>
			<!-- //검색결과 있는 경우 -->

			<div class="btnArea">
				<a href="#" class="btn btnLayerClose"><span>취소</span></a>
				<a href="javascript:btnSearchAddrEngin();" class="btn bk"><span>확인</span></a>
			</div>
		</div>
		<!-- layerCont : e -->
		<a href="#" class="btnClose02 btnLayerClose">레이어 팝업 닫기</a>
	</div>
</div>
<!-- [우편번호 검색] 레이어 팝업 : e -->

<!-- 수지원검색엔진조회 폼 -->
<form id="HiddenSrchAtForm" name="HiddenSrchAtForm" method="post" class="postForm">
	<input type="hidden" name="paramWord" id="paramWord">
	<input type="hidden" name="paramPgNm" id="paramPgNm">
</form>
<!-- 확인후 후처리폼 -->
<form name="HiddenAtForm" id="HiddenAtForm" method="post" class="postForm">
	<input type="hidden" name="paramZip">
	<input type="hidden" name="paramZipS">
	<input type="hidden" name="paramDoroNm">
	<input type="hidden" name="paramDoroNmDetail">
	<input type="hidden" name="paramJibunNm">
	<input type="hidden" name="paramBjc">
	<input type="hidden" name="paramNnmr">
	<input type="hidden" name="paramNnmb">
	<input type="hidden" name="paramDongBJC">
	<input type="hidden" name="paramjibunAddr1">
	<input type="hidden" name="paramjibunAddrDeatil">
	<input type="hidden" name="paramdoroAddr1">
	<input type="hidden" name="paramdoroAddrDeatil">
	<input type="hidden" name="parambldNm">
</form>
</body>
</html>
